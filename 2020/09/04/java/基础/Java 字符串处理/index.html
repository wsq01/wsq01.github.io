<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>Java 字符串处理 |  学海无涯</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?b1b5dee3bb1719c8a439f8070118dc80";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>


      <!-- <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script> -->
      <link href="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.css" rel="stylesheet">
      <script src="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-java/基础/Java 字符串处理"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Java 字符串处理
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/09/04/java/%E5%9F%BA%E7%A1%80/Java%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/" class="article-date">
  <time datetime="2020-09-04T08:54:42.000Z" itemprop="datePublished">2020-09-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">6k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">23 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="定义字符串"><a href="#定义字符串" class="headerlink" title="定义字符串"></a>定义字符串</h1><p>Java 没有内置的字符串类型，而是在标准 Java 类库中提供了一个<code>String</code>类来创建和操作字符串。</p>
<p>定义一个字符串最简单的方法是用双引号把它包围起来。这种用双引号括起来的一串字符实际上都是<code>String</code>对象，如字符串<code>“Hello”</code>在编译后即成为<code>String</code>对象。因此也可以通过创建<code>String</code>类的实例来定义字符串。</p>
<p>不论使用哪种形式创建字符串，字符串对象一旦被创建，其值是不能改变的，但可以使用其他变量重新赋值的方式进行更改。</p>
<h2 id="直接定义字符串"><a href="#直接定义字符串" class="headerlink" title="直接定义字符串"></a>直接定义字符串</h2><p>直接定义字符串是指使用双引号表示字符串中的内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello Java&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>注意：字符串变量必须经过初始化才能使用。</p>
<h2 id="使用-String-类定义"><a href="#使用-String-类定义" class="headerlink" title="使用 String 类定义"></a>使用 String 类定义</h2><p>在 Java 中每个双引号定义的字符串都是一个<code>String</code>类的对象。因此，可以通过使用<code>String</code>类的构造方法来创建字符串，该类位于<code>java.lang</code>包中。</p>
<p><code>String</code>类的构造方法有多种重载形式，每种形式都可以定义字符串。</p>
<ol>
<li><code>String()</code><br>初始化一个新创建的<code>String</code>对象，表示一个空字符序列。</li>
<li><code>String(String original)</code><br>初始化一个新创建的<code>String</code>对象，使其表示一个与参数相同的字符序列。换句话说，新创建的字符串是该参数字符串的副本。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hello Java&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(str1);</span><br></pre></td></tr></table></figure>
这里<code>str1</code>和<code>str2</code>的值是相等的。</li>
<li><code>String(char[] value)</code><br>分配一个新的字符串，将参数中的字符数组元素全部变为字符串。该字符数组的内容已被复制，后续对字符数组的修改不会影响新创建的字符串。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[] = &#123;<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;0&#x27;</span>&#125;;</span><br><span class="line"><span class="type">String</span> <span class="variable">sChar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">a[<span class="number">1</span>] = <span class="string">&#x27;s&#x27;</span>;</span><br></pre></td></tr></table></figure>
上述<code>sChar</code>变量的值是字符串<code>&quot;Hello&quot;</code>。 即使在创建字符串之后，对<code>a</code>数组中的第 2 个元素进行了修改，但未影响<code>sChar</code>的值。</li>
<li><code>String(char[] value,int offset,int count)</code><br>分配一个新的<code>String</code>，它包含来自该字符数组参数一个子数组的字符。<code>offset</code>参数是子数组第一个字符的索引，<code>count</code>参数指定子数组的长度。该子数组的内容已被赋值，后续对字符数组的修改不会影响新创建的字符串。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> a[]=&#123;<span class="string">&#x27;H&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;o&#x27;</span>&#125;;</span><br><span class="line">String sChar=<span class="keyword">new</span> <span class="title class_">String</span>(a,<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line">a[<span class="number">1</span>]=<span class="string">&#x27;s&#x27;</span>;</span><br></pre></td></tr></table></figure>
上述<code>sChar</code>变量的值是字符串<code>&quot;ello&quot;</code>。该构造方法使用字符数组中的部分连续元素来创建字符串对象。</li>
</ol>
<h1 id="String和int的相互转换"><a href="#String和int的相互转换" class="headerlink" title="String和int的相互转换"></a>String和int的相互转换</h1><h2 id="String转换为int"><a href="#String转换为int" class="headerlink" title="String转换为int"></a>String转换为int</h2><p><code>String</code>字符串转整型<code>int</code>有两种方式：</p>
<ul>
<li><code>Integer.parseInt(str)</code></li>
<li><code>Integer.valueOf(str).intValue()</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">  <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">  <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 第一种转换方法：Integer.parseInt(str)</span></span><br><span class="line">  n = Integer.parseInt(str);</span><br><span class="line">  System.out.println(<span class="string">&quot;Integer.parseInt(str) : &quot;</span> + n);</span><br><span class="line">  <span class="comment">// 第二种转换方法：Integer.valueOf(str).intValue()</span></span><br><span class="line">  n = <span class="number">0</span>;</span><br><span class="line">  n = Integer.valueOf(str).intValue();</span><br><span class="line">  System.out.println(<span class="string">&quot;Integer.parseInt(str) : &quot;</span> + n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出结果为：</span></span><br><span class="line"><span class="comment">//Integer.parseInt(str) : 123</span></span><br><span class="line"><span class="comment">//Integer.parseInt(str) : 123</span></span><br></pre></td></tr></table></figure>
<p>在<code>String</code>转换<code>int</code>时，<code>String</code>的值一定是整数，否则会报数字转换异常（<code>java.lang.NumberFormatException</code>）。</p>
<h2 id="int转换为String"><a href="#int转换为String" class="headerlink" title="int转换为String"></a>int转换为String</h2><p>整型<code>int</code>转<code>String</code>字符串类型有 3 种方法：</p>
<ul>
<li><code>String s = String.valueOf(i);</code></li>
<li><code>String s = Integer.toString(i);</code></li>
<li><code>String s = &quot;&quot; + i;</code></li>
</ul>
<p>使用第三种方法相对第一第二种耗时比较大。在使用第一种<code>valueOf()</code>方法时，注意<code>valueOf</code>括号中的值不能为空，否则会报空指针异常（<code>NullPointerException</code>）。</p>
<h2 id="valueOf-、parse-和toString"><a href="#valueOf-、parse-和toString" class="headerlink" title="valueOf() 、parse()和toString()"></a>valueOf() 、parse()和toString()</h2><h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h3><p><code>valueOf()</code>方法将数据的内部格式转换为可读的形式。它是一种静态方法，对于所有 Java 内置的类型，在字符串内被重载，以便每一种类型都能被转换成字符串。<code>valueOf()</code>方法还被类型<code>Object</code>重载，所以创建的任何形式类的对象也可被用作一个参数。这里是它的几种形式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(<span class="type">double</span> num)</span></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(<span class="type">long</span> num)</span></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(Object ob)</span></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(<span class="type">char</span> chars[])</span></span><br></pre></td></tr></table></figure>
<p>调用<code>valueOf()</code>方法可以得到其他类型数据的字符串形式——例如在进行连接操作时。对各种数据类型，可以直接调用这种方法得到合理的字符串形式。所有的简单类型数据转换成相应于它们的普通字符串形式。任何传递给<code>valueOf()</code>方法的对象都将返回对象的<code>toString()</code>方法调用的结果。事实上，也可以通过直接调用<code>toString()</code>方法而得到相同的结果。</p>
<p>对大多数数组，<code>valueOf()</code>方法返回一个相当晦涩的字符串，这说明它是一个某种类型的数组。然而对于字符数组，它创建一个包含了字符数组中的字符的字符串对象。<code>valueOf()</code>方法有一种特定形式允许指定字符数组的一个子集。</p>
<p>它具有如下的一般形式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> String <span class="title function_">valueOf</span><span class="params">(<span class="type">char</span> chars[], <span class="type">int</span> startIndex, <span class="type">int</span> numChars)</span></span><br></pre></td></tr></table></figure>
<p>这里<code>chars</code>是存放字符的数组，<code>startIndex</code>是字符数组中期望得到的子字符串的首字符下标，<code>numChars</code>指定子字符串的长度。</p>
<h3 id="parse"><a href="#parse" class="headerlink" title="parse()"></a>parse()</h3><p><code>parseXxx(String)</code>这种形式，是指把字符串转换为数值型，其中<code>Xxx</code>对应不同的数据类型，然后转换为<code>Xxx</code>指定的类型。</p>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p><code>toString()</code>可以把一个引用类型转换为<code>String</code>字符串类型，是 sun 公司开发 Java 的时候为了方便所有类的字符串操作而特意加入的一个方法。</p>
<h1 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h1><p><code>String</code>字符串虽然是不可变字符串，但也可以进行拼接只是会产生一个新的对象。<code>String</code>字符串拼接可以使用“+”运算符或<code>String</code>的<code>concat(String str)</code>方法。“+”运算符优势是可以连接任何类型数据拼接成为字符串，而<code>concat</code>方法只能拼接<code>String</code>类型字符串。</p>
<h2 id="使用连接运算符“-”"><a href="#使用连接运算符“-”" class="headerlink" title="使用连接运算符“+”"></a>使用连接运算符“+”</h2><p>Java 语言允许使用“+”号连接（拼接）两个字符串。在使用“+”运算符连接字符串和<code>int</code>型（或<code>double</code>型）数据时，“+”将<code>int</code>（或<code>double</code>）型数据自动转换成<code>String</code>类型。</p>
<p>只要“+”运算符的一个操作数是字符串，编译器就会将另一个操作数转换成字符串形式，所以应该谨慎地将其他数据类型与字符串相连，以免出现意想不到的结果。</p>
<h2 id="使用-concat-方法"><a href="#使用-concat-方法" class="headerlink" title="使用 concat() 方法"></a>使用 concat() 方法</h2><p><code>String</code>类的<code>concat()</code>方法实现了将一个字符串连接到另一个字符串的后面。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串 1.concat(字符串 2);</span><br></pre></td></tr></table></figure>
<p>执行结果是字符串 2 被连接到字符串 1 后面，形成新的字符串。</p>
<p><code>concat()</code>方法一次只能连接两个字符串，如果需要连接多个字符串，需要调用多次<code>concat()</code>方法。</p>
<h1 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a>获取字符串长度</h1><p>要获取字符串的长度，可以使用<code>String</code>类的<code>length()</code>方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串名.length();</span><br></pre></td></tr></table></figure>
<h1 id="字符串大小写转换"><a href="#字符串大小写转换" class="headerlink" title="字符串大小写转换"></a>字符串大小写转换</h1><p><code>String</code>类的<code>toLowerCase()</code>方法可以将字符串中的所有字符全部转换成小写，而非字母的字符不受影响。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串名.toLowerCase()    // 将字符串中的字母全部转换为小写，非字母不受影响</span><br></pre></td></tr></table></figure>
<p><code>toUpperCase()</code>则将字符串中的所有字符全部转换成大写，而非字母的字符不受影响。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串名.toUpperCase()    // 将字符串中的字母全部转换为大写，非字母不受影响</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String str=<span class="string">&quot;abcdef 我 ghijklmn&quot;</span>;</span><br><span class="line">System.out.println(str.toLowerCase());    <span class="comment">// 输出：abcdef 我 ghijklmn</span></span><br><span class="line">System.out.println(str.toUpperCase());    <span class="comment">// 输出：ABCDEF 我 GHIJKLMN</span></span><br></pre></td></tr></table></figure>
<h1 id="去除字符串中的空格"><a href="#去除字符串中的空格" class="headerlink" title="去除字符串中的空格"></a>去除字符串中的空格</h1><p><code>String</code>类的<code>trim()</code>方法能去掉字符串中的首尾空格。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串名.trim()</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot; hello &quot;</span>;</span><br><span class="line">System.out.println(str.length());    <span class="comment">// 输出 7</span></span><br><span class="line">System.out.println(str.trim().length());    <span class="comment">// 输出 5</span></span><br></pre></td></tr></table></figure>
<p>从该示例中可以看出，字符串中的每个空格占一个位置，直接影响了计算字符串的长度。</p>
<p>如果不确定要操作的字符串首尾是否有空格，最好在操作之前调用该字符串的<code>trim()</code>方法去除首尾空格，然后再对其进行操作。</p>
<p>注意：<code>trim()</code>只能去掉字符串中前后的半角空格（英文空格），而无法去掉全角空格（中文空格）。可用以下代码将全角空格替换为半角空格再进行操作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = str.replace((<span class="type">char</span>) <span class="number">12288</span>, <span class="string">&#x27; &#x27;</span>);    <span class="comment">// 将中文空格替换为英文空格</span></span><br><span class="line">str = str.trim();</span><br></pre></td></tr></table></figure>
<p>其中，12288 是中文全角空格的<code>unicode</code>编码。</p>
<h1 id="截取（提取）子字符串"><a href="#截取（提取）子字符串" class="headerlink" title="截取（提取）子字符串"></a>截取（提取）子字符串</h1><p>在<code>String</code>中提供了两个截取字符串的方法，一个是从指定位置截取到字符串结尾，另一个是截取指定范围的内容。</p>
<h2 id="1-substring-int-beginIndex-形式"><a href="#1-substring-int-beginIndex-形式" class="headerlink" title="1. substring(int beginIndex) 形式"></a>1. substring(int beginIndex) 形式</h2><p>此方式用于提取从索引位置开始至结尾处的字符串部分。调用时，括号中是需要提取字符串的开始位置，方法的返回值是提取的字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;我爱 Java 编程&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> str.substring(<span class="number">3</span>);</span><br><span class="line">System.out.println(result);    <span class="comment">// 输出：Java 编程</span></span><br></pre></td></tr></table></figure>
<h2 id="2-substring-int-beginIndex，int-endIndex-形式"><a href="#2-substring-int-beginIndex，int-endIndex-形式" class="headerlink" title="2. substring(int beginIndex，int endIndex) 形式"></a>2. substring(int beginIndex，int endIndex) 形式</h2><p><code>beginIndex</code>表示截取的起始索引，截取的字符串中包括起始索引对应的字符；<code>endIndex</code>表示结束索引，截取的字符串中不包括结束索引对应的字符，如果不指定<code>endIndex</code>，则表示截取到目标字符串末尾。该方法用于提取位置<code>beginIndex</code>和位置<code>endIndex</code>位置之间的字符串部分。</p>
<p>注意：<code>substring()</code>方法是按字符截取，而不是按字节截取。</p>
<h1 id="分割字符串"><a href="#分割字符串" class="headerlink" title="分割字符串"></a>分割字符串</h1><p><code>String</code>类的<code>split()</code>方法可以按指定的分割符对目标字符串进行分割，分割后的内容存放在字符串数组中。该方法主要有如下两种重载形式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str.split(String sign)</span><br><span class="line">str.split(String sign,<span class="type">int</span> limit)</span><br></pre></td></tr></table></figure>
<p>其中它们的含义如下：</p>
<ul>
<li><code>str</code>为需要分割的目标字符串。</li>
<li><code>sign</code>为指定的分割符，可以是任意字符串。</li>
<li><code>limit</code>表示分割后生成的字符串的限制个数，如果不指定，则表示不限制，直到将整个目标字符串完全分割为止。</li>
</ul>
<p>使用分隔符注意如下：</p>
<p>1）“.”和“|”都是转义字符，必须得加“\\”。<br>如果用“.”作为分隔的话，必须写成<code>String.split(&quot;\\.&quot;)</code>，这样才能正确的分隔开，不能用<code>String.split(&quot;.&quot;)</code>。<br>如果用“|”作为分隔的话，必须写成<code>String.split(&quot;\\|&quot;)</code>，这样才能正确的分隔开，不能用<code>String.split(&quot;|&quot;)</code>。</p>
<p>2）如果在一个字符串中有多个分隔符，可以用“|”作为连字符，比如：<code>“acount=? and uu =? or n=?”</code>，把三个都分隔出来，可以用<code>String.split(&quot;and|or&quot;)</code>。</p>
<h1 id="字符串的替换"><a href="#字符串的替换" class="headerlink" title="字符串的替换"></a>字符串的替换</h1><p><code>String</code>类提供了 3 种字符串替换方法，分别是<code>replace()、replaceFirst()</code>和<code>replaceAll()</code>。</p>
<h2 id="replace-方法"><a href="#replace-方法" class="headerlink" title="replace() 方法"></a>replace() 方法</h2><p><code>replace()</code>方法用于将目标字符串中的指定字符（串）替换成新的字符（串）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串.replace(String oldChar, String newChar)</span><br></pre></td></tr></table></figure>
<p>其中，<code>oldChar</code>表示被替换的字符串；<code>newChar</code>表示用于替换的字符串。<code>replace()</code>方法会将字符串中所有<code>oldChar</code>替换成<code>newChar</code>。</p>
<h2 id="replaceFirst-方法"><a href="#replaceFirst-方法" class="headerlink" title="replaceFirst() 方法"></a>replaceFirst() 方法</h2><p><code>replaceFirst()</code>方法用于将目标字符串中匹配某正则表达式的第一个子字符串替换成新的字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串.replaceFirst(String regex, String replacement)</span><br></pre></td></tr></table></figure>
<p>其中，<code>regex</code>表示正则表达式；<code>replacement</code>表示用于替换的字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span> <span class="string">&quot;hello java，hello php&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">newStr</span> <span class="operator">=</span> words.replaceFirst(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;你好 &quot;</span>);</span><br><span class="line">System.out.println(newStr);    <span class="comment">// 输出：你好 java,hello php</span></span><br></pre></td></tr></table></figure>
<h2 id="replaceAll-方法"><a href="#replaceAll-方法" class="headerlink" title="replaceAll() 方法"></a>replaceAll() 方法</h2><p><code>replaceAll()</code>方法用于将目标字符串中匹配某正则表达式的所有子字符串替换成新的字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串.replaceAll(String regex, String replacement)</span><br></pre></td></tr></table></figure>
<p>其中，<code>regex</code>表示正则表达式，<code>replacement</code>表示用于替换的字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span> <span class="string">&quot;hello java，hello php&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">newStr</span> <span class="operator">=</span> words.replaceAll(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;你好 &quot;</span>);</span><br><span class="line">System.out.println(newStr);    <span class="comment">// 输出：你好 java,你好 php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 定义原始字符串</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">intro</span> <span class="operator">=</span> <span class="string">&quot;今天时星其天，外面时下雨天。妈米去买菜了，漏网在家写作业。&quot;</span> + <span class="string">&quot;语文作业时”其”写 5 行，数学使第 10 页。&quot;</span>;</span><br><span class="line">    <span class="comment">// 将文本中的所有&quot;时&quot;和&quot;使&quot;都替换为&quot;是&quot;</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">newStrFirst</span> <span class="operator">=</span> intro.replaceAll(<span class="string">&quot;[时使]&quot;</span>, <span class="string">&quot;是&quot;</span>);</span><br><span class="line">    <span class="comment">// 将文本中的所有&quot;妈米&quot;改为&quot;妈妈&quot;</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">newStrSecond</span> <span class="operator">=</span> newStrFirst.replaceAll(<span class="string">&quot;妈米&quot;</span>, <span class="string">&quot;妈妈&quot;</span>);</span><br><span class="line">    <span class="comment">// 将文本中的所有&quot;漏网&quot;改为&quot;留我&quot;</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">newStrThird</span> <span class="operator">=</span> newStrSecond.replaceAll(<span class="string">&quot;漏网&quot;</span>, <span class="string">&quot;留我&quot;</span>);</span><br><span class="line">    <span class="comment">// 将文本中第一次出现的&quot;其&quot;改为&quot;期&quot;</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">newStrFourth</span> <span class="operator">=</span> newStrThird.replaceFirst(<span class="string">&quot;[其]&quot;</span>, <span class="string">&quot;期&quot;</span>);</span><br><span class="line">    <span class="comment">// 输出最终字符串</span></span><br><span class="line">    System.out.println(newStrFourth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行该程序，输出的正确字符串内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">今天是星期天，外面是下雨天。妈妈去买菜了，留我在家写作业。语文作业是”其”写 5 行，数学是第 10 页。</span><br></pre></td></tr></table></figure>
<h1 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h1><p>比较字符串的常用方法有 3 个：<code>equals()</code>、<code>equalsIgnoreCase()</code>、<code>compareTo()</code>。</p>
<h2 id="equals-方法"><a href="#equals-方法" class="headerlink" title="equals() 方法"></a>equals() 方法</h2><p><code>equals()</code>方法将逐个地比较两个字符串的每个字符是否相同。如果两个字符串具有相同的字符和长度，它返回<code>true</code>，否则返回<code>false</code>。对于字符的大小写，也在检查的范围之内。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str1.equals(str2);</span><br></pre></td></tr></table></figure>
<p><code>str1</code>和<code>str2</code>可以是字符串变量，也可以是字符串字面量。例如，下列表达式是合法的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Hello&quot;</span>.equals(greeting)</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="string">&quot;ABC&quot;</span>;</span><br><span class="line">System.out.println(str1.equals(str2)); <span class="comment">// 输出 true</span></span><br><span class="line">System.out.println(str1.equals(str3)); <span class="comment">// 输出 false</span></span><br></pre></td></tr></table></figure>
<h2 id="equalsIgnoreCase-方法"><a href="#equalsIgnoreCase-方法" class="headerlink" title="equalsIgnoreCase() 方法"></a>equalsIgnoreCase() 方法</h2><p><code>equalsIgnoreCase()</code>方法的作用和语法与<code>equals()</code>方法完全相同，唯一不同的是<code>equalsIgnoreCase()</code>比较时不区分大小写。当比较两个字符串时，它会认为<code>A-Z</code>和<code>a-z</code>是一样的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;ABC&quot;</span>;</span><br><span class="line">System.out.println(str1.equalsIgnoreCase(str2));    <span class="comment">// 输出 true</span></span><br></pre></td></tr></table></figure>
<h2 id="equals-与-x3D-x3D-的比较"><a href="#equals-与-x3D-x3D-的比较" class="headerlink" title="equals()与&#x3D;&#x3D;的比较"></a>equals()与&#x3D;&#x3D;的比较</h2><p><code>equals()</code>方法比较字符串对象中的字符。而&#x3D;&#x3D;运算符比较两个对象引用看它们是否引用相同的实例。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(s1);</span><br><span class="line">System.out.println(s1.equals(s2)); <span class="comment">// 输出true</span></span><br><span class="line">System.out.println(s1 == s2); <span class="comment">// 输出false</span></span><br></pre></td></tr></table></figure>
<p>变量<code>s1</code>指向由<code>Hello</code>创建的字符串实例。<code>s2</code>所指的的对象是以<code>s1</code>作为初始化而创建的。因此这两个字符串对象的内容是一样的。但它们是不同的对象，这就意味着<code>s1</code>和<code>s2</code>没有指向同一的对象，因此它们是不<code>==</code>的。</p>
<p>因此，千万不要使用<code>==</code>运算符测试字符串的相等性，以免在程序中出现糟糕的 bug。从表面上看，这种 bug 很像随机产生的间歇性错误。</p>
<h2 id="compareTo-方法"><a href="#compareTo-方法" class="headerlink" title="compareTo() 方法"></a>compareTo() 方法</h2><p>通常，仅仅知道两个字符串是否相同是不够的。对于排序应用来说，必须知道一个字符串是大于、等于还是小于另一个。一个字符串小于另一个指的是它在字典中先出现。而一个字符串大于另一个指的是它在字典中后出现。字符串（<code>String</code>）的<code>compareTo()</code>方法实现了这种功能。</p>
<p><code>compareTo()</code>方法用于按字典顺序比较两个字符串的大小，该比较是基于字符串各个字符的 Unicode 值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.compareTo(String otherstr);</span><br></pre></td></tr></table></figure>
<p>它会按字典顺序将<code>str</code>表示的字符序列与<code>otherstr</code>参数表示的字符序列进行比较。如果按字典顺序<code>str</code>位于<code>otherster</code>参数之前，比较结果为一个负整数；如果<code>str</code>位于<code>otherstr</code>之后，比较结果为一个正整数；如果两个字符串相等，则结果为 0。</p>
<p>提示：如果两个字符串调用<code>equals()</code>方法返回<code>true</code>，那么调用<code>compareTo()</code>方法会返回 0。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;A&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;str=&quot;</span> + str);</span><br><span class="line">    System.out.println(<span class="string">&quot;str1=&quot;</span> + str1);</span><br><span class="line">    System.out.println(<span class="string">&quot;str.compareTo(str1)的结果是：&quot;</span> + str.compareTo(str1));</span><br><span class="line">    System.out.println(<span class="string">&quot;str1.compareTo(str)的结果是：&quot;</span> + str1.compareTo(str));</span><br><span class="line">    System.out.println(<span class="string">&quot;str1.compareTo(&#x27;a&#x27;)的结果是：&quot;</span> + str1.compareTo(<span class="string">&quot;a&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行后的输出结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str = A</span><br><span class="line">str1 = a</span><br><span class="line">str.compareTo(str1)的结果是：-32</span><br><span class="line">str1.compareTo(str)的结果是：32</span><br><span class="line">str1.compareTo(&#x27;a&#x27;)的结果是：0</span><br></pre></td></tr></table></figure>
<h1 id="字符串查找"><a href="#字符串查找" class="headerlink" title="字符串查找"></a>字符串查找</h1><p>在给定的字符串中查找字符或字符串是比较常见的操作。字符串查找分为两种形式：一种是在字符串中获取匹配字符（串）的索引值，另一种是在字符串中获取指定索引位置的字符。</p>
<h2 id="根据字符查找"><a href="#根据字符查找" class="headerlink" title="根据字符查找"></a>根据字符查找</h2><p><code>String</code>类的<code>indexOf()</code>方法和<code>lastlndexOf()</code>方法用于在字符串中获取匹配字符（串）的索引值。</p>
<h3 id="1-indexOf-方法"><a href="#1-indexOf-方法" class="headerlink" title="1. indexOf() 方法"></a>1. indexOf() 方法</h3><p><code>indexOf()</code>方法用于返回字符（串）在指定字符串中首次出现的索引位置，如果能找到，则返回索引值，否则返回 -1。该方法主要有两种重载形式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str.indexOf(value)</span><br><span class="line">str.indexOf(value,<span class="type">int</span> fromIndex)</span><br></pre></td></tr></table></figure>
<p>其中，<code>str</code>表示指定字符串；<code>value</code>表示待查找的字符（串）；<code>fromIndex</code>表示查找时的起始索引，如果不指定<code>fromIndex</code>，则默认从指定字符串中的开始位置（即<code>fromIndex</code>默认为 0）开始查找。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;Hello Java&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> s.indexOf(<span class="string">&#x27;v&#x27;</span>);    <span class="comment">// size的结果为8</span></span><br></pre></td></tr></table></figure>
<h3 id="2-lastlndexOf-方法"><a href="#2-lastlndexOf-方法" class="headerlink" title="2. lastlndexOf() 方法"></a>2. lastlndexOf() 方法</h3><p><code>lastIndexOf()</code>方法用于返回字符（串）在指定字符串中最后一次出现的索引位置，如果能找到则返回索引值，否则返回 -1。该方法也有两种重载形式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str.lastIndexOf(value)</span><br><span class="line">str.lastlndexOf(value, <span class="type">int</span> fromIndex)</span><br></pre></td></tr></table></figure>
<p>注意：<code>lastIndexOf()</code>方法的查找策略是从右往左查找，如果不指定起始索引，则默认从字符串的末尾开始查找。</p>
<h2 id="根据索引查找"><a href="#根据索引查找" class="headerlink" title="根据索引查找"></a>根据索引查找</h2><p><code>String</code>类的<code>charAt()</code>方法可以在字符串内根据指定的索引查找字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串名.charAt(索引值)</span><br></pre></td></tr></table></figure>
<p>提示：字符串本质上是字符数组，因此它也有索引，索引从零开始。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">words</span> <span class="operator">=</span> <span class="string">&quot;today,monday,sunday&quot;</span>;</span><br><span class="line">System.out.println(words.charAt(<span class="number">0</span>));    <span class="comment">// 结果：t</span></span><br><span class="line">System.out.println(words.charAt(<span class="number">1</span>));    <span class="comment">// 结果：o</span></span><br><span class="line">System.out.println(words.charAt(<span class="number">8</span>));    <span class="comment">// 结果：n</span></span><br></pre></td></tr></table></figure>
<h1 id="StringBuffer类"><a href="#StringBuffer类" class="headerlink" title="StringBuffer类"></a>StringBuffer类</h1><p>在 Java 中，除了通过<code>String</code>类创建和处理字符串之外，还可以使用<code>StringBuffer</code>类来处理字符串。<code>StringBuffer</code>类可以比<code>String</code>类更高效地处理字符串。</p>
<p>因为<code>StringBuffer</code>类是可变字符串类，创建<code>StringBuffer</code>类的对象后可以随意修改字符串的内容。每个<code>StringBuffer</code>类的对象都能够存储指定容量的字符串，如果字符串的长度超过了<code>StringBuffer</code>类对象的容量，则该对象的容量会自动扩大。</p>
<h2 id="创建-StringBuffer-类"><a href="#创建-StringBuffer-类" class="headerlink" title="创建 StringBuffer 类"></a>创建 StringBuffer 类</h2><p><code>StringBuffer</code>类提供了 3 个构造方法来创建一个字符串：</p>
<ul>
<li><code>StringBuffer()</code>构造一个空的字符串缓冲区，并且初始化为 16 个字符的容量。</li>
<li><code>StringBuffer(int length)</code>创建一个空的字符串缓冲区，并且初始化为指定长度<code>length</code>的容量。</li>
<li><code>StringBuffer(String str)</code>创建一个字符串缓冲区，并将其内容初始化为指定的字符串内容<code>str</code>，字符串缓冲区的初始容量为 16 加上字符串<code>str</code>的长度。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个空的字符串缓冲区，含有16个字符的容量</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line"><span class="comment">// 定义一个含有10个字符容量的字符串缓冲区</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// 定义一个含有(16+4)的字符串缓冲区，&quot;青春无悔&quot;为4个字符</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;青春无悔&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*输出字符串的容量大小</span></span><br><span class="line"><span class="comment">*capacity()方法返回字符串的容量大小</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">System.out.println(str1.capacity());    <span class="comment">// 输出 16</span></span><br><span class="line">System.out.println(str2.capacity());    <span class="comment">// 输出 10</span></span><br><span class="line">System.out.println(str3.capacity());    <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure>
<h2 id="追加字符串"><a href="#追加字符串" class="headerlink" title="追加字符串"></a>追加字符串</h2><p><code>StringBuffer</code>类的<code>append()</code>方法用于向原有<code>StringBuffer</code>对象中追加字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象.append(String str)</span><br></pre></td></tr></table></figure>
<p>该方法的作用是追加内容到当前<code>StringBuffer</code>对象的末尾，类似于字符串的连接。调用该方法以后，<code>StringBuffer</code>对象的内容也发生了改变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hello,&quot;</span>);    <span class="comment">// 创建一个 StringBuffer 对象</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;World!&quot;</span>;</span><br><span class="line">buffer.append(str);    <span class="comment">// 向 StringBuffer 对象追加 str 字符串</span></span><br><span class="line">System.out.println(buffer.substring(<span class="number">0</span>));    <span class="comment">// 输出：Hello,World!</span></span><br></pre></td></tr></table></figure>
<h2 id="替换字符"><a href="#替换字符" class="headerlink" title="替换字符"></a>替换字符</h2><p><code>StringBuffer</code>类的<code>setCharAt()</code>方法用于在字符串的指定索引位置替换一个字符。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer 对象.setCharAt(int index, char ch);</span><br></pre></td></tr></table></figure>
<p>该方法的作用是修改对象中索引值为<code>index</code>位置的字符为新的字符<code>ch</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">sb.setCharAt(<span class="number">1</span>,<span class="string">&#x27;E&#x27;</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：hEllo</span></span><br><span class="line">sb.setCharAt(<span class="number">0</span>,<span class="string">&#x27;H&#x27;</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：HEllo</span></span><br><span class="line">sb.setCharAt(<span class="number">2</span>,<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：HEplo</span></span><br></pre></td></tr></table></figure>
<h2 id="反转字符串"><a href="#反转字符串" class="headerlink" title="反转字符串"></a>反转字符串</h2><p><code>StringBuffer</code>类中的<code>reverse()</code>方法用于将字符串序列用其反转的形式取代。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer 对象.reverse();</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">sb.reverse();</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：avaj</span></span><br></pre></td></tr></table></figure>
<h2 id="删除字符串"><a href="#删除字符串" class="headerlink" title="删除字符串"></a>删除字符串</h2><p><code>StringBuffer</code>类提供了<code>deleteCharAt()</code>和<code>delete()</code>两个删除字符串的方法。</p>
<ol>
<li><code>deleteCharAt()</code>方法<br><code>deleteCharAt()</code>方法用于移除序列中指定位置的字符。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer 对象.deleteCharAt(int index);</span><br></pre></td></tr></table></figure>
<code>deleteCharAt()</code>方法的作用是删除指定位置的字符，然后将剩余的内容形成一个新的字符串。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;She&quot;</span>);</span><br><span class="line">sb.deleteCharAt(<span class="number">2</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：Sh</span></span><br></pre></td></tr></table></figure></li>
<li><code>delete()</code>方法<br><code>delete()</code>方法用于移除序列中子字符串的字符。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">StringBuffer 对象.delete(int start,int end);</span><br></pre></td></tr></table></figure>
其中，<code>start</code>表示要删除字符的起始索引值（包括索引值所对应的字符），<code>end</code>表示要删除字符串的结束索引值（不包括索引值所对应的字符）。该方法的作用是删除指定区域以内的所有字符。<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="string">&quot;hello jack&quot;</span>);</span><br><span class="line">sb.delete(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：he jack</span></span><br><span class="line">sb.delete(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">System.out.println(sb);    <span class="comment">// 输出：heck</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="String、StringBuffer和StringBuilder类的区别"><a href="#String、StringBuffer和StringBuilder类的区别" class="headerlink" title="String、StringBuffer和StringBuilder类的区别"></a>String、StringBuffer和StringBuilder类的区别</h1><p>在 Java 中字符串属于对象，Java 提供了<code>String</code>类来创建和操作字符串。<code>String</code>类是不可变类，即一旦一个<code>String</code>对象被创建以后，包含在这个对象中的字符序列是不可改变的，直至这个对象被销毁。</p>
<p>Java 提供了两个可变字符串类<code>StringBuffer</code>和<code>StringBuilder</code>，中文翻译为“字符串缓冲区”。</p>
<p><code>StringBuilder</code>类也代表可变字符串对象。实际上，<code>StringBuilder</code>和<code>StringBuffer</code>功能基本相似，方法也差不多。不同的是，<code>StringBuffer</code>是线程安全的，而<code>StringBuilder</code>则没有实现线程安全功能，所以性能略高。因此在通常情况下，如果需要创建一个内容可变的字符串对象，则应该优先考虑使用<code>StringBuilder</code>类。</p>
<p><code>StringBuffer、StringBuilder、String</code>中都实现了<code>CharSequence</code>接口。<code>CharSequence</code>是一个定义字符串操作的接口，它只包括<code>length()、charAt(int index)、subSequence(int start, int end)</code>这几个 API。</p>
<p><code>StringBuffer、StringBuilder、String</code>对<code>CharSequence</code>接口的实现过程不一样：</p>
<img src="/2020/09/04/java/%E5%9F%BA%E7%A1%80/Java%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/11.png" class="" title="对CharSequence接口的实现">

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><code>String</code>是 Java 中基础且重要的类，被声明为<code>final class</code>，是不可变字符串。因为它的不可变性，所以拼接字符串时候会产生很多无用的中间对象，如果频繁的进行这样的操作对性能有所影响。</p>
<p><code>StringBuffer</code>就是为了解决大量拼接字符串时产生很多中间对象问题而提供的一个类。它提供了<code>append</code>和<code>add</code>方法，可以将字符串添加到已有序列的末尾或指定位置，它的本质是一个线程安全的可修改的字符序列。</p>
<p>在很多情况下我们的字符串拼接操作不需要线程安全，所以<code>StringBuilder</code>登场了。<code>StringBuilder</code>和<code>StringBuffer</code>本质上没什么区别，就是去掉了保证线程安全的那部分，减少了开销。</p>
<p>线程安全：</p>
<ul>
<li><code>StringBuffer</code>：线程安全</li>
<li><code>StringBuilder</code>：线程不安全</li>
</ul>
<p>速度：<br>一般情况下，速度从快到慢为<code>StringBuilder &gt; StringBuffer &gt; String</code>，当然这是相对的，不是绝对的。</p>
<p>使用环境：</p>
<ul>
<li>操作少量的数据使用<code>String</code>。</li>
<li>单线程操作大量数据使用<code>StringBuilder</code>。</li>
<li>多线程操作大量数据使用<code>StringBuffer</code>。</li>
</ul>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2020/09/04/java/%E5%9F%BA%E7%A1%80/Java%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2020/09/05/java/%E5%9F%BA%E7%A1%80/Java%E6%95%B0%E5%AD%97%E5%A4%84%E7%90%86/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Java 数字处理
          
        </div>
      </a>
    
    
      <a href="/2020/09/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%89%A9%E7%90%86%E5%B1%82%E2%80%94%E2%80%94%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">物理层——基础知识</div>
      </a>
    
  </nav>

  
   
  
    
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2017-2023
        <i class="ri-heart-fill heart_icon"></i> WSQ
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="学海无涯"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>复制</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>