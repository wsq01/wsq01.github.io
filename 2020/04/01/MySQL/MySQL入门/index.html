<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>MySQL入门 |  学海无涯</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?b1b5dee3bb1719c8a439f8070118dc80";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>


      <!-- <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script> -->
      <link href="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.css" rel="stylesheet">
      <script src="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-MySQL/MySQL入门"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  MySQL入门
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/01/MySQL/MySQL%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2020-04-01T09:12:01.000Z" itemprop="datePublished">2020-04-01</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a> / <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">8.5k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">30 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="数据库是什么"><a href="#数据库是什么" class="headerlink" title="数据库是什么"></a>数据库是什么</h1><p>数据库（<code>Database</code>）指长期存储在计算机内的、有组织的、可共享的数据集合。通俗的讲，数据库就是存储数据的地方。</p>
<p>数据库实际上就是一个文件集合，是一个存储数据的仓库，本质就是一个文件系统，数据库是按照特定的格式把数据存储起来，用户可以对存储的数据进行增删改查操作。</p>
<p>在日常生活中，人们可以直接用中文、英文等自然语言描述客观事物。在计算机中，则要抽象出对这些事物感兴趣的特征，并组成一个记录来描述。</p>
<p>数据库管理系统（DBMS）是数据库系统的核心软件之一，是位于用户与操作系统之间的数据管理软件，用于建立，使用和维护数据库。它的主要功能包括数据定义、数据操作、数据库的运行管理、数据库的建立和维护等几个方面。</p>
<p>我们常说 XX 数据库，其实实质上是 XX 数据库管理系统。</p>
<p>数据库有两种类型，分别是关系型数据库和非关系型数据库。</p>
<h2 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h2><p>关系型数据库是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。简单说，关系型数据库是由多张能互相连接的表组成的数据库。</p>
<p>优点：</p>
<ul>
<li>都是使用表结构，格式一致，易于维护。</li>
<li>使用通用的 SQL 语言操作，使用方便，可用于复杂查询。</li>
<li>数据存储在磁盘中，安全。</li>
</ul>
<p>缺点：</p>
<ul>
<li>读写性能比较差，不能满足海量数据的高效率读写。</li>
<li>不节省空间。因为建立在关系模型上，就要遵循某些规则，比如数据中某字段值即使为空仍要分配空间。</li>
<li>固定的表结构，灵活度较低。</li>
</ul>
<p>常见的关系型数据库有 Oracle、DB2、PostgreSQL、Microsoft SQL Server、Microsoft Access 和 MySQL 等。</p>
<h2 id="非关系型数据库"><a href="#非关系型数据库" class="headerlink" title="非关系型数据库"></a>非关系型数据库</h2><p>非关系型数据库又被称为 NoSQL（Not Only SQL )，意为不仅仅是 SQL。通常指数据以对象的形式存储在数据库中，而对象之间的关系通过每个对象自身的属性来决定。</p>
<p>优点：</p>
<ul>
<li>非关系型数据库存储数据的格式可以是 key-value 形式、文档形式、图片形式等。使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。</li>
<li>速度快，效率高。 NoSQL 可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘。</li>
<li>海量数据的维护和处理非常轻松。</li>
<li>非关系型数据库具有扩展简单、高并发、高稳定性、成本低廉的优势。</li>
<li>可以实现数据的分布式处理。</li>
</ul>
<p>缺点：</p>
<ul>
<li>非关系型数据库暂时不提供 SQL 支持，学习和使用成本较高。</li>
<li>非关系数据库没有事务处理，没有保证数据的完整性和安全性。适合处理海量数据，但是不一定安全。</li>
<li>功能没有关系型数据库完善。</li>
</ul>
<p>常见的非关系型数据库有 Neo4j、MongoDB、Redis、Memcached、MemcacheDB 和 HBase 等。</p>
<h1 id="数据库系统是什么"><a href="#数据库系统是什么" class="headerlink" title="数据库系统是什么"></a>数据库系统是什么</h1><p>数据库系统（Database System，DBS）由硬件和软件共同构成。硬件主要用于存储数据库中的数据，包括计算机、存储设备等。软件部分主要包括数据库管理系统、支持数据库管理系统运行的操作系统，以及支持多种语言进行应用开发的访问技术等。</p>
<p>数据库系统是指在计算机系统中引入数据库后的系统。完整的数据库系统结构关系如图所示：</p>
<img src="/2020/04/01/MySQL/MySQL%E5%85%A5%E9%97%A8/1.gif" class="">

<p>由图可知，一个完整的数据库系统一般由数据库、数据库管理系统、应用开发工具、应用系统、数据库管理员和用户组成。</p>
<p>数据库系统主要有以下 3 个组成部分：</p>
<ul>
<li>数据库：用于存储数据的地方。</li>
<li>数据库管理系统：用于管理数据库的软件。</li>
<li>数据库应用程序：为了提高数据库系统的处理能力所使用的管理数据库库的软件补充。</li>
</ul>
<p>数据库（DataBase，DB）提供了一个存储空间来存储各种数据，可以将数据库视为一个存储数据的容器。一个数据库可能包含许多文件，一个数据库系统中通常包含许多数据库。</p>
<p>数据库管理系统（Database Management System，DBMS）是用户创建、管理和维护数据库时所使用的软件，位于用户和操作系统之间，对数据库进行统一管理。DBMS 能定义数据存储结构，提供数据的操作机制，维护数据库的安全性、完整性和可靠性。</p>
<p>虽然已经有了 DBMS，但是在很多情况下，DBMS 无法满足对数据管理的要求。</p>
<p>数据库应用程序（DataBase Application）的使用可以满足对数据管理的更高要求，还可以使数据管理过程更加直观和友好。数据库应用程序负责与 DBMS 进行通信、访问和管理 DBMS 中存储的数据，允许用户插入、修改、删除数据库中的数据。</p>
<p>DBMS 提供的功能，主要包括以下几个方面。</p>
<ol>
<li>数据定义功能<br>DBMS 提供数据定义语言（Data Definition Language，DDL），用户通过它可以方便地对数据库中的数据对象进行定义。</li>
<li>数据操纵功能<br>DBMS 还提供数据操纵语言（Data Manipulation Language，DML），用户可以使用 DML 操作数据，实现对数据库的基本操作，如查询、插入、删除和修改等。</li>
<li>数据库的运行管理<br>数据库在建立、运用和维护时由数据库管理系统统一管理、统一控制，以保证数据的安全性、完整性、多用户对数据的并发使用及发生故障后的系统恢复。例如：<br>数据的完整性检查功能保证用户输入的数据应满足相应的约束条件；<br>数据库的安全保护功能保证只有赋予权限的用户才能访问数据库中的数据；<br>数据库的并发控制功能使多个用户可以在同一时刻并发地访问数据库的数据；<br>数据库系统的故障恢复功能使数据库运行出现故障时可以进行数据库恢复，以保证数据库可靠地运行。</li>
<li>提供方便、有效地存取数据库信息的接口和工具<br>编程人员可通过编程语言与数据库之间的接口进行数据库应用程序的开发。数据库管理员（Database Administrator，DBA）可通过提供的工具对数据库进行管理。</li>
<li>数据库的建立和维护功能<br>数据库功能包括数据库初始数据的输入、转换功能，数据库的转储、恢复功能，数据库的重组织功能和性能监控、分析功能等。这些功能通常由一些使用程序来完成。</li>
</ol>
<h1 id="常用数据库访问接口"><a href="#常用数据库访问接口" class="headerlink" title="常用数据库访问接口"></a>常用数据库访问接口</h1><p>不同的程序设计语言会有各自不同的数据库访问接口，程序语言通过这些接口，执行 SQL 语句，进行数据库管理。主要的数据库访问接口主要有  ODBC、JDBC、ADO.NET 和 PDO。</p>
<h3 id="ODBC"><a href="#ODBC" class="headerlink" title="ODBC"></a>ODBC</h3><p>ODBC（Open Database Connectivity，开放数据库互连）为访问不同的 SQL 数据库提供了一个共同的接口。ODBC 使用 SQL 作为访问数据的标准。这一接口提供了最大限度的互操作性。一个应用程序可以通过共同的一组代码访问不同的 SQL 数据库管理系统。</p>
<p>一个基于 ODBC 的应用程序对数据库的操作不依赖任何 DBMS，不直接与 DBMS 打交道，所有的数据库操作由对应的 DBMS 的 ODBC 驱动程序完成。也就是说，不论是 MySQL 还是 Oracle 数据库，均可用 ODBC API 进行访问。由此可见，ODBC 的最大优点是能以统一的方式处理所有的数据库。</p>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><p>Java Data Base（JDBC，Java 数据库连接）用于 Java 应用程序连接数据库的标准方法，是一种用于执行 SQL 语句的 Java API，可以为多种关系数据库提供统一访问，它由一组用 Java 语言编写的类和接口组成。</p>
<h3 id="ADO-NET"><a href="#ADO-NET" class="headerlink" title="ADO.NET"></a>ADO.NET</h3><p>ADO.NET 是微软在 .NET 框架下开发设计的一组用于和数据源进行交互的面向对象类库。ADO.NET 提供了对关系数据、XML 和应用程序的访问，允许和不同类型的数据源以及数据库进行交互。</p>
<h3 id="PDO"><a href="#PDO" class="headerlink" title="PDO"></a>PDO</h3><p>PDO（PHP Data Object）为 PHP 访问数据库定义了一个轻量级的、一致性的接口，它提供了一个数据访问抽象层，这样，无论使用什么数据库，都可以通过一致的函数执行查询和获取数据。PDO 是 PHP 5 新加入的一个重大功能。</p>
<h1 id="数据库的种类"><a href="#数据库的种类" class="headerlink" title="数据库的种类"></a>数据库的种类</h1><p>DBMS（数据库管理系统）主要通过数据的保存格式进行分类，现阶段主要分为以下几种类型。</p>
<h3 id="层次数据库（Hierarchical-Database，HDB）"><a href="#层次数据库（Hierarchical-Database，HDB）" class="headerlink" title="层次数据库（Hierarchical Database，HDB）"></a>层次数据库（Hierarchical Database，HDB）</h3><p>层次数据库是最早研制成功的数据库系统，它把数据通过层次结构（树形结构）的方式表现出来。现在已经很少使用了。</p>
<h3 id="关系型数据库（Relational-Database，RDB）"><a href="#关系型数据库（Relational-Database，RDB）" class="headerlink" title="关系型数据库（Relational Database，RDB）"></a>关系型数据库（Relational Database，RDB）</h3><p>关系型数据库是现在应用最广泛的数据库。和 Excel 工作表一样，关系型数据库也采用由行和列组成的二维表来管理数据，所以简单易懂。同时，它还使用 SQL（Structured Query Language，结构化查询语言）对数据进行操作。</p>
<p>传统的关系型数据库采用表格的存储方式，数据以行和列的方式进行存储，要读取和查询都十分方便。</p>
<h3 id="面向文档（Document-Oriented）数据库"><a href="#面向文档（Document-Oriented）数据库" class="headerlink" title="面向文档（Document-Oriented）数据库"></a>面向文档（Document-Oriented）数据库</h3><p>和键值存储数据库类似。文档型数据库可以看作是键值数据库的升级版，允许之间嵌套键值。而且文档型数据库比键值数据库的查询效率更高。</p>
<p>面向文档数据库会将数据以文档的形式存储。每个文档都是一系列数据项的集合。每个数据项都有一个名称与对应的值，值既可以是简单的数据类型，如字符串、数字和日期等；也可以是复杂的类型，如有序列表和关联对象。</p>
<p>数据存储的最小单位是文档，同一个表中存储的文档属性可以是不同的，数据可以使用XML、JSON或者JSONB等多种形式存储。</p>
<p>具有代表性的面向文档数据库有 MongDB 和 CouchDB。</p>
<h3 id="列存储（Column-oriented）数据库"><a href="#列存储（Column-oriented）数据库" class="headerlink" title="列存储（Column-oriented）数据库"></a>列存储（Column-oriented）数据库</h3><p>列存储数据库将数据存储存在列族中，一个列族用来存储经常被一起查询的相关数据。例如，如果有一个<code>Person</code>类，我们经常会一起查询他们的姓名和年龄而不是薪资。这种情况下，姓名和年龄就会被放入一个列族中，而薪资则在另一个列族中。</p>
<p>列存储数据库通常用来应对分布式存储的海量数据。具有代表性的列存储数据库有 Cassandra 和 HBase。</p>
<h3 id="XML-数据库（XML-Database，XMLDB）"><a href="#XML-数据库（XML-Database，XMLDB）" class="headerlink" title="XML 数据库（XML Database，XMLDB）"></a>XML 数据库（XML Database，XMLDB）</h3><p>XML 数据库是一种支持对 XML 格式文档进行存储和查询等操作的数据管理系统。在系统中，开发人员可以对数据库中的 XML 文档进行查询、导出和指定格式的序列化。</p>
<h3 id="键值存储数据库（Key-Value-Store，KVS）"><a href="#键值存储数据库（Key-Value-Store，KVS）" class="headerlink" title="键值存储数据库（Key-Value Store，KVS）"></a>键值存储数据库（Key-Value Store，KVS）</h3><p>键值存储数据库是用来保存查询所使用的主键（<code>Key</code>）和值（<code>Value</code>）的组合的数据库。</p>
<p>具有代表性的键值存储数据库有 Redis、Memcached 和 MemcachedDB。</p>
<h1 id="MySQL是什么"><a href="#MySQL是什么" class="headerlink" title="MySQL是什么"></a>MySQL是什么</h1><p>MySQL 是最流行的数据库之一，是一个免费开源的关系型数据库管理系统，但也不意味着该数据库是完全免费的。MySQL 由瑞典 MySQL AB 公司开发，目前属于 Oracle 公司。MySQL 适合中小型软件，被个人用户以及中小企业青睐。</p>
<p>针对不同的用户，MySQL 分为两个版本：</p>
<ul>
<li>MySQL Community Server（社区版）：该版本是自由下载且完全免费的，但是官方不提供技术支持。</li>
<li>MySQL Enterprise Server（企业版）：该版本是收费的，而且不能下载，但是该版本拥有完善的技术支持。</li>
</ul>
<p>注意：MySQL Cluster 主要用于架设群服务器，需要在社区服务或企业版的基础上使用。</p>
<p>MySQL 的命名机制由 3 个数字和 1 个后缀组成，例如 mysql-5.7.20：</p>
<ul>
<li>第 1 个数字“5”是主版本号，用于描述文件的格式，所有版本 5 的发行版都有相同的文件夹格式。</li>
<li>第 2 个数字“7”是发行级别，主版本号和发行级别组合在一起便构成了发行序列号。</li>
<li>第 3 个数字“20”是在此发行系列的版本号，随每次新发行的版本递增。通常选择已经发行的最新版本。</li>
</ul>
<p>在 MySQL 开发过程中，同时存在多个发布系列，每个发布系列的成熟度处在不同阶段。</p>
<ul>
<li>MySQL 5.7 是最新开发的稳定（GA）发布系列，是将执行新功能的系列，目前已经可以正常使用。</li>
<li>MySQL 5.6 是比较稳定的（GA）发布系列，只针对漏洞修复重新发布，不增加会影响稳定性的新功能。</li>
<li>MySQL 5.1 是一个稳定的（产品质量）发布系列，只针对严重漏洞修复和安全修复重新发布，不增加影响该系列稳定性的重要功能。</li>
</ul>
<h2 id="MySQL的特点、优势"><a href="#MySQL的特点、优势" class="headerlink" title="MySQL的特点、优势"></a>MySQL的特点、优势</h2><p>MySQL 数据库管理系统具有很多的优势，下面总结了其中几种。</p>
<ol>
<li>MySQL 是开放源代码的数据库<br>任何人都可以获取该数据库的源代码。</li>
<li>MySQL 的跨平台性<br>MySQL 不仅可以在 Windows 系列的操作系统上运行，还可以在 UNIX、Linux 和 Mac OS 等操作系统上运行。</li>
<li>价格优势<br>任何人都可以从 MySQL 的官方网站上下载该软件，这些社区版本的 MySQL 都是免费试用的，即使是需要付费的附加功能，其价格也是很便宜的。</li>
<li>功能强大且使用方便<br>MySQL 是一个真正的多用户、多线程 SQL 数据库服务器。它能够快速、有效和安全的处理大量的数据。MySQL 主要目标是快速、健壮和易用。</li>
</ol>
<p>MySQL 与常用的主流数据库 Oracle、SQL Server 相比，主要特点就是免费，并且在任何平台上都能使用，占用的空间相对较小。但是，MySQL 也有一些不足，比如对于大型项目来说，MySQL 的容量和安全性就略逊于 Oracle 数据库。</p>
<h1 id="MySQL内部结构"><a href="#MySQL内部结构" class="headerlink" title="MySQL内部结构"></a>MySQL内部结构</h1><p>MySQL 由连接池、SQL 接口、解析器、优化器、缓存、存储引擎等组成，可以分为三层，即 MySQL Server 层、存储引擎层和文件系统层。MySQL Server 层又包括连接层和 SQL 层。如下是官方文档中 MySQL 的基础架构图：</p>
<img src="/2020/04/01/MySQL/MySQL%E5%85%A5%E9%97%A8/2.png" class="">

<p>上图中，<code>Connection pool</code>为连接层，<code>Management Services &amp; Utilities ...Caches &amp; Buffers</code>为 SQL 层，<code>Pluggable Storage Engines</code>为存储引擎层，<code>File system、Files &amp; Logs</code>为文件系统层。</p>
<p><code>Co​nnectors</code>不属于以上任何一层，可以将<code>Co​nnectors</code>理解为各种客户端、应用服务，主要指的是不同语言与 SQL 的交互。</p>
<h2 id="1-连接层"><a href="#1-连接层" class="headerlink" title="1. 连接层"></a>1. 连接层</h2><p>应用程序通过接口（如 ODBC、JDBC）来连接 MySQL，最先连接处理的是连接层。连接层包括通信协议、线程处理、用户名密码认证 3 部分。</p>
<ul>
<li>通信协议负责检测客户端版本是否兼容 MySQL 服务端。</li>
<li>线程处理是指每一个连接请求都会分配一个对应的线程，相当于一条 SQL 对应一个线程，一个线程对应一个逻辑 CPU，在多个逻辑 CPU 之间进行切换。</li>
<li>密码认证用来验证用户创建的账号、密码，以及 host 主机授权是否可以连接到 MySQL 服务器。</li>
</ul>
<p><code>Connection Pool</code>（连接池）属于连接层。由于每次建立连接都需要消耗很多时间，连接池的作用就是将用户连接、用户名、密码、权限校验、线程处理等需要缓存的需求缓存下来，下次可以直接用已经建立好的连接，提升服务器性能。</p>
<h2 id="2-SQL层"><a href="#2-SQL层" class="headerlink" title="2. SQL层"></a>2. SQL层</h2><p>SQL 层是 MySQL 的核心，MySQL 的核心服务都是在这层实现的。主要包含权限判断、查询缓存、解析器、预处理、查询优化器、缓存和执行计划。<br>权限判断可以审核用户有没有访问某个库、某个表，或者表里某行数据的权限。<br>查询缓存通过 Query Cache 进行操作，如果数据在 Query Cache 中，则直接返回结果给客户端，不必再进行查询解析、优化和执行等过程。<br>查询解析器针对 SQL 语句进行解析，判断语法是否正确。<br>预处理器对解析器无法解析的语义进行处理。<br>查询优化器对 SQL 进行改写和相应的优化，并生成最优的执行计划，就可以调用程序的 API 接口，通过存储引擎层访问数据。</p>
<p><code>Management Services &amp; Utilities、SQL Interface、Parser、Optimizer</code>和<code>Caches &amp; Buffers</code>属于 SQL 层，详细说明如下表所示。</p>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Management Services &amp; Utilities</td>
<td align="center">MySQL 的系统管理和控制工具，包括备份恢复、MySQL 复制、集群等。</td>
</tr>
<tr>
<td align="center">SQL Interface（SQL 接口）</td>
<td align="center">用来接收用户的 SQL 命令，返回用户需要查询的结果。例如 SELECT FROM 就是调用 SQL Interface。</td>
</tr>
<tr>
<td align="center">Parser（查询解析器）</td>
<td align="center">在 SQL 命令传递到解析器的时候会被解析器验证和解析，以便 MySQL 优化器可以识别的数据结构或返回 SQL 语句的错误。</td>
</tr>
<tr>
<td align="center">Optimizer（查询优化器）</td>
<td align="center">SQL 语句在查询之前会使用查询优化器对查询进行优化，同时验证用户是否有权限进行查询，缓存中是否有可用的最新数据。它使用“选取-投影-连接”策略进行查询。例如 SELECT id, name FROM student WHERE gender &#x3D; “女”;语句中，SELECT 查询先根据 WHERE 语句进行选取，而不是将表全部查询出来以后再进行 gender 过滤。SELECT 查询先根据 id 和 name 进行属性投影，而不是将属性全部取出以后再进行过滤，将这两个查询条件连接起来生成最终查询结果。</td>
</tr>
<tr>
<td align="center">Caches &amp; Buffers（查询缓存）</td>
<td align="center">如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。这个缓存机制是由一系列小缓存组成的，比如表缓存、记录缓存、key 缓存、权限缓存等。</td>
</tr>
</tbody></table>
<h2 id="3-存储引擎层"><a href="#3-存储引擎层" class="headerlink" title="3. 存储引擎层"></a>3. 存储引擎层</h2><p><code>Pluggable Storage Engines</code>属于存储引擎层。存储引擎层是 MySQL 数据库区别于其他数据库最核心的一点，也是 MySQL 最具特色的一个地方。主要负责 MySQL 中数据的存储和提取。</p>
<p>因为在关系数据库中，数据的存储是以表的形式存储的，所以存储引擎也可以称为表类型（即存储和操作此表的类型）。</p>
<h2 id="4-文件系统层"><a href="#4-文件系统层" class="headerlink" title="4. 文件系统层"></a>4. 文件系统层</h2><p>文件系统层主要是将数据库的数据存储在操作系统的文件系统之上，并完成与存储引擎的交互。</p>
<h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><p>对数据库进行查询和修改操作的语言叫做 SQL（<code>Structured Query Language</code>，结构化查询语言）。SQL 语言是目前广泛使用的关系数据库标准语言，是各种数据库交互方式的基础。</p>
<p>SQL 是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统。</p>
<p>SQL 具有如下优点：</p>
<ul>
<li>一体化：SQL 集数据定义、数据操作和数据控制于一体，可以完成数据库中的全部工作。</li>
<li>使用方式灵活：SQL 具有两种使用方式，可以直接以命令方式交互使用；也可以嵌入使用，嵌入C、C++、Java 等语言中使用。</li>
<li>非过程化：只提操作要求，不必描述操作步骤。使用时只需要告诉计算机“做什么”，而不需要告诉它“怎么做”，存储路径的选择和操作的执行由数据库管理系统自动完成。</li>
<li>语言简洁、语法简单：该语言的语句都是由描述性很强的英语单词组成，而且这些单词的数目不多。</li>
</ul>
<p>SQL 包含以下 4 部分：</p>
<ol>
<li>数据定义语言（Data Definition Language，DDL）：用来创建或删除数据库以及表等对象，主要包含以下几种命令：</li>
</ol>
<ul>
<li><code>DROP</code>：删除数据库和表等对象</li>
<li><code>CREATE</code>：创建数据库和表等对象</li>
<li><code>ALTER</code>：修改数据库和表等对象的结构</li>
</ul>
<ol start="2">
<li>数据操作语言（Data Manipulation Language，DML）：用来变更表中的记录，主要包含以下几种命令：</li>
</ol>
<ul>
<li><code>SELECT</code>：查询表中的数据</li>
<li><code>INSERT</code>：向表中插入新数据</li>
<li><code>UPDATE</code>：更新表中的数据</li>
<li><code>DELETE</code>：删除表中的数据</li>
</ul>
<ol start="3">
<li>数据查询语言（Data Query Language，DQL）：用来查询表中的记录，主要包含<code>SELECT</code>命令，来查询表中的数据。</li>
<li>数据控制语言（Data Control Language，DCL）：用来确认或者取消对数据库中的数据进行的变更。除此之外，还可以对数据库中的用户设定权限。主要包含以下几种命令：</li>
</ol>
<ul>
<li><code>GRANT</code>：赋予用户操作权限</li>
<li><code>REVOKE</code>：取消用户的操作权限</li>
<li><code>COMMIT</code>：确认对数据库中的数据进行的变更</li>
<li><code>ROLLBACK</code>：取消对数据库中的数据进行的变更</li>
</ul>
<h1 id="SQL的基本书写规则"><a href="#SQL的基本书写规则" class="headerlink" title="SQL的基本书写规则"></a>SQL的基本书写规则</h1><h3 id="SQL-语句要以分号-结尾"><a href="#SQL-语句要以分号-结尾" class="headerlink" title="SQL 语句要以分号;结尾"></a>SQL 语句要以分号;结尾</h3><p>在 RDBMS （关系型数据库）当中，SQL 语句是逐条执行的，一条 SQL 语句代表着数据库的一个操作。SQL 语句使用英文分号<code>;</code>结尾。</p>
<h3 id="SQL-语句不区分大小写"><a href="#SQL-语句不区分大小写" class="headerlink" title="SQL 语句不区分大小写"></a>SQL 语句不区分大小写</h3><p>SQL 不区分关键字的大小写。例如，不管写成<code>SELECT</code>还是<code>select</code>，解释都是一样的。表名和列名也是如此。</p>
<p>需要注意的是，插入到表中的数据是区分大小写的。例如，向数据库中插入单词<code>Computer、COMPUTER</code>或<code>computer</code>，这三个是不一样的数据</p>
<h3 id="常数的书写方式是固定的"><a href="#常数的书写方式是固定的" class="headerlink" title="常数的书写方式是固定的"></a>常数的书写方式是固定的</h3><p>SQL 语句常常需要直接书写字符串、日期或者数字。例如，书写向表中插入字符串、日期或者数字等数据的 SQL 语句。</p>
<p>在 SQL 语句中直接书写的字符串、日期或者数字等称为常数。常数的书写方式：</p>
<ul>
<li>SQL 语句中含有字符串的时候，需要像<code>&#39;abc&#39;</code>这样，使用英文单引号’将字符串括起来，用来标识这是一个字符串。</li>
<li>SQL 语句中含有日期的时候，同样需要使用英文单引号将其括起来。日期的格式有很多种（’26 Jan 2010’ 或者’10&#x2F;01&#x2F;26’ 等）。</li>
<li>在 SQL 语句中书写数字的时候，不需要使用任何符号标识，直接写成 1000 这样的数字即可。</li>
</ul>
<p>注意：列名不是字符串，不能使用单引号。在MySQL 中可以用倒引号&#96;把表名和列名括起来。</p>
<h3 id="单词需要用半角空格或者换行来分隔"><a href="#单词需要用半角空格或者换行来分隔" class="headerlink" title="单词需要用半角空格或者换行来分隔"></a>单词需要用半角空格或者换行来分隔</h3><p>SQL 语句的单词之间必须使用半角空格（英文空格）或换行符来进行分隔。没有分隔的语句会发生错误，无法正常执行。</p>
<p>不能使用全角空格（中文空格）作为单词的分隔符，否则会发生错误，出现无法预期的结果。</p>
<p>SQL 语句中的标点符号必须都是英文状态下的，即半角字。</p>
<h1 id="MySQL-注释"><a href="#MySQL-注释" class="headerlink" title="MySQL 注释"></a>MySQL 注释</h1><p>MySQL 注释分为单行注释和多行注释。</p>
<h2 id="MySQL-单行注释"><a href="#MySQL-单行注释" class="headerlink" title="MySQL 单行注释"></a>MySQL 单行注释</h2><ol>
<li>单行注释可以使用#注释符，<code>#</code>注释符后直接加注释内容。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#从结果中删除重复行</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> product_id, purchase_price <span class="keyword">FROM</span> Product;</span><br></pre></td></tr></table></figure></li>
<li>单行注释可以使用 <code>-- </code>注释符，<code>-- </code>注释符后需要加一个空格，注释才能生效。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 从结果中删除重复行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> product_id, purchase_price <span class="keyword">FROM</span> Product;</span><br></pre></td></tr></table></figure>
<code>#</code>和<code>-- </code>的区别就是：<code>#</code>后面直接加注释内容，而<code>-- </code>的第 2 个破折号后需要跟一个空格符在加注释内容。</li>
</ol>
<h2 id="MySQL-多行注释"><a href="#MySQL-多行注释" class="headerlink" title="MySQL 多行注释"></a>MySQL 多行注释</h2><p>多行注释使用<code>/* */</code>注释符。<code>/*</code>用于注释内容的开头，<code>*/</code>用于注释内容的结尾。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  第一行注释内容</span></span><br><span class="line"><span class="comment">  第二行注释内容</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>任何注释（单行注释和多行注释）都可以插在 SQL 语句中，且注释可以放在 SQL 语句中的任意位置。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> product_id, purchase_price</span><br><span class="line"><span class="comment">-- 从结果中删除重复行。 </span></span><br><span class="line"><span class="keyword">FROM</span> Product;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> product_id, purchase_price</span><br><span class="line"># 从结果中删除重复行。 </span><br><span class="line"><span class="keyword">FROM</span> Product;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> product_id, purchase_price</span><br><span class="line"><span class="comment">/* 这条SELECT语句，  </span></span><br><span class="line"><span class="comment">    会从结果中删除重复行。*/</span> </span><br><span class="line"><span class="keyword">FROM</span> Product;</span><br></pre></td></tr></table></figure>
<p>注释可以写在任何 SQL 语句当中，且 SQL 语句中对注释的数量没有限制。</p>
<h1 id="SQL语句的大小写规则"><a href="#SQL语句的大小写规则" class="headerlink" title="SQL语句的大小写规则"></a>SQL语句的大小写规则</h1><p>SQL 语句的大小写规则与语句组成元素、引用内容和服务器所使用的操作系统有关。</p>
<h2 id="SQL-关键字和函数名"><a href="#SQL-关键字和函数名" class="headerlink" title="SQL 关键字和函数名"></a>SQL 关键字和函数名</h2><p>SQL 的关键字和函数名不区分大小写。下面这些语句都是等价的：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> NOW();</span><br><span class="line"><span class="keyword">select</span> now();</span><br><span class="line"><span class="keyword">sElEcT</span> nOw();</span><br></pre></td></tr></table></figure>
<h2 id="数据库名、表名和视图名"><a href="#数据库名、表名和视图名" class="headerlink" title="数据库名、表名和视图名"></a>数据库名、表名和视图名</h2><p>MySQL 用服务器主机的底层文件系统所包含的目录和文件来表示数据库和表。因此，数据库名和表名的默认大小写取决于服务器主机的操作系统在命名方面的规定。</p>
<p>比如 Windows 系统的文件名不区分大小写，所以运行在 Windows 系统上面的 MySQL 服务器也不用区分数据库名和表名的大小写。Linux 系统的文件名区分大小写，所以运行在 Linux 系统上的 MySQL 服务器需要区分数据库名和表名的大小写。对于 Mac OS X 平台，其文件系统中的名字是个例外，它们不区分大小写。</p>
<p>MySQL 会使用一个文件来表示一个视图，所以以上与表有关的也同样适用于视图。</p>
<h2 id="存储程序的名字"><a href="#存储程序的名字" class="headerlink" title="存储程序的名字"></a>存储程序的名字</h2><p>存储函数、存储过程和事件的名字都不区分大小写。触发器的名字要区分大小写，这一点与标准 SQL 的行为有所不同。</p>
<h2 id="列名和索引名"><a href="#列名和索引名" class="headerlink" title="列名和索引名"></a>列名和索引名</h2><p>在 MySQL 里，列名和索引名都不区分大小写。下面这些语句都是等价的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM student ;</span><br><span class="line">SELECT NAME FROM student ;</span><br><span class="line">SELECT nAmE FROM student ;</span><br></pre></td></tr></table></figure>
<h2 id="别名的名字"><a href="#别名的名字" class="headerlink" title="别名的名字"></a>别名的名字</h2><p>默认情况下，表的别名要区分大小写。SQL 语句中可以使用任意的大小写（大写、小写或大小写混用）来指定一个别名。如果需要在同一条语句里多次用到同一个别名，则必须让它们的大小写保持一致。</p>
<p>下表总结了 SQL 元素在 Windows 和 Linux 系统是否区分大小写。</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Windows</th>
<th align="center">Linux</th>
</tr>
</thead>
<tbody><tr>
<td align="center">数据库名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">是</td>
</tr>
<tr>
<td align="center">表名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">是</td>
</tr>
<tr>
<td align="center">表别名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">是</td>
</tr>
<tr>
<td align="center">列名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">否（忽略大小写）</td>
</tr>
<tr>
<td align="center">列别名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">否（忽略大小写）</td>
</tr>
<tr>
<td align="center">变量名</td>
<td align="center">否（忽略大小写）</td>
<td align="center">是</td>
</tr>
</tbody></table>
<p>在 Linux 服务器下创建数据库和表时，应该认真考虑大小写的问题，比如它们以后是否会迁移到 Windows 服务器上。</p>
<p>假设你在 Linux 服务器上创建了<code>abc</code>和<code>ABC</code>两个表，当把这两个表迁移到 Windows 服务器上时，就会出现问题；因为 Windows 系统并不区分大小写，<code>abc</code>和<code>ABC</code>无差别。</p>
<p>想要避免大小写问题，可以先选定一种大小写方案，然后一直按照该方案去创建数据库和表。</p>
<p>在阿里巴巴 Java 开发手册的 MySql 建表规约里提到：</p>
<blockquote>
<p>【强制】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。</p>
</blockquote>
<p>通俗的说就是，MySQL 在 Windows 系统下不区分大小写，但在 Linux 系统下默认区分大小写。因此，数据库名、表名和字段名，都不允许出现任何大写字母。</p>
<p>一般建议统一使用小写字母，并且 InnoDB 引擎在其内部都是以小写字母方式来存储数据库名和表名的。这样可以有效的防止 MySQL 产生大小写问题。</p>
<h1 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h1><p>在 MySQL 数据库，变量分为系统变量和用户自定义变量。系统变量以<code>@@</code>开头，用户自定义变量以<code>@</code>开头。</p>
<p>服务器维护着两种系统变量，即全局变量（<code>GLOBAL VARIABLES</code>）和会话变量（<code>SESSION VARIABLES</code>）。全局变量影响 MySQL 服务的整体运行方式，会话变量影响具体客户端连接的操作。</p>
<p>每一个客户端成功连接服务器后，都会产生与之对应的会话。会话期间，MySQL 服务实例会在服务器内存中生成与该会话对应的会话变量，这些会话变量的初始值是全局变量值的拷贝。</p>
<h2 id="查看系统变量"><a href="#查看系统变量" class="headerlink" title="查看系统变量"></a>查看系统变量</h2><p>可以使用以下命令查看 MySQL 中所有的全局变量信息。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> VARIABLES; </span><br></pre></td></tr></table></figure>
<p>可以使用以下命令查看与当前会话相关的所有会话变量以及全局变量。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES;</span><br></pre></td></tr></table></figure>
<p>其中，<code>SESSION</code>关键字可以省略。</p>
<p>MySQL 中的系统变量以两个<code>@</code>开头。</p>
<ul>
<li><code>@@global</code>仅仅用于标记全局变量；</li>
<li><code>@@session</code>仅仅用于标记会话变量；</li>
<li><code>@@</code>首先标记会话变量，如果会话变量不存在，则标记全局变量。</li>
</ul>
<p>MySQL 中有一些系统变量仅仅是全局变量，例如<code>innodb_data_file_path</code>，可以使用以下 3 种方法查看：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_data_file_path&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_data_file_path&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_data_file_path&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>MySQL 中有一些系统变量仅仅是会话变量，例如 MySQL 连接 ID 会话变量<code>pseudo_thread_id</code>，可以使用以下 2 种方法查看。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;pseudo_thread_id&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;pseudo_thread_id&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>MySQL 中有一些系统变量既是全局变量，又是会话变量，例如系统变量<code>character_set_client</code>既是全局变量，又是会话变量。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> SESSION VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_client&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_client&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>此时查看全局变量的方法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;character_set_client&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="设置系统变量"><a href="#设置系统变量" class="headerlink" title="设置系统变量"></a>设置系统变量</h2><p>可以通过以下方法设置系统变量：</p>
<ul>
<li>修改 MySQL 源代码，然后对 MySQL 源代码重新编译。</li>
<li>在 MySQL 配置文件（<code>mysql.ini</code>或<code>mysql.cnf</code>）中修改 MySQL 系统变量的值（需要重启 MySQL 服务才会生效）。</li>
<li>在 MySQL 服务运行期间，使用<code>SET</code>命令重新设置系统变量的值。</li>
</ul>
<p>服务器启动时，会将所有的全局变量赋予默认值。这些默认值可以在选项文件中或在命令行中对执行的选项进行更改。</p>
<p>更改全局变量，必须具有<code>SUPER</code>权限。设置全局变量的值的方法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @<span class="variable">@global</span>.innodb_file_per_table<span class="operator">=</span><span class="keyword">default</span>;</span><br><span class="line"><span class="keyword">SET</span> @<span class="variable">@global</span>.innodb_file_per_table<span class="operator">=</span><span class="keyword">ON</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">global</span> innodb_file_per_table<span class="operator">=</span><span class="keyword">ON</span>;</span><br></pre></td></tr></table></figure>
<p>需要注意的是，更改全局变量只影响更改后连接客户端的相应会话变量，而不会影响目前已经连接的客户端的会话变量（即使客户端执行<code>SET GLOBAL</code>语句也不影响）。也就是说，对于修改全局变量之前连接的客户端只有在客户端重新连接后，才会影响到客户端。</p>
<p>客户端连接时，当前全局变量的值会对客户端的会话变量进行相应初始化。设置会话变量不需要特殊权限，但客户端只能更改自己的会话变量，而不能更改其它客户端的会话变量。设置会话变量的值的方法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @<span class="variable">@session</span>.pseudo_thread_id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"><span class="keyword">SET</span> session pseudo_thread_id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"><span class="keyword">SET</span> @<span class="variable">@pseudo</span>_thread_id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"><span class="keyword">SET</span> pseudo_thread_id <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p>如果没有指定修改全局变量还是会话变量，服务器会当作会话变量来处理。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> @<span class="variable">@sort</span>_buffer_size <span class="operator">=</span> <span class="number">50000</span>;</span><br></pre></td></tr></table></figure>
<p>上面语句没有指定是<code>GLOBAL</code>还是<code>SESSION</code>，服务器会当做<code>SESSION</code>处理。</p>
<p>使用<code>SET</code>设置全局变量或会话变量成功后，如果 MySQL 服务重启，数据库的配置就又会重新初始化。一切按照配置文件进行初始化，全局变量和会话变量的配置都会失效。</p>
<p>MySQL 中还有一些特殊的全局变量，如<code>log_bin、tmpdir、version、datadir</code>，在 MySQL 服务实例运行期间它们的值不能动态修改，也就是不能使用<code>SET</code>命令进行重新设置，这种变量称为静态变量。数据库管理员可以使用前面提到的修改源代码或更改配置文件来重新设置静态变量的值。</p>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          打赏
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2020/04/01/MySQL/MySQL%E5%85%A5%E9%97%A8/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2020/04/02/MySQL/MySQL%20%E5%AE%89%E8%A3%85/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            MySQL 安装
          
        </div>
      </a>
    
    
      <a href="/2020/03/30/GIT/git%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">git命令速查</div>
      </a>
    
  </nav>

  
   
  
    
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2017-2023
        <i class="ri-heart-fill heart_icon"></i> WSQ
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="学海无涯"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>复制</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>