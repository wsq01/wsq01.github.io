<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 学海无涯</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?b1b5dee3bb1719c8a439f8070118dc80";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>


      <!-- <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script> -->
      <link href="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.css" rel="stylesheet">
      <script src="https://cdn.bootcdn.net/ajax/libs/sweetalert2/11.7.3/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/wsq01/"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover5.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">学海无涯</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-前端/css/CSS 变量"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/%E5%89%8D%E7%AB%AF/css/CSS%20%E5%8F%98%E9%87%8F/"
    >CSS 变量</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/10/%E5%89%8D%E7%AB%AF/css/CSS%20%E5%8F%98%E9%87%8F/" class="article-date">
  <time datetime="2020-04-10T10:01:52.000Z" itemprop="datePublished">2020-04-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="变量的声明"><a href="#变量的声明" class="headerlink" title="变量的声明"></a>变量的声明</h1><p>CSS中原生的变量定义语法是：<code>--*</code>，变量使用语法是：<code>var(--*)</code>，其中<code>*</code>表示我们的变量名称。关于命名这个东西，各种语言都有些显示，例如CSS选择器不能是数字开头，JS中的变量是不能直接数值的，但是，在CSS变量中，这些限制通通没有。</p>
<p>但是，不能包含<code>$，[，^，(，%</code>等字符，普通字符局限在只要是“数字[<code>0-9</code>]”“字母[<code>a-zA-Z</code>]”“下划线<code>_</code>”和“短横线<code>-</code>”这些组合，但是可以是中文，日文或者韩文。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  --<span class="number">1</span>: <span class="number">#369</span>;</span><br><span class="line">  --深蓝: <span class="number">#369</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--深蓝);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你可能会问，为什么选择两根连词线（–）表示变量？因为<code>$foo</code>被 Sass 用掉了，<code>@foo</code>被 Less 用掉了。为了不产生冲突，官方的 CSS 变量就改用两根连词线了。</p>
<p>各种值都可以放入 CSS 变量。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">  <span class="attr">--main-color</span>: <span class="number">#4d4e53</span>;</span><br><span class="line">  <span class="attr">--main-bg</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">  <span class="attr">--logo-border-color</span>: rebeccapurple;</span><br><span class="line"></span><br><span class="line">  <span class="attr">--header-height</span>: <span class="number">68px</span>;</span><br><span class="line">  <span class="attr">--content-padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attr">--base-line-height</span>: <span class="number">1.428571429</span>;</span><br><span class="line">  <span class="attr">--transition-duration</span>: .<span class="number">35s</span>;</span><br><span class="line">  <span class="attr">--external-link</span>: <span class="string">&quot;external link&quot;</span>;</span><br><span class="line">  <span class="attr">--margin-top</span>: <span class="built_in">calc</span>(<span class="number">2vh</span> + <span class="number">20px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="var-函数"><a href="#var-函数" class="headerlink" title="var() 函数"></a>var() 函数</h1><p><code>var()</code>函数用于读取变量。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--foo);</span><br><span class="line">  <span class="attribute">text-decoration-color</span>: <span class="built_in">var</span>(--bar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>var()</code>函数还可以使用第二个参数，表示变量的默认值。如果该变量不存在，就会使用这个默认值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">color</span>: <span class="built_in">var</span>(--foo, <span class="number">#7F583F</span>);</span><br></pre></td></tr></table></figure>
<p>第二个参数不处理内部的逗号或空格，都视作参数的一部分。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span>(<span class="attr">--font-stack</span>, &quot;Roboto&quot;, &quot;Helvetica&quot;);</span><br><span class="line"><span class="selector-tag">var</span>(<span class="attr">--pad</span>, <span class="number">10px</span> <span class="number">15px</span> <span class="number">20px</span>);</span><br></pre></td></tr></table></figure>
<p><code>var()</code>函数还可以用在变量的声明。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--primary-color</span>: red;</span><br><span class="line">  <span class="attr">--logo-text</span>: <span class="built_in">var</span>(--primary-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注意，变量值只能用作属性值，不能用作属性名。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attr">--side</span>: margin-top;</span><br><span class="line">  <span class="comment">/* 无效 */</span></span><br><span class="line">  <span class="selector-tag">var</span>(<span class="attr">--side</span>): <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，变量<code>--side</code>用作属性名，这是无效的。</p>
<h1 id="变量值的类型"><a href="#变量值的类型" class="headerlink" title="变量值的类型"></a>变量值的类型</h1><p>如果变量值是一个字符串，可以与其他字符串拼接。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">--bar</span>: <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"><span class="attr">--foo</span>: <span class="built_in">var</span>(--bar)<span class="string">&#x27; world&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>如果变量值是数值，不能与数值单位直接连用。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20</span>;</span><br><span class="line">  <span class="comment">/* 无效 */</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="built_in">var</span>(--gap)px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，数值与单位直接写在一起，这是无效的。必须使用<code>calc()</code>函数，将它们连接。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--gap) * <span class="number">1px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果变量值带有单位，就不能写成字符串。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 无效 */</span></span><br><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attr">--foo</span>: <span class="string">&#x27;20px&#x27;</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="built_in">var</span>(--foo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 有效 */</span></span><br><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attr">--foo</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="built_in">var</span>(--foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p>同一个 CSS 变量，可以在多个选择器内声明。读取的时候，优先级最高的声明生效。这与 CSS 的”层叠”规则是一致的。</p>
<p>下面是一个例子。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-pseudo">:root</span> &#123; <span class="attr">--color</span>: blue; &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">div</span> &#123; <span class="attr">--color</span>: green; &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#alert</span> &#123; <span class="attr">--color</span>: red; &#125;</span></span><br><span class="line"><span class="language-css">  * &#123; <span class="attribute">color</span>: <span class="built_in">var</span>(--color); &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>蓝色<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>绿色<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;alert&quot;</span>&gt;</span>红色<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，三个选择器都声明了<code>--color</code>变量。不同元素读取这个变量的时候，会采用优先级最高的规则，因此三段文字的颜色是不一样的。</p>
<p>这就是说，变量的作用域就是它所在的选择器的有效范围。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attr">--foo</span>: <span class="number">#7F583F</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attr">--bar</span>: <span class="number">#F7EFD2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，变量<code>--foo</code>的作用域是<code>body</code>选择器的生效范围，<code>--bar</code>的作用域是<code>.content</code>选择器的生效范围。</p>
<p>由于这个原因，全局的变量通常放在根元素<code>:root</code>里面，确保任何选择器都可以读取它们。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--main-color</span>: <span class="number">#06c</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h1><p>CSS 是动态的，页面的任何变化，都会导致采用的规则变化。</p>
<p>利用这个特点，可以在响应式布局的<code>media</code>命令里面声明变量，使得不同的屏幕宽度有不同的变量值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attr">--primary</span>: <span class="number">#7F583F</span>;</span><br><span class="line">  <span class="attr">--secondary</span>: <span class="number">#F7EFD2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--primary);</span><br><span class="line">  <span class="attribute">text-decoration-color</span>: <span class="built_in">var</span>(--secondary);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attr">--primary</span>:  <span class="number">#F7EFD2</span>;</span><br><span class="line">    <span class="attr">--secondary</span>: <span class="number">#7F583F</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="JavaScript-操作"><a href="#JavaScript-操作" class="headerlink" title="JavaScript 操作"></a>JavaScript 操作</h1><p>JavaScript 操作 CSS 变量的写法如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置变量</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--primary&#x27;</span>, <span class="string">&#x27;#7F583F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取变量</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="title function_">getPropertyValue</span>(<span class="string">&#x27;--primary&#x27;</span>).<span class="title function_">trim</span>();</span><br><span class="line"><span class="comment">// &#x27;#7F583F&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除变量</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="title function_">removeProperty</span>(<span class="string">&#x27;--primary&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>这意味着，JavaScript 可以将任意值存入样式表。下面是一个监听事件的例子，事件信息被存入 CSS 变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> docStyle = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  docStyle.<span class="title function_">setProperty</span>(<span class="string">&#x27;--mouse-x&#x27;</span>, e.<span class="property">clientX</span>);</span><br><span class="line">  docStyle.<span class="title function_">setProperty</span>(<span class="string">&#x27;--mouse-y&#x27;</span>, e.<span class="property">clientY</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>那些对 CSS 无用的信息，也可以放入 CSS 变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--foo: if(x &gt; 5) this.width = 10;</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>--foo</code>的值在 CSS 里面是无效语句，但是可以被 JavaScript 读取。这意味着，可以把样式设置写在 CSS 变量中，让 JavaScript 读取。</p>
<p>所以，CSS 变量提供了 JavaScript 与 CSS 通信的一种途径。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-MySQL/MySQL存储引擎"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/MySQL/MySQL%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/"
    >MySQL存储引擎</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/09/MySQL/MySQL%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/" class="article-date">
  <time datetime="2020-04-09T06:33:26.000Z" itemprop="datePublished">2020-04-09</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a> / <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>数据库存储引擎是数据库底层软件组件，数据库管理系统使用数据引擎进行创建、查询、更新和删除数据操作。简而言之，存储引擎就是指表的类型。数据库的存储引擎决定了表在计算机中的存储方式。不同的存储引擎提供不同的存储机制、索引技巧、锁定水平等功能，使用不同的存储引擎还可以获得特定的功能。</p>
<p>现在许多数据库管理系统都支持多种不同的存储引擎。MySQL 的核心就是存储引擎。</p>
<p>MySQL 提供了多个不同的存储引擎，包括处理事务安全表的引擎和处理非事务安全表的引擎。在 MySQL 中，不需要在整个服务器中使用同一种存储引擎，针对具体的要求，可以对每一个表使用不同的存储引擎。</p>
<p>MySQL 5.7 支持的存储引擎有 InnoDB、MyISAM、Memory、Merge、Archive、CSV、BLACKHOLE 等。可以使用<code>SHOW ENGINES;</code>语句查看系统所支持的引擎类型。</p>
<img src="/2020/04/09/MySQL/MySQL%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/1.png" class="" title="存储引擎">

<p><code>Support</code>列的值表示某种引擎是否能使用，<code>YES</code>表示可以使用，<code>NO</code>表示不能使用，<code>DEFAULT</code>表示该引擎为当前默认的存储引擎。</p>
<table>
<thead>
<tr>
<th align="center">存储引擎</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ARCHIVE</td>
<td align="center">用于数据存档的引擎，数据被插入后就不能在修改了，且不支持索引。</td>
</tr>
<tr>
<td align="center">CSV</td>
<td align="center">在存储数据时，会以逗号作为数据项之间的分隔符。</td>
</tr>
<tr>
<td align="center">BLACKHOLE</td>
<td align="center">会丢弃写操作，该操作会返回空内容。</td>
</tr>
<tr>
<td align="center">FEDERATED</td>
<td align="center">将数据存储在远程数据库中，用来访问远程表的存储引擎。</td>
</tr>
<tr>
<td align="center">InnoDB</td>
<td align="center">具备外键支持功能的事务处理引擎</td>
</tr>
<tr>
<td align="center">MEMORY</td>
<td align="center">置于内存的表</td>
</tr>
<tr>
<td align="center">MERGE</td>
<td align="center">用来管理由多个 MyISAM 表构成的表集合</td>
</tr>
<tr>
<td align="center">MyISAM</td>
<td align="center">主要的非事务处理存储引擎</td>
</tr>
</tbody></table>
<h1 id="InnoDB存储引擎"><a href="#InnoDB存储引擎" class="headerlink" title="InnoDB存储引擎"></a>InnoDB存储引擎</h1><p>InnoDB 是 MySQL 中第一个提供外键约束的存储引擎，而且它对事务的处理能力是其它存储引擎无法与之相比的。</p>
<p>MySQL 5.5 版本以后，默认存储引擎由 MyISAM 修改为 InnoDB。一般情况下，除非有特别的原因需要使用其它存储引擎，否则应该优先考虑 InnoDB 引擎。</p>
<h2 id="InnoDB优势"><a href="#InnoDB优势" class="headerlink" title="InnoDB优势"></a>InnoDB优势</h2><p>InnoDB 之所以如此受宠，主要在于其功能方面的较多优势。</p>
<h4 id="1-支持事务安装"><a href="#1-支持事务安装" class="headerlink" title="1. 支持事务安装"></a>1. 支持事务安装</h4><p>InnoDB 最重要的一点就是支持事务。InnoDB 还实现了 SQL92 标准所定义的 4 个隔离级别（<code>READ UNCOMMITTED，READ COMMITTED，REPEATABLE READ</code>和<code>SERIALIZABLE</code>）。</p>
<h4 id="2-灾难恢复性好"><a href="#2-灾难恢复性好" class="headerlink" title="2. 灾难恢复性好"></a>2. 灾难恢复性好</h4><p>InnoDB 通过<code>commit、rollback、crash-recovery</code>来保障数据的安全。</p>
<p>具体来说，<code>crash-recovery</code>就是指如果服务器因为硬件或软件的问题而崩溃，不管当时数据是怎样的状态，在重启 MySQL 后，InnoDB 都会自动恢复到发生崩溃之前的状态，并回到用户离开的地方。</p>
<h4 id="3-使用行级锁"><a href="#3-使用行级锁" class="headerlink" title="3. 使用行级锁"></a>3. 使用行级锁</h4><p>InnoDB 改变了 MyISAM 的锁机制，实现了行锁。虽然 InnoDB 的行锁机制是通过索引来完成的，但毕竟在数据库中 99% 的 SQL 语句都要使用索引来检索数据。行锁定机制也为 InnoDB 在承受高并发压力的环境下增强了不小的竞争力。</p>
<p>在 SQL 查询中可以自由地将 InnoDB 类型的表与其他类型的表混合起来，甚至在同一个查询中也可以混合。</p>
<h4 id="4-实现了缓冲处理"><a href="#4-实现了缓冲处理" class="headerlink" title="4. 实现了缓冲处理"></a>4. 实现了缓冲处理</h4><p>InnoDB 提供了专门的缓存池，实现了缓冲管理，不仅能缓冲索引也能缓冲数据，常用的数据可以直接从内存中处理，比从磁盘获取数据处理速度要快。相比之下，MyISAM 只是缓存了索引。</p>
<p>InnoDB 的表和索引在一个逻辑表空间中，表空间可以包含数个文件（或原始磁盘分区）。这与 MyISAM 表不同，比如在 MyISAM 表中每个表被保存在分离的文件中。InnoDB 表可以是任何尺寸，即使在文件尺寸被限制为 2GB 的操作系统上。</p>
<h4 id="5-支持外键"><a href="#5-支持外键" class="headerlink" title="5. 支持外键"></a>5. 支持外键</h4><p>InnoDB 支持外键约束，检查外键、插入、更新和删除，以确保数据的完整性。在存储表中数据时每张表的存储都按主键顺序存放，如果没有显式地在定义表时指定主键，InnoDB 会为每一行生成一个 6 字节的 ROWID ，并以此作为主键。</p>
<p>InnoDB 实现外键引用这一重要特性，使在数据库端控制部分数据的完整性成为可能。虽然很多数据库系统调优专家都建议不要这样做，但是对于不少用户来说，大部分情况下，在数据库端加外键控制仍然是成本最低的选择。</p>
<h4 id="6-适合需要大型数据库的网站"><a href="#6-适合需要大型数据库的网站" class="headerlink" title="6. 适合需要大型数据库的网站"></a>6. 适合需要大型数据库的网站</h4><p>InnoDB 被用在众多需要高性能的大型数据库网站上。</p>
<p>InnoDB 是为处理巨大数据量时的最大性能设计，它的 CPU 效率可能是任何其他基于磁盘的关系数据库引擎所不能匹敌的。</p>
<p>除了以上几个亮点之外，InnoDB 常常还有很多其它的功能特色带给使用者惊喜。当然，使用 InnoDB 存储引擎肯定也有缺点。相对于其它存储引擎来说，使用 InnoDB 存储引擎的读写效率稍差，且占用的数据空间相对较大。</p>
<h2 id="物理存储"><a href="#物理存储" class="headerlink" title="物理存储"></a>物理存储</h2><p>使用 InnoDB 时，MySQL 会在数据目录（<code>Data</code>）下创建一个名为<code>ibdata1</code>的 10MB 大小的自动扩展数据文件，以及两个名为<code>ib_logfile0</code>和<code>ib_logfile1</code>的 5MB 大小的日志文件。</p>
<p>InnoDB 存储引擎和 MyISAM 不太一样，虽然也有<code>.frm</code>文件来存放表结构定义相关的元数据，但是表数据和索引数据是存放在一起的。至于是每个表单独存放还是所有表存放在一起，用户可以自己设置。</p>
<p>InnoDB 的物理存储结构分为两大部分：</p>
<h3 id="1-数据文件（表数据和索引数据）"><a href="#1-数据文件（表数据和索引数据）" class="headerlink" title="1. 数据文件（表数据和索引数据）"></a>1. 数据文件（表数据和索引数据）</h3><p>数据文件用来存放数据表中的数据和所有的索引数据，包括主键和其他普通索引。</p>
<p>InnoDB 存储的数据采用表空间（<code>Tablepace</code>）进行存放设计。表空间是用来存放 MySQL 系统相关信息的一个特殊共享表空间。</p>
<p>InnoDB 的表空间分为以下两种形式：</p>
<ul>
<li>共享表空间，表数据和索引都存放在同一个表空间。默认的表空间文件就是上面所提到的 MySQL 初始化路径下的<code>ibdata1</code>文件。</li>
<li>独立表空间，每个表的数据和索引被存放在一个单独的<code>.ibd</code>文件中。</li>
</ul>
<p>可以通过以下命令查看 MySQL 是否使用独立表空间：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_file_per_table%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name         <span class="operator">|</span> <span class="keyword">Value</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> innodb_file_per_table <span class="operator">|</span> <span class="keyword">ON</span>    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span>, <span class="number">1</span> warning (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p><code>innodb_file_per_table</code>值为<code>ON</code>时表示开启独立表文件，InnoDB 表的数据和索引都会以单独的形式存放；值为<code>OFF</code>时，InnoDB 表的数据和索引都存放在一个表空间。可以通过设置该参数的值来决定是否使用独立表空间。</p>
<h4 id="共享表空间"><a href="#共享表空间" class="headerlink" title="共享表空间"></a>共享表空间</h4><p>共享表空间的数据文件可以设置为固定大小和可自动扩展大小两种形式。自动扩展形式的文件可以设置文件的最大大小和每次扩展量。在创建自动扩展的数据文件时，建议大家最好加上最大尺寸的属性，一个原因是文件系统本身有一定的大小限制，还有一个原因就是方便自身维护。</p>
<p>当表空间快要用完的时候，我们必须要为其增加数据文件，当然，只有共享表空间有此操作。</p>
<p>共享表空间增加数据文件的操作比较简单，只需要在<code>innodb_data_file_path</code>参数后面按照标准格式设置好文件路径和相关属性即可。</p>
<p><code>innodb_data_file_path</code>参数负责定义共享表空间的路径、初始化大小、自动扩展策略。可以使用以下命令查看当前共享表空间文件的路径、大小和自动化策略：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_data_file_path%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+------------------------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name         <span class="operator">|</span> <span class="keyword">Value</span>                  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+------------------------+</span></span><br><span class="line"><span class="operator">|</span> innodb_data_file_path <span class="operator">|</span> ibdata1:<span class="number">12</span>M:autoextend <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span>, <span class="number">1</span> warning (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p>用户可以通过<code>innodb_data_file_path</code>参数来指定表空间文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">innodb_data_file_path=datafile_spec1[;datafile_spec2]...</span><br></pre></td></tr></table></figure>
<p>其中，<code>datafile_spec1</code>格式为表空间文件路径:大小:属性，还可以指定多个文件组成一个表空间，同时指定文件的属性，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">innodb_data_file_path=/db/ibdata1:2000M;/dr2/db/ibdata2:2000M:autoextend</span><br></pre></td></tr></table></figure>
<p>这里将<code>/db/ibdata1</code>和<code>/dr2/db/ibdata2</code>两个文件用来组成表空间。若这两个文件位于不同的磁盘上，磁盘的负载可能被平均，因此可以提高数据库的整体性能。</p>
<p>指定多个文件时，<code>autoextend</code>属性只在最后一个数据文件中指定，表示表空间自动扩展。这里表示文件 ibdata1 的大小为 2000MB，文件<code>ibdata2</code>的大小为 2000MB，如果用完了 2000MB，该文件还可以自动增长。</p>
<p>设置完<code>innodb_data_file_path</code>参数后，所有基于 InnoDB 存储引擎的表的数据都会记录到该共享表空间中。</p>
<p>不过这里需要注意的是，InnoDB 在创建新数据文件时不会创建目录，如果指定目录不存在，则会报错并无法启动。另外，InnoDB 给共享表空间增加数据文件之后，必须要重启数据库系统才能生效。</p>
<p>这也是大多数人一直不太喜欢使用共享表空间而选用独立表空间的原因之一。</p>
<h4 id="独立表空间"><a href="#独立表空间" class="headerlink" title="独立表空间"></a>独立表空间</h4><p>通过设置<code>innodb_file_per_table</code>参数，可以将每个基于 InnoDB 存储引擎的表产生一个独立表空间。</p>
<p>独立表空间的命名规则为表名<code>.ibd</code>。通过这样的方式，用户不用将所有数据都存放于默认的表空间中。</p>
<p>使用<code>SET</code>命令打开&#x2F;关闭独立表空间：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> <span class="keyword">GLOBAL</span> innodb_file_per_table<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_file_per_table&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name         <span class="operator">|</span> <span class="keyword">Value</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> innodb_file_per_table <span class="operator">|</span> <span class="keyword">ON</span>    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span>, <span class="number">1</span> warning (<span class="number">0.03</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> <span class="keyword">GLOBAL</span> innodb_file_per_table<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;innodb_file_per_table&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name         <span class="operator">|</span> <span class="keyword">Value</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="operator">|</span> innodb_file_per_table <span class="operator">|</span> OFF   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------------+-------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span>, <span class="number">1</span> warning (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>需要注意的是，单独的表空间文件只存储该表的数据、索引和缓冲等信息。所以无论是使用共享表空间还是独享表空间来存放表，共享表空间都是必须存在的。</p>
<h3 id="2-日志文件"><a href="#2-日志文件" class="headerlink" title="2. 日志文件"></a>2. 日志文件</h3><p>默认情况下，InnoDB 存储引擎的数据目录下会有两个名为<code>ib_logfile0</code>和<code>ib_logfile1</code>的文件。也称为 InnoDB 存储引擎的重做日志文件。</p>
<p>重做日志文件对 InnoDB 存储引擎至关重要。InnoDB 可以通过重做日志将数据库宕机时已经完成但还没有来得及将数据写入磁盘的事务恢复，也能将所有部分完成并已经写入磁盘的未完成事务回滚，并且将数据还原，以此来保证数据的完整性。</p>
<p>每个 InnoDB 存储引擎至少有 1 个重做日志文件组，每个文件组下至少有 2 个重做日志文件，如默认的<code>ib_logfile0</code>和<code>ib_logfile1</code>。</p>
<p>如果你的数据库中有 InnoDB 的表，那么千万别全部删除 InnoDB 的日志文件，这很可能会让你的数据库 Crash，无法启动，或者丢失数据。</p>
<p>数据库不工作或停止响应、进程中断等情况，叫做数据库 Crash。</p>
<p>在 MySQL 启动参数文件设置中，InnoDB 的所有参数基本上都带有前缀<code>innodb_</code>，不论是 InnoDB 数据还是和日志相关，或者是其他一些性能，事务等等相关的参数都是一样。</p>
<p>下面是影响重做日志文件的参数：</p>
<ul>
<li><code>innodb_log_file_size</code>：指定每个重做日志的大小。</li>
<li><code>innodb_log_files_in_group</code>：指定日志文件组中重做日志文件的数量，默认为 1。</li>
<li><code>innodb_mirrored_log_groups</code>：指定日志镜像文件组的数量，默认为 1。</li>
<li><code>innodb_log_group_home_dir</code>：指定日志文件组所在路径，默认为<code>./</code>。</li>
</ul>
<p>简而言之，MySQL 中所有和 InnoDB 相关的系统变量都以“innodb_”做为前缀。</p>
<p>在 MySQL 中，可以通过<code>skip-innodb</code>参数来屏蔽 InnoDB 存储引擎，这样即使我们在安装编译时，安装了 InnoDB 存储引擎，使用者也无法创建 InnoDB 的表。</p>
<h1 id="MyISAM存储引擎"><a href="#MyISAM存储引擎" class="headerlink" title="MyISAM存储引擎"></a>MyISAM存储引擎</h1><p>MyISAM 存储引擎是 MySQL 中常见的存储引擎，曾（MySQL 5.1及之前版本）是 MySQL 的默认存储引擎。</p>
<p>MyISAM 是基于 ISAM 存储引擎发展起来的。实际上那会还没有存储引擎的概念，ISAM 只是一种算法，或者说是数据的处理方式。如同 SQL Server&#x2F;Oracle 这类产品一样，MySQL 对表对象的管理方式只有一种。随着 MySQL 架构的不断发展和演进，最终才引入插件式存储引擎的概念，ISAM 也进化为 MyISAM 并一直作为 MySQL 数据库的默认存储引擎，直到 MySQL 5.5 版本才被 InnoDB 引擎取代了默认存储引擎的地位。</p>
<h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><p>MyISAM 有一些已经开发出来很多年的特性，可以满足用户的实际需求。例如全文索引、压缩、空间函数（GIS）等。但 MySQL 官方的重心早就不在 MyISAM 引擎上了，所以近些年来，MyISAM 一直没有很大的改进，也存在着许多的缺陷。</p>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>占用空间小</li>
<li>访问速度快，对事务完整性没有要求或以<code>SELECT、INSERT</code>为主的应用基本上都可以使用这个引擎来创建表</li>
<li>可以配合锁，实现操作系统下的复制备份</li>
<li>支持全文检索（InnoDB 在 MySQL 5.6 版本以后也支持全文检索）</li>
<li>数据紧凑存储，因此可获得更小的索引和更快的全表扫描性能。</li>
</ul>
<ol>
<li>加锁与并发<br>MyISAM 对整张表加锁，而不是针对行。读取时会对需要读到的所有表加共享锁，写入时对表加排他锁。但是在表有读取查询的同时，也可以往表中插入新的记录（这被称为并发插入）。</li>
<li>修复<br>对于 MyISAM 表，MySQL 可以手工或者自动执行检查和修复操作。另外，如果 MySQL 服务器已经关闭，也可以通过<code>myisamchk</code>命令行工具进行检查和修复操作。</li>
<li>索引特性<br>MyISAM 支持以下 3 种类型的索引：</li>
</ol>
<ul>
<li>B-Tree 索引</li>
<li>R-Tree 索引</li>
<li>Full-text 索引</li>
</ul>
<p>MyISAM 上面三种索引类型中，最经常使用的就是 B-Tree 索引了，偶尔会使用到 Full-text，但是 R-Tree 索引一般系统中都是很少用到的。另外 MyISAM 的 B-Tree 索引有一个较大的限制，那就是参与一个索引的所有字段的长度之和不能超过 1000 字节。</p>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>不支持事务的完整性和并发性</li>
<li>不支持行级锁，使用表级锁，并发性差</li>
<li>主机宕机后，MyISAM表易损坏，灾难恢复性不佳</li>
<li>数据库崩溃后无法安全恢复</li>
<li>只缓存索引，数据的缓存是利用操作系统缓冲区来实现的，可能会引发过多的系统调用，且效率不佳</li>
</ul>
<h2 id="物理存储-1"><a href="#物理存储-1" class="headerlink" title="物理存储"></a>物理存储</h2><p>MyISAM 存储引擎的表在数据库中被存储成 3 个物理文件，文件名与表名相同。扩展名为<code>frm、MYD</code>和<code>MYI</code>。其中：</p>
<ul>
<li><code>frm</code>为扩展名的文件存储表的结构；</li>
<li><code>MYD</code>为扩展名的文件存储数据，其是<code>MYData</code>的缩写；</li>
<li><code>MYI</code>为扩展名的文件存储索引，其是 MYIndex 的缩写。不管表有多少索引，都是存放在同一个<code>.MYI</code>文件中。</li>
</ul>
<p>MyISAM 类型的数据文件和索引文件可以放置在不同的目录，平均分布 IO，以此来获得更快的速度。</p>
<p>虽然每一个 MyISAM 的表数据都存放在后缀名为<code>.MYD</code>的文件中，但是每个文件的存放格式可能并不完全一样。因为 MyISAM 支持 3 种不同的数据存放格式，即静态型、动态型和压缩型。</p>
<h4 id="静态型"><a href="#静态型" class="headerlink" title="静态型"></a>静态型</h4><p>静态型为 MyISAM 存储引擎的默认存储格式，其字段是固定长度，这样每个记录都是固定长度的，这种存储方式存储非常迅速，容易缓存，出现故障容易恢复。缺点是占用的空间比动态表多。静态型的表的数据在存储的时候会按照列的宽度定义去补足空格，但是在应用访问的时候并不会得到这些空格，空格在返回给应用之前就被去掉了。</p>
<p>需要注意的是，如果需要保存的内容后面本来就带有空格，那么在返回结果的时候也会被去掉。这一点开发人员在编写程序的时候需要特别注意，因为静态表是默认的存储格式，开发人员可能并没有意识到这一点，从而丢失了尾部的空格。</p>
<h4 id="动态型"><a href="#动态型" class="headerlink" title="动态型"></a>动态型</h4><p>动态型包含变长字段，记录的长度不是固定的。这样存储的优点是占用的空间相对较少，但是频繁的更新删除记录会产生碎片，需要定期执行<code>OPTIMIZE TABLE</code>语句或<code>myisamchk -r</code>命令来改善性能，并且出现故障的时候恢复相对比较困难。</p>
<h4 id="压缩型"><a href="#压缩型" class="headerlink" title="压缩型"></a>压缩型</h4><p>与上面两种格式相比，压缩型的表就显得特殊一些。压缩型的表需要使用<code>myisampack</code>工具创建，解压缩则用另外的<code>myisamchk</code>命令。压缩表是制度的，不支持添加或修改记录。</p>
<p>压缩表是基于静态或动态格式表的，优点在于占用的磁盘空间非常小，可以减少磁盘 I&#x2F;O，从而提升查询性能。因为每个记录都是被单独压缩的，所以只有非常小的开支。</p>
<p>理论上，MyISAM 存储引擎的表可以被多个数据库实例同时使用同时操作，但是一般不建议这样做，建议尽量不要在多个<code>mysqld</code>之间共享 MyISAM 存储文件。</p>
<p>如果表在创建并导入数据以后，不会再进行修改操作，这样的表或许适合采用 MyISAM 压缩表。</p>
<h1 id="不同存储引擎的数据表在文件系统里是如何表示的"><a href="#不同存储引擎的数据表在文件系统里是如何表示的" class="headerlink" title="不同存储引擎的数据表在文件系统里是如何表示的"></a>不同存储引擎的数据表在文件系统里是如何表示的</h1><p>MySQL 支持 InnoDB、MyISAM、Memory、Merge、Archive、CSV、BLACKHOLE 几种存储引擎，不同存储引擎的数据表在文件系统中的表示也各不相同。</p>
<p>MySQL 中的每一个数据表在磁盘上至少被表示为一个文件，即存放着该数据表结构定义的<code>.frm</code>文件。不同的存储引擎还有其它用来存放数据和索引信息的文件。</p>
<p>从 MySQL 8.0 版本开始，<code>frm</code>表结构定义文件被取消，MySQL 把表结构信息都写到了系统表空间。</p>
<p>不同存储引擎的数据表在文件系统中的表现形式是不同的。</p>
<h2 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h2><p>MyISAM 存储引擎的数据表在数据库目录里使用 3 个文件来代表，这些文件的基本名与数据表的名字相同，扩展名则表明了文件的具体用途。这三个文件的扩展名分别是：</p>
<ul>
<li><code>.frm</code>：表结构定义文件，存放着该数据表的结构定义。</li>
<li><code>.MYD</code>：<code>MY Data</code>的缩写，数据文件，存放着该数据表中各个行的数据。</li>
<li><code>.MYI</code>：<code>MY Index</code>的缩写，索引文件，存放着该数据表的全部索引信息。</li>
</ul>
<p>创建存储引擎为 MyISAM 的<code>tb_myisam</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>MyISAM;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_myisam( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="MERGE"><a href="#MERGE" class="headerlink" title="MERGE"></a>MERGE</h2><p>MERGE 存储引擎的数据表其实是一个逻辑结构。它代表着由一组结构完全相同的 MyISAM 数据表所构成的集合。有关的查询命令会把它当作一个大数据表来对待。</p>
<p>MERGE 存储引擎的数据表除了拥有存储表结构定义的<code>.frm</code>文件以外，还有一个扩展名为<code>.mgr</code>的文件，这个文件里不保存数据，而是数据的来源地。通俗的说，就是一份由多个 MyISAM 数据表的名单构成的 MERGE 数据表。</p>
<p>下面创建存储引擎为 MERGE 的<code>tb_merge</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span><span class="keyword">Merge</span>;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_merge( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h2><p>对于 InnoDB 存储引擎的数据表，一个表对应两个文件，一个是<code>*.frm</code>，存储表结构信息；一个是<code>*.ibd</code>，存储表中数据。</p>
<p>创建存储引擎为 InnoDB 的<code>tb_innodb</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>InnoDB;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_innodb( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.10</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h2><p>Memory 存储引擎的数据表是创建在内存中的数据表。因为 MySQL 服务器把 Memory 数据表的数据和索引都存放在了内存中而不是硬盘上，所以除了相应的<code>.frm</code>文件外，Memory 引擎表在文件系统里没有其它相应的代表文件。</p>
<p>创建存储引擎为 Memory 的<code>tb_memory</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>Memory;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_memory( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="Archive"><a href="#Archive" class="headerlink" title="Archive"></a>Archive</h2><p>Archive 存储引擎的数据表除了拥有<code>.frm</code>表结构定义文件外，还有一个扩展名为<code>.arz</code>的数据文件，用来存储历史归档数据。执行优化操作时可能还会出现一个扩展名为<code>.arn</code>的文件。</p>
<p>创建存储引擎为 Archive 的<code>tb_archive</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>Archive;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_archive( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="CSV"><a href="#CSV" class="headerlink" title="CSV"></a>CSV</h2><p>与其它类型的存储引擎相同，CSV 引擎表也会包含一个<code>.frm</code>表结构定义文件，此外还会创建一个扩展名为<code>.CSV</code>的数据文件。这个文件是 CSV 格式的文本文件，用来保存表中的实际数据。</p>
<p><code>.CSV</code>文件可以直接在 Excel 中打开，或者是使用其它文件编辑工具查看。另外，还有一个同名的元信息文件，文件扩展名为<code>.CSM</code>，用来保存表的状态及表中保存的数据量。</p>
<p>由于 CSV 文件可被直接编辑，如果操作得当，可以不通过 SQL 语句直接修改 CSV 文件中的内容。</p>
<p>CSV 存储引擎基于 CSV 格式文件存储数据，由于自身文件格式的原因，所有列必须强制指定<code>NOT NULL</code>。</p>
<p>创建存储引擎为 CSV 的<code>tb_csv</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>csv;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.02</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_csv(</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> id <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> name <span class="type">CHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="BLACKHOLE"><a href="#BLACKHOLE" class="headerlink" title="BLACKHOLE"></a>BLACKHOLE</h2><p>由于在 BLACKHOLE 存储引擎的数据表中写入任何数据都会消失，所以除了<code>.frm</code>文件，BLACKHOLE 引擎表没有其他相应的代表文件。</p>
<p>创建存储引擎为 BLACKHOLE 的<code>tb_blackhole</code>表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>BLACKHOLE;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_blackhole( id <span class="type">INT</span> );</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure>

<p>不同存储引擎的数据表在文件系统中的表示：</p>
<img src="/2020/04/09/MySQL/MySQL%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/2.png" class="">
<h1 id="查看和修改默认存储引擎"><a href="#查看和修改默认存储引擎" class="headerlink" title="查看和修改默认存储引擎"></a>查看和修改默认存储引擎</h1><p>如果需要操作默认存储引擎，首先需要查看默认存储引擎。可以通过执行下面的语句来查看默认的存储引擎：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;default_storage_engine%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>使用下面的语句可以修改数据库临时的默认存储引擎：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> default_storage_engine<span class="operator">=</span><span class="operator">&lt;</span> 存储引擎名 <span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SET</span> default_storage_engine<span class="operator">=</span>MylsAM</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;default_storage_engine%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+--------+</span></span><br><span class="line"><span class="operator">|</span> Variable_name          <span class="operator">|</span> <span class="keyword">Value</span>  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+--------+</span></span><br><span class="line"><span class="operator">|</span> default_storage_engine <span class="operator">|</span> MylsAM <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+--------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span>, <span class="number">1</span> warning (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<p>此时，可以发现 MySQL 的默认存储引擎已经变成了 MyISAM。但是当再次重启客户端时，默认存储引擎仍然是 InnoDB。</p>
<h1 id="如何选择MySQL存储引擎"><a href="#如何选择MySQL存储引擎" class="headerlink" title="如何选择MySQL存储引擎"></a>如何选择MySQL存储引擎</h1><p>不同的存储引擎都有各自的特性、优势和使用的场合，正确的选择存储引擎可以提高应用的使用效率。</p>
<p>为了能够正确地选择存储引擎，必须掌握各种存储引擎的特性。</p>
<p>MySQL存储引擎特性汇总和对比：</p>
<table>
<thead>
<tr>
<th align="center">特性</th>
<th align="center">MyISAM</th>
<th align="center">InnoDB</th>
<th align="center">MEMORY</th>
</tr>
</thead>
<tbody><tr>
<td align="center">存储限制</td>
<td align="center">有</td>
<td align="center">支持</td>
<td align="center">有</td>
</tr>
<tr>
<td align="center">事务安全</td>
<td align="center">不支持</td>
<td align="center">支持</td>
<td align="center">不支持</td>
</tr>
<tr>
<td align="center">锁机制</td>
<td align="center">表锁</td>
<td align="center">行锁</td>
<td align="center">表锁</td>
</tr>
<tr>
<td align="center">B树索引</td>
<td align="center">支持</td>
<td align="center">支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">哈希索引</td>
<td align="center">不支持</td>
<td align="center">不支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">全文索引</td>
<td align="center">支持</td>
<td align="center">不支持</td>
<td align="center">不支持</td>
</tr>
<tr>
<td align="center">集群索引</td>
<td align="center">不支持</td>
<td align="center">支持</td>
<td align="center">不支持</td>
</tr>
<tr>
<td align="center">数据缓存</td>
<td align="center"></td>
<td align="center">支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">索引缓存</td>
<td align="center">支持</td>
<td align="center">支持</td>
<td align="center">支持</td>
</tr>
<tr>
<td align="center">数据可压缩</td>
<td align="center">支持</td>
<td align="center">不支持</td>
<td align="center">不支持</td>
</tr>
<tr>
<td align="center">空间使用</td>
<td align="center">低</td>
<td align="center">高</td>
<td align="center">N&#x2F;A</td>
</tr>
<tr>
<td align="center">内存使用</td>
<td align="center">低</td>
<td align="center">高</td>
<td align="center">中等</td>
</tr>
<tr>
<td align="center">批量插入速度</td>
<td align="center">高</td>
<td align="center">低</td>
<td align="center">高</td>
</tr>
<tr>
<td align="center">支持外键</td>
<td align="center">不支持</td>
<td align="center">支持</td>
<td align="center">不支持</td>
</tr>
</tbody></table>
<p>这 3 个存储引擎的应用场合：</p>
<h4 id="1-MyISAM"><a href="#1-MyISAM" class="headerlink" title="1. MyISAM"></a>1. MyISAM</h4><p>在 MySQL 5.1 版本及之前的版本，MyISAM 是默认的存储引擎。</p>
<p>MyISAM 存储引擎不支持事务和外键，所以访问速度比较快。如果应用主要以读取和写入为主，只有少量的更新和删除操作，并且对事务的完整性、并发性要求不是很高，那么选择 MyISAM 存储引擎是非常适合的。</p>
<h4 id="2-InnoDB"><a href="#2-InnoDB" class="headerlink" title="2. InnoDB"></a>2. InnoDB</h4><p>MySQL 5.5 版本之后默认的事务型引擎修改为 InnoDB。</p>
<p>InnoDB 存储引擎在事务上具有优势，即支持具有提交、回滚和崩溃恢复能力的事务安装，所以比 MyISAM 存储引擎占用更多的磁盘空间。</p>
<p>如果应用对事务的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询以外，还包括很多的更新、删除操作，那么 InnoDB 存储引擎是比较合适的选择。</p>
<p>InnoDB 存储引擎除了可以有效地降低由于删除和更新导致的锁定，还可以确保事务的完整提交和回滚，对于类似计费系统或者财务系统等对数据准确性要求比较高的系统，InnoDB 都是合适的选择。</p>
<h4 id="3-MEMORY"><a href="#3-MEMORY" class="headerlink" title="3. MEMORY"></a>3. MEMORY</h4><p>MEMORY 存储引擎将所有数据保存在 RAM 中，所以该存储引擎的数据访问速度快，但是安全上没有保障。</p>
<p>MEMORY 对表的大小有限制，太大的表无法缓存在内存中。由于使用 MEMORY 存储引擎没有安全保障，所以要确保数据库异常终止后表中的数据可以恢复。</p>
<p>如果应用中涉及数据比较少，且需要进行快速访问，则适合使用 MEMORY 存储引擎。</p>
<p>不同应用的特点是千差万别的，选择适应存储引擎才是最佳方案也不是绝对的，这需要根据实际应用进行测试，从而得到最适合的结果。</p>
<h1 id="修改数据表的存储引擎"><a href="#修改数据表的存储引擎" class="headerlink" title="修改数据表的存储引擎"></a>修改数据表的存储引擎</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> ENGINE<span class="operator">=</span><span class="operator">&lt;</span>存储引擎名<span class="operator">&gt;</span>;</span><br></pre></td></tr></table></figure>
<p><code>ENGINE</code>关键字用来指明新的存储引擎。</p>
<p>下面将数据表<code>student</code>的存储引擎修改为 MyISAM。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student \G</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line">       <span class="keyword">Table</span>: student</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span>: <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `stuId` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `stuno` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `sex` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>latin1</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student ENGINE<span class="operator">=</span>MyISAM;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student \G;</span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span> <span class="number">1.</span> <span class="type">row</span> <span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span></span><br><span class="line">       <span class="keyword">Table</span>: student</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span>: <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `stuId` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `stuno` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `sex` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `stuId2` <span class="type">int</span>(<span class="number">4</span>) unsigned <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">) ENGINE<span class="operator">=</span>MyISAM <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>latin1</span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>以上这种方法适用于修改单个表的存储引擎，如果希望修改默认的存储引擎，就需要修改<code>my.cnf</code>配置文件。在<code>my.cnf</code>配置文件的<code>[mysqld]</code>后面加入以下语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">default-storage-engine=存储引擎名称</span><br></pre></td></tr></table></figure>
<p>然后保存就可以了。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-前端/css/CSS grid布局"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/"
    >CSS grid布局</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/" class="article-date">
  <time datetime="2020-04-08T03:41:22.000Z" itemprop="datePublished">2020-04-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>网格布局（Grid）将网页划分成一个个网格，可以任意组合不同的网格，做出各种各样的布局。</p>
<p>Grid布局与Flex布局有一定的相似性，都可以指定容器内部多个项目的位置。但是，它们也存在重大区别。</p>
<p>Flex布局是轴线布局，只能指定”项目”针对轴线的位置，可以看作是一维布局。Grid布局则是将容器划分成”行”和”列”，产生单元格，然后指定”项目所在”的单元格，可以看作是二维布局。Grid布局远比Flex布局强大。</p>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h2 id="容器和项目"><a href="#容器和项目" class="headerlink" title="容器和项目"></a>容器和项目</h2><p>采用网格布局的区域，称为”容器”（<code>container</code>）。容器内部采用网格定位的子元素，称为”项目”（<code>item</code>）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，最外层的<code>&lt;div&gt;</code>元素就是容器，内层的三个<code>&lt;div&gt;</code>元素就是项目。</p>
<p>注意：项目只能是容器的顶层子元素，不包含项目的子元素，比如上面代码的<code>&lt;p&gt;</code>元素就不是项目。Grid布局只对项目生效。</p>
<h2 id="行和列"><a href="#行和列" class="headerlink" title="行和列"></a>行和列</h2><p>容器里面的水平区域称为”行”（<code>row</code>），垂直区域称为”列”（<code>column</code>）。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img1.png" class="">
<p>上图中，水平的深色区域就是”行”，垂直的深色区域就是”列”。</p>
<h2 id="单元格"><a href="#单元格" class="headerlink" title="单元格"></a>单元格</h2><p>行和列的交叉区域，称为”单元格”（<code>cell</code>）。</p>
<p>正常情况下，<code>n</code>行和<code>m</code>列会产生<code>n x m</code>个单元格。比如，3行3列会产生9个单元格。</p>
<h2 id="网格线"><a href="#网格线" class="headerlink" title="网格线"></a>网格线</h2><p>划分网格的线，称为”网格线”（<code>grid line</code>）。水平网格线划分出行，垂直网格线划分出列。</p>
<p>正常情况下，<code>n</code>行有<code>n + 1</code>根水平网格线，<code>m</code>列有<code>m + 1</code>根垂直网格线，比如三行就有四根水平网格线。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img2.png" class="">
<p>上图是一个 4 x 4 的网格，共有5根水平网格线和5根垂直网格线。</p>
<h1 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h1><p>Grid 布局的属性分成两类。一类定义在容器上面，称为容器属性；另一类定义在项目上面，称为项目属性。这部分先介绍容器属性。</p>
<h2 id="display-属性"><a href="#display-属性" class="headerlink" title="display 属性"></a>display 属性</h2><p><code>display: grid</code>指定一个容器采用网格布局。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img3.png" class="">
<p>上图是<code>display: grid</code>的效果。</p>
<p>默认情况下，容器元素都是块级元素，但也可以设成行内元素。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-grid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码指定<code>div</code>是一个行内元素，该元素内部采用网格布局。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img4.png" class="">
<p>上图是<code>display: inline-grid</code>的效果。</p>
<p>注意，设为网格布局以后，容器子元素（项目）的<code>float、display: inline-block、display: table-cell、vertical-align</code>和<code>column-*</code>等设置都将失效。</p>
<h2 id="grid-template-columns-属性，grid-template-rows-属性"><a href="#grid-template-columns-属性，grid-template-rows-属性" class="headerlink" title="grid-template-columns 属性，grid-template-rows 属性"></a>grid-template-columns 属性，grid-template-rows 属性</h2><p>容器指定了网格布局以后，接着就要划分行和列。<code>grid-template-columns</code>属性定义每一列的列宽，<code>grid-template-rows</code>属性定义每一行的行高。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码指定了一个三行三列的网格，列宽和行高都是<code>100px</code>。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img5.png" class="">
<p>除了使用绝对单位，也可以使用百分比。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">33.33%</span> <span class="number">33.33%</span> <span class="number">33.33%</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">33.33%</span> <span class="number">33.33%</span> <span class="number">33.33%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h4><p>有时候，重复写同样的值非常麻烦，尤其网格很多时。这时，可以使用<code>repeat()</code>函数，简化重复的值。上面的代码用<code>repeat()</code>改写如下。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">33.33%</span>);</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">33.33%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>repeat()</code>接受两个参数，第一个参数是重复的次数（上例是3），第二个参数是所要重复的值。</p>
<p><code>repeat()</code>重复某种模式也是可以的。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">2</span>, <span class="number">100px</span> <span class="number">20px</span> <span class="number">80px</span>);</span><br></pre></td></tr></table></figure>
<p>上面代码定义了6列，第一列和第四列的宽度为<code>100px</code>，第二列和第五列为<code>20px</code>，第三列和第六列为<code>80px</code>。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img6.png" class="">
<h4 id="auto-fill-关键字"><a href="#auto-fill-关键字" class="headerlink" title="auto-fill 关键字"></a>auto-fill 关键字</h4><p>有时，单元格的大小是固定的，但是容器的大小不确定。如果希望每一行（或每一列）容纳尽可能多的单元格，这时可以使用<code>auto-fill</code>关键字表示自动填充。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示每列宽度<code>100px</code>，然后自动填充，直到容器不能放置更多的列。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img7.png" class="">
<h4 id="fr-关键字"><a href="#fr-关键字" class="headerlink" title="fr 关键字"></a>fr 关键字</h4><p>为了方便表示比例关系，网格布局提供了<code>fr</code>关键字（<code>fraction</code>的缩写，意为”片段”）。如果两列的宽度分别为<code>1fr</code>和<code>2fr</code>，就表示后者是前者的两倍。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示两个相同宽度的列。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img8.png" class="">
<p><code>fr</code>可以与绝对长度的单位结合使用，这时会非常方便。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">150px</span> <span class="number">1</span>fr <span class="number">2</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示，第一列的宽度为150像素，第二列的宽度是第三列的一半。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img9.png" class="">
<h4 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a>minmax()</h4><p><code>minmax()</code>函数产生一个长度范围，表示长度就在这个范围之中。它接受两个参数，分别为最小值和最大值。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="built_in">minmax</span>(<span class="number">100px</span>, <span class="number">1</span>fr);</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>minmax(100px, 1fr)</code>表示列宽不小于<code>100px</code>，不大于<code>1fr</code>。</p>
<h4 id="auto-关键字"><a href="#auto-关键字" class="headerlink" title="auto 关键字"></a>auto 关键字</h4><p><code>auto</code>关键字表示由浏览器自己决定长度。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="number">100px</span> auto <span class="number">100px</span>;</span><br></pre></td></tr></table></figure>
<p>上面代码中，第二列的宽度，基本上等于该列单元格的最大宽度，除非单元格内容设置了<code>min-width</code>，且这个值大于最大宽度。</p>
<h4 id="网格线的名称"><a href="#网格线的名称" class="headerlink" title="网格线的名称"></a>网格线的名称</h4><p><code>grid-template-columns</code>属性和<code>grid-template-rows</code>属性里面，还可以使用方括号，指定每一根网格线的名字，方便以后的引用。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: [c1] <span class="number">100px</span> [c2] <span class="number">100px</span> [c3] auto [c4];</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: [r1] <span class="number">100px</span> [r2] <span class="number">100px</span> [r3] auto [r4];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码指定网格布局为3行 x 3列，因此有4根垂直网格线和4根水平网格线。方括号里面依次是这八根线的名字。</p>
<p>网格布局允许同一根线有多个名字，比如<code>[fifth-line row-5]</code>。</p>
<h4 id="布局实例"><a href="#布局实例" class="headerlink" title="布局实例"></a>布局实例</h4><p><code>grid-template-columns</code>属性对于网页布局非常有用。两栏式布局只需要一行代码。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">70%</span> <span class="number">30%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码将左边栏设为70%，右边栏设为30%。</p>
<p>传统的十二网格布局，写起来也很容易。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">12</span>, <span class="number">1</span>fr);</span><br></pre></td></tr></table></figure>
<h2 id="grid-row-gap-属性，grid-column-gap-属性，grid-gap-属性"><a href="#grid-row-gap-属性，grid-column-gap-属性，grid-gap-属性" class="headerlink" title="grid-row-gap 属性，grid-column-gap 属性，grid-gap 属性"></a>grid-row-gap 属性，grid-column-gap 属性，grid-gap 属性</h2><p><code>grid-row-gap</code>属性设置行与行的间隔（行间距），<code>grid-column-gap</code>属性设置列与列的间隔（列间距）。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">grid-row</span>-<span class="attribute">gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">grid-column</span>-<span class="attribute">gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>grid-row-gap</code>用于设置行间距，<code>grid-column-gap</code>用于设置列间距。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img10.png" class="">
<p><code>grid-gap</code>属性是<code>grid-column-gap</code>和<code>grid-row-gap</code>的合并简写形式，语法如下。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-gap</span>: &lt;grid-row-gap&gt; &lt;grid-column-gap&gt;;</span><br></pre></td></tr></table></figure>
<p>因此，上面一段CSS代码等同于下面的代码。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">grid-gap</span>: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果<code>grid-gap</code>省略了第二个值，浏览器认为第二个值等于第一个值。</p>
<p>根据最新标准，上面三个属性名的<code>grid-</code>前缀已经删除，<code>grid-column-gap</code>和<code>grid-row-gap</code>写成<code>column-gap</code>和<code>row-gap</code>，<code>grid-gap</code>写成<code>gap</code>。</p>
<h2 id="grid-template-areas-属性"><a href="#grid-template-areas-属性" class="headerlink" title="grid-template-areas 属性"></a>grid-template-areas 属性</h2><p>网格布局允许指定”区域”（<code>area</code>），一个区域由单个或多个单元格组成。<code>grid-template-areas</code>属性用于定义区域。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">grid-template-areas</span>: <span class="string">&#x27;a b c&#x27;</span></span><br><span class="line">                       <span class="string">&#x27;d e f&#x27;</span></span><br><span class="line">                       <span class="string">&#x27;g h i&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码先划分出9个单元格，然后将其定名为a到i的九个区域，分别对应这九个单元格。</p>
<p>多个单元格合并成一个区域的写法如下。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-areas</span>: <span class="string">&#x27;a a a&#x27;</span></span><br><span class="line">                     <span class="string">&#x27;b b b&#x27;</span></span><br><span class="line">                     <span class="string">&#x27;c c c&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>上面代码将9个单元格分成<code>a、b、c</code>三个区域。</p>
<p>下面是一个布局实例。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-areas</span>: <span class="string">&quot;header header header&quot;</span></span><br><span class="line">                     <span class="string">&quot;main main sidebar&quot;</span></span><br><span class="line">                     <span class="string">&quot;footer footer footer&quot;</span>;</span><br><span class="line">```                </span><br><span class="line">上面代码中，顶部是页眉区域`<span class="selector-tag">header</span>`，底部是页脚区域`<span class="selector-tag">footer</span>`，中间部分则为`<span class="selector-tag">main</span>`和`sidebar`。</span><br><span class="line"></span><br><span class="line">如果某些区域不需要利用，则使用&quot;点&quot;（.）表示。</span><br><span class="line">```css</span><br><span class="line"><span class="attribute">grid-template-areas</span>: <span class="string">&#x27;a . c&#x27;</span></span><br><span class="line">                     <span class="string">&#x27;d . f&#x27;</span></span><br><span class="line">                     <span class="string">&#x27;g . i&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>上面代码中，中间一列为点，表示没有用到该单元格，或者该单元格不属于任何区域。</p>
<p>注意，区域的命名会影响到网格线。每个区域的起始网格线，会自动命名为区域名<code>-start</code>，终止网格线自动命名为区域名<code>-end</code>。</p>
<p>比如，区域名为<code>header</code>，则起始位置的水平网格线和垂直网格线叫做<code>header-start</code>，终止位置的水平网格线和垂直网格线叫做<code>header-end</code>。</p>
<h2 id="grid-auto-flow-属性"><a href="#grid-auto-flow-属性" class="headerlink" title="grid-auto-flow 属性"></a>grid-auto-flow 属性</h2><p>划分网格以后，容器的子元素会按照顺序，自动放置在每一个网格。默认的放置顺序是”先行后列”，即先填满第一行，再开始放入第二行，即下图数字的顺序。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img11.png" class="">
<p>这个顺序由<code>grid-auto-flow</code>属性决定，默认值是<code>row</code>，即”先行后列”。也可以将它设成<code>column</code>，变成”先列后行”。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-auto-flow</span>: column;</span><br></pre></td></tr></table></figure>
<p>上面代码设置了<code>column</code>以后，放置顺序就变成了下图。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img12.png" class="">
<p><code>grid-auto-flow</code>属性除了设置成<code>row</code>和<code>column</code>，还可以设成<code>row dense</code>和<code>column dense</code>。这两个值主要用于，某些项目指定位置以后，剩下的项目怎么自动放置。</p>
<p>下面的例子让1号项目和2号项目各占据两个单元格，然后在默认的<code>grid-auto-flow: row</code>情况下，会产生下面这样的布局。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img13.png" class="">
<p>上图中，1号项目后面的位置是空的，这是因为3号项目默认跟着2号项目，所以会排在2号项目后面。</p>
<p>现在修改设置，设为<code>row dense</code>，表示”先行后列”，并且尽可能紧密填满，尽量不出现空格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-auto-flow</span>: row dense;</span><br></pre></td></tr></table></figure>
<p>上面代码的效果如下。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img14.png" class="">
<p>上图会先填满第一行，再填满第二行，所以3号项目就会紧跟在1号项目的后面。8号项目和9号项目就会排到第四行。</p>
<p>如果将设置改为<code>column dense</code>，表示”先列后行”，并且尽量填满空格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-auto-flow</span>: column dense;</span><br></pre></td></tr></table></figure>
<p>上面代码的效果如下。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img15.png" class="">
<p>上图会先填满第一列，再填满第2列，所以3号项目在第一列，4号项目在第二列。8号项目和9号项目被挤到了第四列。</p>
<h2 id="justify-items-属性，align-items-属性，place-items-属性"><a href="#justify-items-属性，align-items-属性，place-items-属性" class="headerlink" title="justify-items 属性，align-items 属性，place-items 属性"></a>justify-items 属性，align-items 属性，place-items 属性</h2><p><code>justify-items</code>属性设置单元格内容的水平位置（左中右），<code>align-items</code>属性设置单元格内容的垂直位置（上中下）。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  justify-items: start | end | center | stretch;</span><br><span class="line">  <span class="attribute">align-items</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个属性的写法完全相同，都可以取下面这些值。<br><code>start</code>：对齐单元格的起始边缘。<br><code>end</code>：对齐单元格的结束边缘。<br><code>center</code>：单元格内部居中。<br><code>stretch</code>：拉伸，占满单元格的整个宽度（默认值）。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  justify-items: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示，单元格的内容左对齐，效果如下图。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img16.png" class="">
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">align-items</span>: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示，单元格的内容头部对齐，效果如下图。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img17.png" class="">
<p><code>place-items</code>属性是<code>align-items</code>属性和<code>justify-items</code>属性的合并简写形式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-items: &lt;align-items&gt; &lt;justify-items&gt;;</span><br></pre></td></tr></table></figure>
<p>下面是一个例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-items: start end;</span><br></pre></td></tr></table></figure>
<p>如果省略第二个值，则浏览器认为与第一个值相等。</p>
<h2 id="justify-content-属性，align-content-属性，place-content-属性"><a href="#justify-content-属性，align-content-属性，place-content-属性" class="headerlink" title="justify-content 属性，align-content 属性，place-content 属性"></a>justify-content 属性，align-content 属性，place-content 属性</h2><p><code>justify-content</code>属性是整个内容区域在容器里面的水平位置（左中右），<code>align-content</code>属性是整个内容区域的垂直位置（上中下）。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;</span><br><span class="line">  <span class="attribute">align-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个属性的写法完全相同，都可以取下面这些值。（下面的图都以<code>justify-content</code>属性为例，<code>align-content</code>属性的图完全一样，只是将水平方向改成垂直方向。）</p>
<p><code>start</code> - 对齐容器的起始边框。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img18.png" class="">
<p><code>end</code> - 对齐容器的结束边框。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img19.png" class="">
<p><code>center</code> - 容器内部居中。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img20.png" class="">
<p><code>stretch</code> - 项目大小没有指定时，拉伸占据整个网格容器。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img21.png" class="">
<p><code>space-around</code> - 每个项目两侧的间隔相等。所以，项目之间的间隔比项目与容器边框的间隔大一倍。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img22.png" class="">
<p><code>space-between</code> - 项目与项目的间隔相等，项目与容器边框之间没有间隔。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img23.png" class="">
<p><code>space-evenly</code> - 项目与项目的间隔相等，项目与容器边框之间也是同样长度的间隔。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img24.png" class="">
<p><code>place-content</code>属性是<code>align-content</code>属性和<code>justify-content</code>属性的合并简写形式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-<span class="attribute">content</span>: &lt;align-content&gt; &lt;justify-content&gt;</span><br></pre></td></tr></table></figure>
<p>下面是一个例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-<span class="attribute">content</span>: space-around space-evenly;</span><br></pre></td></tr></table></figure>
<p>如果省略第二个值，浏览器就会假定第二个值等于第一个值。</p>
<h2 id="grid-auto-columns-属性，grid-auto-rows-属性"><a href="#grid-auto-columns-属性，grid-auto-rows-属性" class="headerlink" title="grid-auto-columns 属性，grid-auto-rows 属性"></a>grid-auto-columns 属性，grid-auto-rows 属性</h2><p>有时候，一些项目的指定位置，在现有网格的外部。比如网格只有3列，但是某一个项目指定在第5行。这时，浏览器会自动生成多余的网格，以便放置项目。</p>
<p><code>grid-auto-columns</code>属性和<code>grid-auto-rows</code>属性用来设置，浏览器自动创建的多余网格的列宽和行高。它们的写法与<code>grid-template-columns</code>和<code>grid-template-rows</code>完全相同。如果不指定这两个属性，浏览器完全根据单元格内容的大小，决定新增网格的列宽和行高。</p>
<p>下面的例子里面，划分好的网格是3行 x 3列，但是，8号项目指定在第4行，9号项目指定在第5行。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">grid-auto-rows</span>: <span class="number">50px</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码指定新增的行高统一为<code>50px</code>（原始的行高为<code>100px</code>）。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img25.png" class="">
<h2 id="grid-template-属性，grid-属性"><a href="#grid-template-属性，grid-属性" class="headerlink" title="grid-template 属性，grid 属性"></a>grid-template 属性，grid 属性</h2><p><code>grid-template</code>属性是<code>grid-template-columns</code>、<code>grid-template-rows</code>和<code>grid-template-areas</code>这三个属性的合并简写形式。</p>
<p><code>grid</code>属性是<code>grid-template-rows、grid-template-columns、grid-template-areas、 grid-auto-rows、grid-auto-columns、grid-auto-flow</code>这六个属性的合并简写形式。</p>
<p>从易读易写的角度考虑，还是建议不要合并属性，所以这里就不详细介绍这两个属性了。</p>
<h1 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h1><p>下面这些属性定义在项目上面。</p>
<h2 id="grid-column-start-属性，grid-column-end-属性，grid-row-start-属性，grid-row-end-属性"><a href="#grid-column-start-属性，grid-column-end-属性，grid-row-start-属性，grid-row-end-属性" class="headerlink" title="grid-column-start 属性，grid-column-end 属性，grid-row-start 属性，grid-row-end 属性"></a>grid-column-start 属性，grid-column-end 属性，grid-row-start 属性，grid-row-end 属性</h2><p>项目的位置是可以指定的，具体方法就是指定项目的四个边框，分别定位在哪根网格线。<br><code>grid-column-start</code>属性：左边框所在的垂直网格线<br><code>grid-column-end</code>属性：右边框所在的垂直网格线<br><code>grid-row-start</code>属性：上边框所在的水平网格线<br><code>grid-row-end</code>属性：下边框所在的水平网格线</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码指定，1号项目的左边框是第二根垂直网格线，右边框是第四根垂直网格线。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img26.png" class="">
<p>上图中，只指定了1号项目的左右边框，没有指定上下边框，所以会采用默认位置，即上边框是第一根水平网格线，下边框是第二根水平网格线。</p>
<p>除了1号项目以外，其他项目都没有指定位置，由浏览器自动布局，这时它们的位置由容器的<code>grid-auto-flow</code>属性决定，这个属性的默认值是<code>row</code>，因此会”先行后列”进行排列。读者可以把这个属性的值分别改成<code>column、row dense</code>和<code>column dense</code>，看看其他项目的位置发生了怎样的变化。</p>
<p>下面的例子是指定四个边框位置的效果。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">grid-row-start</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">grid-row-end</span>: <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img27.png" class="">
<p>这四个属性的值，除了指定为第几个网格线，还可以指定为网格线的名字。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: header-start;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: header-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，左边框和右边框的位置，都指定为网格线的名字。</p>
<p>这四个属性的值还可以使用<code>span</code>关键字，表示”跨越”，即左右边框（上下边框）之间跨越多少个网格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码表示，1号项目的左边框距离右边框跨越2个网格。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img28.png" class="">
<p>这与下面的代码效果完全一样。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用这四个属性，如果产生了项目的重叠，则使用<code>z-index</code>属性指定项目的重叠顺序。</p>
<h2 id="grid-column-属性，grid-row-属性"><a href="#grid-column-属性，grid-row-属性" class="headerlink" title="grid-column 属性，grid-row 属性"></a>grid-column 属性，grid-row 属性</h2><p><code>grid-column</code>属性是<code>grid-column-start</code>和<code>grid-column-end</code>的合并简写形式，<code>grid-row</code>属性是<code>grid-row-start</code>属性和<code>grid-row-end</code>的合并简写形式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>:  / ;</span><br><span class="line">  <span class="attribute">grid-row</span>:  / ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是一个例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span> / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 等同于 */</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-column-end</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">grid-row-start</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row-end</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，项目<code>item-1</code>占据第一行，从第一根列线到第三根列线。</p>
<p>这两个属性之中，也可以使用<code>span</code>关键字，表示跨越多少个网格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 等同于 */</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，项目<code>item-1</code>占据的区域，包括第一行 + 第二行、第一列 + 第二列。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img29.png" class="">
<p>斜杠以及后面的部分可以省略，默认跨越一个网格。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">grid-row</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，项目<code>item-1</code>占据左上角第一个网格。</p>
<h2 id="grid-area-属性"><a href="#grid-area-属性" class="headerlink" title="grid-area 属性"></a>grid-area 属性</h2><p><code>grid-area</code>属性指定项目放在哪一个区域。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，1号项目位于e区域，效果如下图。</p>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img30.png" class="">
<p><code>grid-area</code>属性还可用作<code>grid-row-start、grid-column-start、grid-row-end、grid-column-end</code>的合并简写形式，直接指定项目的位置。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是一个例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">grid-area</span>: <span class="number">1</span> / <span class="number">1</span> / <span class="number">3</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="justify-self-属性，align-self-属性，place-self-属性"><a href="#justify-self-属性，align-self-属性，place-self-属性" class="headerlink" title="justify-self 属性，align-self 属性，place-self 属性"></a>justify-self 属性，align-self 属性，place-self 属性</h2><p><code>justify-self</code>属性设置单元格内容的水平位置（左中右），跟<code>justify-items</code>属性的用法完全一致，但只作用于单个项目。</p>
<p><code>align-self</code>属性设置单元格内容的垂直位置（上中下），跟<code>align-items</code>属性的用法完全一致，也是只作用于单个项目。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  justify-self: start | end | center | stretch;</span><br><span class="line">  <span class="attribute">align-self</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个属性都可以取下面四个值。<br><code>start</code>：对齐单元格的起始边缘。<br><code>end</code>：对齐单元格的结束边缘。<br><code>center</code>：单元格内部居中。<br><code>stretch</code>：拉伸，占满单元格的整个宽度（默认值）。</p>
<p>下面是<code>justify-self: start</code>的例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span>  &#123;</span><br><span class="line">  justify-self: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/08/%E5%89%8D%E7%AB%AF/css/CSS%20grid%E5%B8%83%E5%B1%80/img31.png" class="">
<p><code>place-self</code>属性是<code>align-self</code>属性和<code>justify-self</code>属性的合并简写形式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: &lt;align-self&gt; &lt;justify-self&gt;;</span><br></pre></td></tr></table></figure>
<p>下面是一个例子。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: center center;</span><br></pre></td></tr></table></figure>
<p>如果省略第二个值，<code>place-self</code>属性会认为这两个值相等。</p>
<a href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html" title="" target="">转载自：CSS Grid 网格布局教程</a>





 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-MySQL/MySQL数据类型"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/07/MySQL/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"
    >MySQL数据类型</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/07/MySQL/MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="article-date">
  <time datetime="2020-04-07T03:49:51.000Z" itemprop="datePublished">2020-04-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a> / <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="数据类型简介"><a href="#数据类型简介" class="headerlink" title="数据类型简介"></a>数据类型简介</h1><p>数据类型是指系统中所允许的数据的类型。MySQL 数据类型定义了列中可以存储什么数据以及该数据怎样存储的规则。</p>
<p>数据库中的每个列都应该有适当的数据类型，用于限制或允许该列中存储的数据。例如，列中存储的为数字，则相应的数据类型应该为数值类型。</p>
<p>如果使用错误的数据类型可能会严重影响应用程序的功能和性能，所以在设计表时，应该特别重视数据列所用的数据类型。更改包含数据的列不是一件小事，这样做可能会导致数据丢失。因此，在创建表时必须为每个列设置正确的数据类型和长度。</p>
<p>MySQL 的数据类型有大概可以分为 5 种，分别是整数类型、浮点数类型和定点数类型、日期和时间类型、字符串类型、二进制类型等。整数类型和浮点数类型可以统称为数值数据类型。</p>
<ol>
<li>数值类型：整数类型包括<code>TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT</code>，浮点数类型包括<code>FLOAT</code>和<code>DOUBLE</code>，定点数类型为<code>DECIMAL</code>。</li>
<li>日期&#x2F;时间类型：包括<code>YEAR、TIME、DATE、DATETIME</code>和<code>TIMESTAMP</code>。</li>
<li>字符串类型：包括<code>CHAR、VARCHAR、BINARY、VARBINARY、BLOB、TEXT、ENUM</code>和<code>SET</code>等。</li>
<li>二进制类型：包括<code>BIT、BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB</code>和<code>LONGBLOB</code>。</li>
</ol>
<h1 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h1><p>整数类型有<code>TINYINT、SMALLINT、MEDIUMINT、INT、BIGINT</code>，其属性字段可以添加<code>AUTO_INCREMENT</code>自增约束条件。</p>
<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">有符号(SIGNED)范围</th>
<th align="center">无符号(UNSIGNED)范围</th>
<th align="center">说明</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">TINYINT</td>
<td align="center">-2<sup>7</sup>〜2<sup>7</sup>-1</td>
<td align="center">0 〜2<sup>8</sup>-1</td>
<td align="center">很小的整数</td>
<td align="center">1个字节</td>
</tr>
<tr>
<td align="center">SMALLINT</td>
<td align="center">-2<sup>15</sup>〜2<sup>15</sup>-1</td>
<td align="center">0〜2<sup>16</sup>-1</td>
<td align="center">小的整数</td>
<td align="center">2个宇节</td>
</tr>
<tr>
<td align="center">MEDIUMINT</td>
<td align="center">-2<sup>23</sup>〜2<sup>23</sup>-1</td>
<td align="center">0〜2<sup>24</sup>-1</td>
<td align="center">中等大小的整数</td>
<td align="center">3个字节</td>
</tr>
<tr>
<td align="center">INT (INTEGER)</td>
<td align="center">-2<sup>31</sup>〜2<sup>31</sup>-1</td>
<td align="center">0〜2<sup>32</sup>-1</td>
<td align="center">普通大小的整数</td>
<td align="center">4个字节</td>
</tr>
<tr>
<td align="center">BIGINT</td>
<td align="center">-2<sup>63</sup>〜2<sup>63</sup>-1</td>
<td align="center">0〜2<sup>64</sup>-1</td>
<td align="center">大整数</td>
<td align="center">8个字节</td>
</tr>
</tbody></table>
<p>提示：显示宽度和数据类型的取值范围是无关的。显示宽度只是指明 MySQL 最大可能显示的数字个数，数值的位数小于指定的宽度时会由空格填充。如果插入了大于显示宽度的值，只要该值不超过该类型整数的取值范围，数值依然可以插入，而且能够显示出来。例如，<code>year</code>字段插入 19999，当使用<code>SELECT</code>查询该列值的时候，MySQL 显示的将是完整的带有 5 位数字的 19999，而不是 4 位数字的值。</p>
<p>其他整型数据类型也可以在定义表结构时指定所需的显示宽度，如果不指定，则系统为每一种类型指定默认的宽度值。</p>
<p>不同的整数类型有不同的取值范围，并且需要不同的存储空间，因此应根据实际需要选择最合适的类型，这样有利于提高查询的效率和节省存储空间。</p>
<h1 id="小数类型"><a href="#小数类型" class="headerlink" title="小数类型"></a>小数类型</h1><p>MySQL 中使用浮点数和定点数来表示小数。</p>
<p>浮点类型有两种，分别是单精度浮点数（<code>FLOAT</code>）和双精度浮点数（<code>DOUBLE</code>）；定点类型只有一种，就是<code>DECIMAL</code>。</p>
<p>浮点类型和定点类型都可以用<code>(M, D)</code>来表示，其中<code>M</code>称为精度，表示总共的位数；<code>D</code>称为标度，表示小数的位数。</p>
<p>浮点数类型的取值范围为<code>M（1~255）</code>和<code>D（1~30，且不能大于 M-2）</code>，分别表示显示宽度和小数位数。<code>M</code>和<code>D</code>在<code>FLOAT</code>和<code>DOUBLE</code>中是可选的，<code>FLOAT</code>和<code>DOUBLE</code>类型将被保存为硬件所支持的最大精度。<code>DECIMAL</code>的默认<code>D</code>值为 0、<code>M</code>值为 10。</p>
<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">有符号(SIGNED)范围</th>
<th align="center">无符号(UNSIGNED)范围</th>
<th align="center">说明</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">FLOAT</td>
<td align="center">-2<sup>-128</sup>~2<sup>128</sup></td>
<td align="center">0, 2<sup>-126</sup>~2<sup>128</sup></td>
<td align="center">单精度浮点数</td>
<td align="center">4 个字节</td>
</tr>
<tr>
<td align="center">DOUBLE</td>
<td align="center">-2<sup>1024</sup>~2<sup>1024</sup></td>
<td align="center">0, 2<sup>-1022</sup>~2<sup>1024</sup></td>
<td align="center">双精度浮点数</td>
<td align="center">8 个字节</td>
</tr>
<tr>
<td align="center">DECIMAL (M, D)</td>
<td align="center">依赖于M(精度)和D(标度)的值</td>
<td align="center">依赖于M(精度)和D(标度)的值</td>
<td align="center">压缩的“严格”定点数</td>
<td align="center">M+2 个字节</td>
</tr>
</tbody></table>
<p><code>DECIMAL</code>类型不同于<code>FLOAT</code>和<code>DOUBLE</code>。<code>DOUBLE</code>实际上是以字符串的形式存放的，<code>DECIMAL</code>可能的最大取值范围与<code>DOUBLE</code>相同，但是有效的取值范围由<code>M</code>和<code>D</code>决定。如果改变<code>M</code>而固定<code>D</code>，则取值范围将随<code>M</code>的变大而变大。</p>
<blockquote>
<p>提示：不论是定点还是浮点类型，如果用户指定的精度超出精度范围，则会四舍五入进行处理。</p>
</blockquote>
<p><code>FLOAT</code>和<code>DOUBLE</code>在不指定精度时，默认会按照实际的精度（由计算机硬件和操作系统决定），<code>DECIMAL</code>如果不指定精度，默认为<code>(10，0)</code>。</p>
<p>浮点数相对于定点数的优点是在长度一定的情况下，浮点数能够表示更大的范围；缺点是会引起精度问题。</p>
<p>最后再强调一下：在 MySQL 中，定点数以字符串形式存储，在对精度要求比较高的时候（如货币、科学数据），使用<code>DECIMAL</code>的类型比较好，另外两个浮点数进行减法和比较运算时也容易出问题，所以在使用浮点数时需要注意，并尽量避免做浮点数比较。</p>
<h1 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h1><p>MySQL 中有表示日期的数据类型：<code>YEAR、TIME、DATE、DTAETIME、TIMESTAMP</code>。</p>
<p>每一个类型都有合法的取值范围，当指定确定不合法的值时，系统将“零”值插入数据库中。</p>
<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">日期格式</th>
<th align="center">日期范围</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">YEAR</td>
<td align="center">YYYY</td>
<td align="center">1901 ~ 2155</td>
<td align="center">1 个字节</td>
</tr>
<tr>
<td align="center">TIME</td>
<td align="center">HH:MM:SS</td>
<td align="center">-838:59:59~838:59:59</td>
<td align="center">3 个字节</td>
</tr>
<tr>
<td align="center">DATE</td>
<td align="center">YYYY-MM-DD</td>
<td align="center">1000-01-01~9999-12-3</td>
<td align="center">3 个字节</td>
</tr>
<tr>
<td align="center">DATETIME</td>
<td align="center">YYYY-MM-DD HH:MM:SS</td>
<td align="center">1000-01-01 00:00:00~9999-12-31 23:59:59</td>
<td align="center">8 个字节</td>
</tr>
<tr>
<td align="center">TIMESTAMP</td>
<td align="center">YYYY-MM-DD HH:MM:SS</td>
<td align="center">1970-01-01 00:00:01~2038-01-19 03:14:07</td>
<td align="center">4 个字节</td>
</tr>
</tbody></table>
<h2 id="YEAR-类型"><a href="#YEAR-类型" class="headerlink" title="YEAR 类型"></a>YEAR 类型</h2><p><code>YEAR</code>类型是一个单字节类型，用于表示年，在存储时只需要 1 个字节。可以使用各种格式指定<code>YEAR</code>：</p>
<ul>
<li>以 4 位字符串或者 4 位数字格式表示的<code>YEAR</code>，范围为<code>1901~2155</code>。输入格式为<code>&#39;YYYY&#39;</code>或者<code>YYYY</code>，例如，输入<code>&#39;2010&#39;</code>或<code>2010</code>，插入数据库的值均为 2010。</li>
<li>以 2 位字符串格式表示的<code>YEAR</code>，范围为<code>00</code>到<code>99</code>。<code>00~69</code>和<code>70~99</code>范围的值分别被转换为<code>2000~2069</code>和<code>1970~1999</code>范围的<code>YEAR</code>值。<code>&#39;0&#39;</code>与<code>&#39;00&#39;</code>的作用相同。插入超过取值范围的值将被转换为 2000。</li>
<li>以 2 位数字表示的<code>YEAR</code>，范围为<code>1~99</code>。<code>1~99</code>和<code>70~99</code>范围的值分别被转换为<code>2001~2069</code>和<code>1970~1999</code>范围的<code>YEAR</code>值。注意，在这里 0 值将被转换为 0000，而不是 2000。</li>
</ul>
<p>提示：两位整数范围与两位字符串范围稍有不同。例如，插入 3000 年，可能会使用数字格式的 0 表示<code>YEAR</code>，实际上，插入数据库的值为 0000，而不是所希望的 3000。只有使用字符串格式的 ‘0’ 或 ‘00’，才可以被正确解释为 3000，非法<code>YEAR</code>值将被转换为 0000。</p>
<h2 id="TIME-类型"><a href="#TIME-类型" class="headerlink" title="TIME 类型"></a>TIME 类型</h2><p><code>TIME</code>类型用于只需要时间信息的值，在存储时需要 3 个字节。格式为<code>HH:MM:SS</code>。</p>
<p><code>TIME</code>类型的取值范围为<code>-838:59:59~838:59:59</code>，小时部分如此大的原因是<code>TIME</code>类型不仅可以用于表示一天的时间（必须小于 24 小时），还可能是某个事件过去的时间或两个事件之间的时间间隔（可大于 24 小时，或者甚至为负）。</p>
<p>可以使用各种格式指定<code>TIME</code>值：</p>
<ul>
<li><code>&#39;D HH:MM:SS&#39;</code>格式的字符串。还可以使用这些“非严格”的语法：<code>&#39;HH:MM:SS&#39;、&#39;HH:MM&#39;、&#39;D HH&#39;</code>或<code>&#39;SS&#39;</code>。这里的<code>D</code>表示日，可以取 0~34 之间的值。在插入数据库时，<code>D</code>被转换为小时保存，格式为<code>D*24+HH</code>。</li>
<li><code>&#39;HHMMSS&#39;</code>格式、没有间隔符的字符串或者 HHMMSS 格式的数值，假定是有意义的时间。例如，’101112’ 被理解为<code>&#39;10:11:12&#39;</code>，但是<code>&#39;106112&#39;</code>是不合法的（它有一个没有意义的分钟部分），在存储时将变为<code>00:00:00</code>。</li>
</ul>
<p>提示：为<code>TIME</code>列分配简写值时应注意：如果没有冒号，MySQL 解释值时，假定最右边的两位表示秒。（MySQL 解释<code>TIME</code>值为过去的时间而不是当前的时间）。例如，我们可能认为<code>&#39;1112&#39;</code>和<code>1112</code>表示<code>11:12:00</code>，但MySQL 将它们解释为<code>00:11:12</code>。同样 ‘12’ 和 12 被解释为<code>00:00:12</code>。相反，<code>TIME</code>值中如果使用冒号则肯定被看作当天的时间，也就是说，<code>&#39;11:12&#39;</code>表示<code>11:12:00</code>，而不是<code>00:11:12</code>。</p>
<h2 id="DATE-类型"><a href="#DATE-类型" class="headerlink" title="DATE 类型"></a>DATE 类型</h2><p><code>DATE</code>类型用于仅需要日期值时，没有时间部分，在存储时需要 3 个字节。日期格式为<code>&#39;YYYY-MM-DD&#39;</code>。</p>
<p>在给<code>DATE</code>类型的字段赋值时，可以使用字符串类型或者数字类型的数据插入，只要符合<code>DATE</code>的日期格式即可。如下所示：</p>
<ul>
<li>以<code>&#39;YYYY-MM-DD&#39;</code>或者<code>&#39;YYYYMMDD&#39;</code>字符中格式表示的日期，取值范围为<code>&#39;1000-01-01&#39;~&#39;9999-12-3&#39;</code>。例如，输入<code>&#39;2015-12-31&#39;</code>或者<code>&#39;20151231&#39;</code>，插入数据库的日期为<code>2015-12-31</code>。</li>
<li>以<code>&#39;YY-MM-DD&#39;</code>或者<code>&#39;YYMMDD&#39;</code>字符串格式表示日期，在这里<code>YY</code>表示两位的年值。MySQL 解释两位年值的规则：<code>&#39;00~69&#39;</code>范围的年值转换为 <code>&#39;2000~2069&#39;</code>，<code>&#39;70~99&#39;</code>范围的年值转换为<code>&#39;1970~1999&#39;</code>。例如，输入<code>&#39;15-12-31&#39;</code>，插入数据库的日期为<code>2015-12-31</code>；输入<code>&#39;991231&#39;</code>，插入数据库的日期为<code>1999-12-31</code>。</li>
<li>以<code>YYMMDD</code>数字格式表示的日期，与前面相似，<code>00~69</code>范围的年值转换为<code>2000~2069</code>，<code>80~99</code>范围的年值转换为<code>1980~1999</code>。例如，输入 151231，插入数据库的日期为<code>2015-12-31</code>，输入 991231，插入数据库的日期为<code>1999-12-31</code>。</li>
<li>使用<code>CURRENT_DATE</code>或者<code>NOW()</code>，插入当前系统日期。</li>
</ul>
<blockquote>
<p>提示：MySQL 允许“不严格”语法：任何标点符号都可以用作日期部分之间的间隔符。例如，<code>&#39;98-11-31&#39;、&#39;98.11.31&#39;、&#39;98/11/31&#39;</code>和<code>&#39;98@11@31&#39;</code>是等价的，这些值也可以正确地插入数据库。</p>
</blockquote>
<h2 id="DATETIME-类型"><a href="#DATETIME-类型" class="headerlink" title="DATETIME 类型"></a>DATETIME 类型</h2><p><code>DATETIME</code>类型用于需要同时包含日期和时间信息的值，在存储时需要 8 个字节。日期格式为<code>&#39;YYYY-MM-DD HH:MM:SS&#39;</code>。</p>
<p>在给<code>DATETIME</code>类型的字段赋值时，可以使用字符串类型或者数字类型的数据插入，只要符合<code>DATETIME</code>的日期格式即可，如下所示。</p>
<ul>
<li>以<code>&#39;YYYY-MM-DD HH:MM:SS&#39;</code>或者<code>&#39;YYYYMMDDHHMMSS&#39;</code>字符串格式表示的日期，取值范围为<code>&#39;1000-01-01 00:00:00&#39;~&#39;9999-12-3 23:59:59&#39;</code>。例如，输入<code>&#39;2014-12-31 05:05:05&#39;</code>或者<code>&#39;20141231050505’</code>，插入数据库的<code>DATETIME</code>值都为<code>2014-12-31 05:05:05</code>。</li>
<li>以<code>&#39;YY-MM-DD HH:MM:SS&#39;</code>或者<code>&#39;YYMMDDHHMMSS&#39;</code>字符串格式表示的日期，在这里<code>YY</code>表示两位的年值。与前面相同，<code>&#39;00~79&#39;</code>范围的年值转换为<code>&#39;2000~2079&#39;</code>，<code>&#39;80~99&#39;</code>范围的年值转换为<code>&#39;1980~1999&#39;</code>。例如，输入<code>&#39;14-12-31 05:05:05&#39;</code>，插入数据库的<code>DATETIME</code>为<code>2014-12-31 05:05:05</code>；输入<code>141231050505</code>，插入数据库的<code>DATETIME</code>为<code>2014-12-31 05:05:05</code>。</li>
<li>以<code>YYYYMMDDHHMMSS</code>或者<code>YYMMDDHHMMSS</code>数字格式表示的日期和时间。例如，输入 20141231050505，插入数据库的<code>DATETIME</code>为<code>2014-12-31 05:05:05</code>；输入<code>140505050505</code>，插入数据库的<code>DATETIME</code>为<code>2014-12-31 05:05:05</code>。</li>
</ul>
<p>提示：MySQL 允许“不严格”语法：任何标点符号都可用作日期部分或时间部分之间的间隔符。例如，<code>&#39;98-12-31 11:30:45&#39;、&#39;98.12.31 11+30+35&#39;、&#39;98/12/31 11*30*45&#39;</code>和<code>&#39;98@12@31 11^30^45&#39;</code>是等价的，这些值都可以正确地插入数据库。</p>
<h2 id="TIMESTAMP-类型"><a href="#TIMESTAMP-类型" class="headerlink" title="TIMESTAMP 类型"></a>TIMESTAMP 类型</h2><p><code>TIMESTAMP</code>的显示格式与<code>DATETIME</code>相同，显示宽度固定在 19 个字符，日期格式为<code>YYYY-MM-DD HH:MM:SS</code>，在存储时需要 4 个字节。但是<code>TIMESTAMP</code>列的取值范围小于<code>DATETIME</code>的取值范围，为<code>&#39;1970-01-01 00:00:01&#39;UTC~&#39;2038-01-19 03:14:07&#39;UTC</code>。在插入数据时，要保证在合法的取值范围内。</p>
<p><code>TIMESTAMP</code>与<code>DATETIME</code>除了存储字节和支持的范围不同外，还有一个最大的区别是：</p>
<ul>
<li><code>DATETIME</code>在存储日期数据时，按实际输入的格式存储，即输入什么就存储什么，与时区无关；</li>
<li>而<code>TIMESTAMP</code>值的存储是以 UTC（世界标准时间）格式保存的，存储时对当前时区进行转换，检索时再转换回当前时区。即查询时，根据当前时区的不同，显示的时间值是不同的。</li>
</ul>
<p>提示：如果为一个<code>DATETIME</code>或<code>TIMESTAMP</code>对象分配一个<code>DATE</code>值，结果值的时间部分被设置为<code>&#39;00:00:00&#39;</code>，因此<code>DATE</code>值未包含时间信息。如果为一个<code>DATE</code>对象分配一个<code>DATETIME</code>或<code>TIMESTAMP</code>值，结果值的时间部分被删除，因此<code>DATE</code>值未包含时间信息。</p>
<h1 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h1><p>字符串类型用来存储字符串数据，还可以存储图片和声音的二进制数据。字符串可以区分或者不区分大小写的串比较，还可以进行正则表达式的匹配查找。</p>
<p>MySQL 中的字符串类型有<code>CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT、ENUM、SET</code>等。</p>
<p>下表中列出了 MySQL 中的字符串数据类型，括号中的<code>M</code>表示可以为其指定长度。</p>
<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">说明</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">CHAR(M)</td>
<td align="center">固定长度非二进制字符串</td>
<td align="center">M 字节，1&lt;&#x3D;M&lt;&#x3D;255</td>
</tr>
<tr>
<td align="center">VARCHAR(M)</td>
<td align="center">变长非二进制字符串</td>
<td align="center">L+1 字节，在此，L&lt; &#x3D; M和 1&lt;&#x3D;M&lt;&#x3D;255</td>
</tr>
<tr>
<td align="center">TINYTEXT</td>
<td align="center">非常小的非二进制字符串</td>
<td align="center">L+1 字节，在此，L&lt;2<sup>8</sup></td>
</tr>
<tr>
<td align="center">TEXT</td>
<td align="center">小的非二进制字符串</td>
<td align="center">L+2 字节，在此，L&lt;2<sup>16</sup></td>
</tr>
<tr>
<td align="center">MEDIUMTEXT</td>
<td align="center">中等大小的非二进制字符串</td>
<td align="center">L+3 字节，在此，L&lt;2<sup>24</sup></td>
</tr>
<tr>
<td align="center">LONGTEXT</td>
<td align="center">大的非二进制字符串</td>
<td align="center">L+4字节，在此，L&lt;2<sup>32</sup></td>
</tr>
<tr>
<td align="center">ENUM</td>
<td align="center">枚举类型，只能有一个枚举字符串值</td>
<td align="center">1或2个字节，取决于枚举值的数目 (最大值为65535)</td>
</tr>
<tr>
<td align="center">SET</td>
<td align="center">一个设置，字符串对象可以有零个或 多个SET成员</td>
<td align="center">1、2、3、4或8个字节，取决于集合 成员的数量（最多64个成员）</td>
</tr>
</tbody></table>
<p><code>VARCHAR</code>和<code>TEXT</code>类型是变长类型，其存储需求取决于列值的实际长度（在前面的表格中用<code>L</code>表示），而不是取决于类型的最大可能尺寸。</p>
<p>例如，一个<code>VARCHAR(10)</code>列能保存一个最大长度为 10 个字符的字符串，实际的存储需要字符串的长度<code>L</code>加上一个字节以记录字符串的长度。对于字符<code>abcd</code>，<code>L</code>是 4，而存储要求 5 个字节。</p>
<h2 id="CHAR-和-VARCHAR-类型"><a href="#CHAR-和-VARCHAR-类型" class="headerlink" title="CHAR 和 VARCHAR 类型"></a>CHAR 和 VARCHAR 类型</h2><p><code>CHAR(M)</code>为固定长度字符串，在定义时指定字符串列长。当保存时，在右侧填充空格以达到指定的长度。<code>M</code>表示列的长度，范围是 0~255 个字符。</p>
<p>例如，<code>CHAR(4)</code>定义了一个固定长度的字符串列，包含的字符个数最大为 4。当检索到<code>CHAR</code>值时，尾部的空格将被删除。</p>
<p><code>VARCHAR(M)</code>是长度可变的字符串，<code>M</code>表示最大列的长度，<code>M</code>的范围是<code>0~65535</code>。<code>VARCHAR</code>的最大实际长度由最长的行的大小和使用的字符集确定，而实际占用的空间为字符串的实际长度加 1。</p>
<p>例如，<code>VARCHAR(50)</code>定义了一个最大长度为 50 的字符串，如果插入的字符串只有 10 个字符，则实际存储的字符串为 10 个字符和一个字符串结束字符。<code>VARCHAR</code>在值保存和检索时尾部的空格仍保留。</p>
<p>下面将不同的字符串保存到<code>CHAR(4)</code>和<code>VARCHAR(4)</code>列，说明<code>CHAR</code>和<code>VARCHAR</code>之间的差别。</p>
<table>
<thead>
<tr>
<th align="center">插入值</th>
<th align="center">CHAR(4)</th>
<th align="center">存储需求</th>
<th align="center">VARCHAR(4)</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">‘ ‘</td>
<td align="center">‘    ‘</td>
<td align="center">4字节</td>
<td align="center">‘’</td>
<td align="center">1字节</td>
</tr>
<tr>
<td align="center">‘ab’</td>
<td align="center">‘ab  ‘</td>
<td align="center">4字节</td>
<td align="center">‘ab’</td>
<td align="center">3字节</td>
</tr>
<tr>
<td align="center">‘abc’</td>
<td align="center">‘abc ‘</td>
<td align="center">4字节</td>
<td align="center">‘abc’</td>
<td align="center">4字节</td>
</tr>
<tr>
<td align="center">‘abcd’</td>
<td align="center">‘abcd’</td>
<td align="center">4字节</td>
<td align="center">‘abcd’</td>
<td align="center">5字节</td>
</tr>
<tr>
<td align="center">‘abcdef’</td>
<td align="center">‘abcd’</td>
<td align="center">4字节</td>
<td align="center">‘abcd’</td>
<td align="center">5字节</td>
</tr>
</tbody></table>
<p>对比结果可以看到，<code>CHAR(4)</code>定义了固定长度为 4 的列，无论存入的数据长度为多少，所占用的空间均为 4 个字节。<code>VARCHAR(4)</code>定义的列所占的字节数为实际长度加 1。</p>
<h2 id="TEXT-类型"><a href="#TEXT-类型" class="headerlink" title="TEXT 类型"></a>TEXT 类型</h2><p><code>TEXT</code>列保存非二进制字符串，如文章内容、评论等。当保存或查询<code>TEXT</code>列的值时，不删除尾部空格。</p>
<p><code>TEXT</code>类型分为 4 种：<code>TINYTEXT、TEXT、MEDIUMTEXT</code>和<code>LONGTEXT</code>。不同的<code>TEXT</code>类型的存储空间和数据长度不同。</p>
<ul>
<li><code>TINYTEXT</code>表示长度为 255（2<sup>8</sup>-1）字符的<code>TEXT</code>列。</li>
<li><code>TEXT</code>表示长度为 65535（2<sup>16</sup>-1）字符的<code>TEXT</code>列。</li>
<li><code>MEDIUMTEXT</code>表示长度为 16777215（2<sup>24</sup>-1）字符的<code>TEXT</code>列。</li>
<li><code>LONGTEXT</code>表示长度为 4294967295 或 4GB（2<sup>32</sup>-1）字符的<code>TEXT</code>列。</li>
</ul>
<h2 id="ENUM-类型"><a href="#ENUM-类型" class="headerlink" title="ENUM 类型"></a>ENUM 类型</h2><p><code>ENUM</code>是一个字符串对象，值为表创建时列规定中枚举的一列值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;字段名&gt; ENUM( &#x27;值1&#x27;, &#x27;值1&#x27;, …, &#x27;值n&#x27; )</span><br></pre></td></tr></table></figure>
<p>字段名指将要定义的字段，值<code>n</code>指枚举列表中第<code>n</code>个值。</p>
<p><code>ENUM</code>类型的字段在取值时，能在指定的枚举列表中获取，而且一次只能取一个。如果创建的成员中有空格，尾部的空格将自动被删除。</p>
<p><code>ENUM</code>值在内部用整数表示，每个枚举值均有一个索引值；列表值所允许的成员值从 1 开始编号，MySQL 存储的就是这个索引编号，枚举最多可以有 65535 个元素。</p>
<p>例如，定义<code>ENUM</code>类型的列<code>（&#39;first&#39;，&#39;second&#39;，&#39;third&#39;）</code>，该列可以取的值和每个值的索引如下表所示。</p>
<table>
<thead>
<tr>
<th align="center">值</th>
<th align="center">索引</th>
</tr>
</thead>
<tbody><tr>
<td align="center">NULL</td>
<td align="center">NULL</td>
</tr>
<tr>
<td align="center">‘’</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">first</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">second</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">third</td>
<td align="center">3</td>
</tr>
</tbody></table>
<p><code>ENUM</code>值依照列索引顺序排列，并且空字符串排在非空字符串前，<code>NULL</code>值排在其他所有枚举值前。</p>
<p>提示：<code>ENUM</code>列总有一个默认值。如果将<code>ENUM</code>列声明为<code>NULL</code>，<code>NULL</code>值则为该列的一个有效值，并且默认值为<code>NULL</code>。如果<code>ENUM</code>列被声明为<code>NOT NULL</code>，其默认值为允许的值列表的第 1 个元素。</p>
<h2 id="SET-类型"><a href="#SET-类型" class="headerlink" title="SET 类型"></a>SET 类型</h2><p><code>SET</code>是一个字符串的对象，可以有零或多个值，<code>SET</code>列最多可以有 64 个成员，值为表创建时规定的一列值。指定包括多个<code>SET</code>成员的<code>SET</code>列值时，各成员之间用逗号,隔开：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET(&#x27;值1&#x27;, &#x27;值2&#x27;, …, &#x27;值n&#x27;)</span><br></pre></td></tr></table></figure>
<p>与<code>ENUM</code>类型相同，<code>SET</code>值在内部用整数表示，列表中每个值都有一个索引编号。当创建表时，<code>SET</code>成员值的尾部空格将自动删除。</p>
<p>但与<code>ENUM</code>类型不同的是，<code>ENUM</code>类型的字段只能从定义的列值中选择一个值插入，而<code>SET</code>类型的列可从定义的列值中选择多个字符的联合。</p>
<p>提示：如果插入<code>SET</code>字段中的列值有重复，则 MySQL 自动删除重复的值；插入<code>SET</code>字段的值的顺序并不重要，MySQL 会在存入数据库时，按照定义的顺序显示；如果插入了不正确的值，默认情况下，MySQL 将忽视这些值，给出警告。</p>
<h1 id="二进制类型"><a href="#二进制类型" class="headerlink" title="二进制类型"></a>二进制类型</h1><p>MySQL 支持两类字符型数据：文本字符串和二进制字符串。二进制字符串类型有时候也直接被称为“二进制类型”。</p>
<p>二进制字符串有<code>BIT、BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB</code>和<code>LONGBLOB</code>。</p>
<p>下表中列出了 MySQL 中的二进制数据类型，括号中的<code>M</code>表示可以为其指定长度。</p>
<table>
<thead>
<tr>
<th align="center">类型名称</th>
<th align="center">说明</th>
<th align="center">存储需求</th>
</tr>
</thead>
<tbody><tr>
<td align="center">BIT(M)</td>
<td align="center">位字段类型</td>
<td align="center">大约 (M+7)&#x2F;8 字节</td>
</tr>
<tr>
<td align="center">BINARY(M)</td>
<td align="center">固定长度二进制字符串</td>
<td align="center">M 字节</td>
</tr>
<tr>
<td align="center">VARBINARY(M)</td>
<td align="center">可变长度二进制字符串</td>
<td align="center">M+1 字节</td>
</tr>
<tr>
<td align="center">TINYBLOB(M)</td>
<td align="center">非常小的BLOB</td>
<td align="center">L+1 字节，在此，L&lt;2<sup>8</sup></td>
</tr>
<tr>
<td align="center">BLOB(M)</td>
<td align="center">小 BLOB</td>
<td align="center">L+2 字节，在此，L&lt;2<sup>16</sup></td>
</tr>
<tr>
<td align="center">MEDIUMBLOB(M)</td>
<td align="center">中等大小的BLOB</td>
<td align="center">L+3 字节，在此，L&lt;2<sup>24</sup></td>
</tr>
<tr>
<td align="center">LONGBLOB(M)</td>
<td align="center">非常大的BLOB</td>
<td align="center">L+4 字节，在此，L&lt;2<sup>32</sup></td>
</tr>
</tbody></table>
<h2 id="BIT-类型"><a href="#BIT-类型" class="headerlink" title="BIT 类型"></a>BIT 类型</h2><p>位字段类型。<code>M</code>表示每个值的位数，范围为 1~64。如果<code>M</code>被省略，默认值为 1。如果为<code>BIT(M)</code>列分配的值的长度小于<code>M</code>位，在值的左边用 0 填充。例如，为<code>BIT(6)</code>列分配一个值<code>b&#39;101&#39;</code>，其效果与分配<code>b&#39;000101&#39;</code>相同。</p>
<p><code>BIT</code>数据类型用来保存位字段值，例如以二进制的形式保存数据 13，13 的二进制形式为 1101，在这里需要位数至少为 4 位的<code>BIT</code>类型，即可以定义列类型为<code>BIT(4)</code>。大于二进制 1111 的数据是不能插入<code>BIT(4)</code>类型的字段中的。</p>
<p>提示：默认情况下，MySQL 不可以插入超出该列允许范围的值，因而插入数据时要确保插入的值在指定的范围内。</p>
<h2 id="BINARY-和-VARBINARY-类型"><a href="#BINARY-和-VARBINARY-类型" class="headerlink" title="BINARY 和 VARBINARY 类型"></a>BINARY 和 VARBINARY 类型</h2><p><code>BINARY</code>和<code>VARBINARY</code>类型类似于<code>CHAR</code>和<code>VARCHAR</code>，不同的是它们包含二进制字节字符串。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">列名称 BINARY(M) 或者 VARBINARY(M)</span><br></pre></td></tr></table></figure>
<p><code>BINARY</code>类型的长度是固定的，指定长度后，不足最大长度的，将在它们右边填充<code>\0</code>补齐，以达到指定长度。例如，指定列数据类型为<code>BINARY(3)</code>，当插入<code>a</code>时，存储的内容实际为<code>a\0\0</code>，当插入<code>ab</code>时，实际存储的内容为<code>ab\0</code>，无论存储的内容是否达到指定的长度，存储空间均为指定的值<code>M</code>。</p>
<p><code>VARBINARY</code>类型的长度是可变的，指定好长度之后，长度可以在 0 到最大值之间。例如，指定列数据类型为<code>VARBINARY(20)</code>，如果插入的值长度只有 10，则实际存储空间为 10 加 1，实际占用的空间为字符串的实际长度加 1。</p>
<h2 id="BLOB-类型"><a href="#BLOB-类型" class="headerlink" title="BLOB 类型"></a>BLOB 类型</h2><p><code>BLOB</code>是一个二进制的对象，用来存储可变数量的数据。<code>BLOB</code>类型分为 4 种：<code>TINYBLOB、BLOB、MEDIUMBLOB</code>和<code>LONGBLOB</code>。</p>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">存储范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">TINYBLOB</td>
<td align="center">最大长度为255 (2<sup>8</sup>-1)字节</td>
</tr>
<tr>
<td align="center">BLOB</td>
<td align="center">最大长度为65535 (2<sup>16</sup>-1)字节</td>
</tr>
<tr>
<td align="center">MEDIUMBLOB</td>
<td align="center">最大长度为16777215 (2<sup>24</sup>-1)字节</td>
</tr>
<tr>
<td align="center">LONGBLOB</td>
<td align="center">最大长度为4294967295或4GB (2<sup>31</sup>-1)字节</td>
</tr>
</tbody></table>
<p><code>BLOB</code>列存储的是二进制字符串（字节字符串），<code>TEXT</code>列存储的是非进制字符串（字符字符串）。<code>BLOB</code>列是字符集，并且排序和比较基于列值字节的数值；<code>TEXT</code>列有一个字符集，并且根据字符集对值进行排序和比较。</p>
<h1 id="数据类型的选择"><a href="#数据类型的选择" class="headerlink" title="数据类型的选择"></a>数据类型的选择</h1><p>MySQL 提供了大量的数据类型，为了优化存储和提高数据库性能，在任何情况下都应该使用最精确的数据类型。</p>
<p>可以说字符串类型是通用的数据类型，任何内容都可以保存在字符串中，数字和日期都可以表示成字符串形式。</p>
<p>但是也不能把所有的列都定义为字符串类型。对于数值类型，如果把它们设置为字符串类型的，会使用很多的空间。并且在这种情况下使用数值类型列来存储数字，比使用字符串类型更有效率。</p>
<p>另外需要注意的是，由于对数字和字符串的处理方式不同，查询结果也会存在差异。例如，对数字的排序与对字符串的排序是不一样的。</p>
<p>例如，数字 2 小于数字 11，但字符串<code>&#39;2&#39;</code>却比字符串<code>&#39;11&#39;</code>大。此问题可以通过把列放到数字上下文中来解决，如下面 SQL 语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> course<span class="operator">+</span><span class="number">0</span> <span class="keyword">as</span> num ... <span class="keyword">ORDER</span> <span class="keyword">BY</span> num;</span><br></pre></td></tr></table></figure>
<p>让<code>course</code>列加上 0，可以强制列按数字的方式来排序，但这么做很明显是不合理的。</p>
<p>如果让 MySQL 把一个字符串列当作一个数字列来对待，会引发很严重的问题。这样做会迫使让列里的每一个值都执行从字符串到数字的转换，操作效率低。而且在计算过程中使用这样的列，会导致 MySQL 不会使用这些列上的任何索引，从而进一步降低查询的速度。</p>
<p>所以我们在选择数据类型时要考虑存储、查询和整体性能等方面的问题。</p>
<p>在选择数据类型时，首先要考虑这个列存放的值是什么类型的。一般来说，用数值类型列存储数字、用字符类型列存储字符串、用时态类型列存储日期和时间。</p>
<h2 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h2><p>对于数值类型列，如果要存储的数字是整数（没有小数部分），则使用整数类型；如果要存储的数字是小数（带有小数部分），则可以选用<code>DECIMAL</code>或浮点类型，但是一般选择<code>FLOAT</code>类型。</p>
<p>例如，如果列的取值范围是 1<del>99999 之间的整数，则<code>MEDIUMINT UNSIGNED</code>类型是最好的选择。<code>MEDIUMINT</code>是整数类型，<code>UNSIGNED</code>用来将数字类型无符号化。比如<code>INT</code>类型的取值范围是 -2147483648</del>2147483647，那么<code>INT UNSIGNED</code>类型的取值范围就是 0~4294967295。</p>
<p>如果需要存储某些整数值，则值的范围决定了可选用的数据类型。如果取值范围是 0<del>1000，那么可以选择&#96;SMALLINT</del>BIGINT<code>之间的任何一种类型。如果取值范围超过了 200 万，则不能使用</code>SMALLINT<code>，可以选择的类型变为从</code>MEDIUMINT<code>到</code>BIGINT&#96;之间的某一种。</p>
<p>当然，完全可以为要存储的值选择一种最“大”的数据类型。但是，如果正确选择数据类型，不仅可以使表的存储空间变小，也会提高性能。因为与较长的列相比，较短的列的处理速度更快。当读取较短的值时，所需的磁盘读写操作会更少，并且可以把更多的键值放入内存索引缓冲区里。</p>
<p>如果无法获知各种可能值的范围，则只能靠猜测，或者使用<code>BIGINT</code>以满足最坏情况的需要。如果猜测的类型偏小，那么也不是就无药可救。将来，还可以使用<code>ALTER TABLE</code>让该列变得更大些。</p>
<p>如果数值类型需要存储的数据为货币，如人民币。在计算时，使用到的值常带有元和分两个部分。它们看起来像是浮点值，但<code>FLOAT</code>和<code>DOUBLE</code>类型都存在四舍五入的误差问题，因此不太适合。因为人们对自己的金钱都很敏感，所以需要一个可以提供完美精度的数据类型。</p>
<p>可以把货币表示成<code>DECIMAL(M, 2)</code>类型，其中<code>M</code>为所需取值范围的最大宽度。这种类型的数值可以精确到小数点后 2 位。<code>DECIMAL</code>的优点在于不存在舍入误差，计算是精确的。</p>
<p>对于电话号码、信用卡号和社会保险号都会使用非数字字符。因为空格和短划线不能直接存储到数字类型列里，除非去掉其中的非数字字符。但即使去掉了其中的非数字字符，也不能把它们存储成数值类型，以避免丢失开头的“零”。</p>
<h2 id="日期和时间类型-1"><a href="#日期和时间类型-1" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h2><p>MySQL 对于不同种类的日期和时间都提供了数据类型，比如<code>YEAR</code>和<code>TIME</code>。如果只需要记录年份，则使用<code>YEAR</code>类型即可；如果只记录时间，可以使用<code>TIME</code>类型。</p>
<p>如果同时需要记录日期和时间，则可以使用<code>TIMESTAMP</code>或者<code>DATETIME</code>类型。由于<code>TIMESTAMP</code>列的取值范围小于<code>DATETIME</code>的取值范围，因此存储较大的日期最好使用<code>DATETIME</code>。</p>
<p><code>TIMESTAMP</code>也有一个<code>DATETIME</code>不具备的属性。默认情况下，当插入一条记录但并没有指定<code>TIMESTAMP</code>这个列值时，MySQL 会把<code>TIMESTAMP</code>列设为当前的时间。因此当需要插入记录和当前时间时，使用<code>TIMESTAMP</code>是方便的，另外<code>TIMESTAMP</code>在空间上比<code>DATETIME</code>更有效。</p>
<p>MySQL 没有提供时间部分为可选的日期类型。<code>DATE</code>没有时间部分，<code>DATETIME</code>必须有时间部分。如果时间部分是可选的，那么可以使用<code>DATE</code>列来记录日期，再用一个单独的<code>TIME</code>列来记录时间。然后，设置<code>TIME</code>列可以为<code>NULL</code>。SQL 语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> mytb1 (</span><br><span class="line">  <span class="type">date</span> <span class="type">DATE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,  #日期是必需的</span><br><span class="line">  <span class="type">time</span> <span class="type">TIME</span> <span class="keyword">NULL</span>  #时间可选(可能为<span class="keyword">NULL</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="字符串类型-1"><a href="#字符串类型-1" class="headerlink" title="字符串类型"></a>字符串类型</h2><p>字符串类型没有像数字类型列那样的“取值范围”，但它们都有长度的概念。如果需要存储的字符串短于 256 个字符，那么可以使用<code>CHAR、VARCHAR</code>或<code>TINYTEXT</code>。如果需要存储更长一点的字符串，则可以选用<code>VARCHAR</code>或某种更长的<code>TEXT</code>类型。</p>
<p>如果某个字符串列用于表示某种固定集合的值，那么可以考虑使用数据类型<code>ENUM</code>或<code>SET</code>。</p>
<h4 id="CHAR-和-VARCHAR-之间的特点和选择"><a href="#CHAR-和-VARCHAR-之间的特点和选择" class="headerlink" title="CHAR 和 VARCHAR 之间的特点和选择"></a>CHAR 和 VARCHAR 之间的特点和选择</h4><p><code>CHAR</code>和<code>VARCHAR</code>的区别:</p>
<ul>
<li><code>CHAR</code>是固定长度字符，<code>VARCHAR</code>是可变长度字符。</li>
<li><code>CHAR</code>会自动删除插入数据的尾部空格，<code>VARCHAR</code>不会删除尾部空格。</li>
</ul>
<p><code>CHAR</code>是固定长度，所以它的处理速度比<code>VARCHAR</code>的速度要快，但是它的缺点就是浪费存储空间。所以对存储不大，但在速度上有要求的可以使用<code>CHAR</code>类型，反之可以使用<code>VARCHAR</code>类型来实现。</p>
<p>存储引擎对于选择<code>CHAR</code>和<code>VARCHAR</code>的影响:</p>
<ul>
<li>对于 MyISAM 存储引擎，最好使用固定长度的数据列代替可变长度的数据列。这样可以使整个表静态化，从而使数据检索更快，用空间换时间。</li>
<li>对于 InnoDB 存储引擎，最好使用可变长度的数据列，因为 InnoDB 数据表的存储格式不分固定长度和可变长度，因此使用<code>CHAR</code>不一定比使用<code>VARCHAR</code>更好，但由于<code>VARCHAR</code>是按照实际的长度存储，比较节省空间，所以对磁盘 I&#x2F;O 和数据存储总量比较好。</li>
</ul>
<h5 id="ENUM-和-SET"><a href="#ENUM-和-SET" class="headerlink" title="ENUM 和 SET"></a>ENUM 和 SET</h5><p><code>ENUM</code>只能取单值，它的数据列表是一个枚举集合。它的合法取值列表最多允许有 65535 个成员。因此，在需要从多个值中选取一个时，可以使用<code>ENUM</code>。</p>
<p><code>SET</code>可取多值。它的合法取值列表最多允许有 64 个成员。空字符串也是一个合法的<code>SET</code>值。在需要取多个值的时候，适合使用<code>SET</code>类型，比如，要存储一个人兴趣爱好，最好使用<code>SET</code>类型。</p>
<p><code>ENUM</code>和<code>SET</code>的值是以字符串形式出现的，但在内部，MySQL 以数值的形式存储它们。</p>
<h2 id="二进制类型-1"><a href="#二进制类型-1" class="headerlink" title="二进制类型"></a>二进制类型</h2><p><code>BLOB</code>是二进制字符串，<code>TEXT</code>是非二进制字符串，两者均可存放大容量的信息。<code>BLOB</code>主要存储图片、音频信息等，而<code>TEXT</code>只能存储纯文本文件。</p>
<h1 id="转义字符的使用"><a href="#转义字符的使用" class="headerlink" title="转义字符的使用"></a>转义字符的使用</h1><p>转义字符一般以反斜杠符号<code>\</code>开头，用来说明后面的字符不是字符本身的含义，而是表示其它的含义。</p>
<table>
<thead>
<tr>
<th align="center">转义字符</th>
<th align="center">转义后的字符</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&quot;</td>
<td align="center">双引号（”）</td>
</tr>
<tr>
<td align="center">&#39;</td>
<td align="center">单引号（’）</td>
</tr>
<tr>
<td align="center"><code>\\</code></td>
<td align="center">反斜线（\）</td>
</tr>
<tr>
<td align="center">\n</td>
<td align="center">换行符</td>
</tr>
<tr>
<td align="center">\r</td>
<td align="center">回车符</td>
</tr>
<tr>
<td align="center">\t</td>
<td align="center">制表符</td>
</tr>
<tr>
<td align="center">\0</td>
<td align="center">SCII 0（NUL）</td>
</tr>
<tr>
<td align="center">\b</td>
<td align="center">退格符</td>
</tr>
</tbody></table>
<p>转义字符区分大小写，例如：<code>\b</code>解释为退格，但<code>\B</code>解释为<code>B</code>。</p>
<p>有以下几点需要注意：</p>
<ul>
<li>字符串的内容包含单引号<code>&#39;</code>时，可以用单引号<code>&#39;</code>或反斜杠<code>\</code>来转义。</li>
<li>字符串的内容包含双引号<code>&quot;</code>时，可以用双引号<code>&quot;</code>或反斜杠<code>\</code>来转义。</li>
<li>一个字符串用双引号<code>&quot;</code>引用时，该字符串中的单引号<code>&#39;</code>不需要特殊对待，且不必被重复转义。同理，一个字符串用单引号<code>&#39;</code>引用时，该字符串中的双引号<code>&quot;</code>不需要特殊对待，且不必被重复转义。</li>
</ul>
<p>如果想要把二进制数据插入到一个<code>BLOB</code>列，下列字符必须使用反斜杠<code>\</code>转义：   </p>
<ul>
<li><code>NUL</code>：ASCII 0。可以使用<code>\0</code>表示。   </li>
<li><code>\</code>：ASCII 92，反斜线。用<code>\\</code>表示。 </li>
<li><code>&#39;</code>：ASCII 39，单引号。用<code>\&#39;</code>表示。   </li>
<li><code>&quot;</code>：ASCII 34，双引号。用<code>\&quot;</code>表示。</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-前端/css/CSS动画"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/06/%E5%89%8D%E7%AB%AF/css/CSS%E5%8A%A8%E7%94%BB/"
    >CSS动画特效</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/06/%E5%89%8D%E7%AB%AF/css/CSS%E5%8A%A8%E7%94%BB/" class="article-date">
  <time datetime="2020-04-06T08:31:09.000Z" itemprop="datePublished">2020-04-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-text</span>=<span class="string">&quot;Start&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-ghost btn-border-stroke  btn-text-float-up&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn-borders&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;border-top&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;border-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;border-bottom&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;border-left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;btn-text&quot;</span>&gt;</span>Start<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span> &#123;</span><br><span class="line">  <span class="attr">--hue</span>: 190;</span><br><span class="line">  <span class="attr">--ease-in-duration</span>: 0.25s;</span><br><span class="line">  <span class="attr">--ease-in-exponential</span>: cubic-bezier(0.95, 0.05, 0.795, 0.035);</span><br><span class="line">  <span class="attr">--ease-out-duration</span>: 0.65s;</span><br><span class="line">  <span class="attr">--ease-out-delay</span>: var(<span class="attr">--ease-in-duration</span>);</span><br><span class="line">  <span class="attr">--ease-out-exponential</span>: cubic-bezier(0.19, 1, 0.22, 1);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">3rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">  <span class="attribute">outline</span>: transparent;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  user-select: <span class="attribute">none;</span></span><br><span class="line"><span class="attribute">  white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.25s</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">31%</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-primary</span> &#123;</span><br><span class="line">    <span class="attr">--hue</span>: 171;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-ghost</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: white;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-border-stroke</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="built_in">hsla</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>, <span class="number">0.35</span>);</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.btn-borders</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-top</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="attribute">transform-origin</span>: left;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-right</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="attribute">transform-origin</span>: bottom;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-bottom</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="attribute">transform-origin</span>: left;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-left</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="attribute">transform-origin</span>: bottom;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// when unhover, ease-out left, bottom; ease-in right, top</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-left</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-out-duration) <span class="built_in">var</span>(--ease-out-delay)</span><br><span class="line">          <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.border-bottom</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-out-duration) <span class="built_in">var</span>(--ease-out-delay)</span><br><span class="line">          <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-right</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-in-duration) <span class="built_in">var</span>(--ease-in-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.border-top</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-in-duration) <span class="built_in">var</span>(--ease-in-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="built_in">hsl</span>(<span class="built_in">var</span>(--hue), <span class="number">100%</span>, <span class="number">41%</span>);</span><br><span class="line">      <span class="attribute">background</span>: transparent;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-top</span>,</span><br><span class="line">      <span class="selector-class">.border-bottom</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.border-left</span>,</span><br><span class="line">      <span class="selector-class">.border-right</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// when hover, ease-in left, bottom; ease-out right, top</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-left</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-in-duration) <span class="built_in">var</span>(--ease-in-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.border-bottom</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-in-duration) <span class="built_in">var</span>(--ease-in-exponential);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.border-right</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-out-duration) <span class="built_in">var</span>(--ease-out-delay)</span><br><span class="line">          <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-class">.border-top</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: <span class="built_in">var</span>(--ease-out-duration) <span class="built_in">var</span>(--ease-out-delay)</span><br><span class="line">          <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-text-float-up</span> &#123;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">attr</span>(data-text);</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">justify-content</span>: center;</span><br><span class="line">      <span class="attribute">align-items</span>: center;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">35%</span>);</span><br><span class="line">      <span class="attribute">transition</span>: <span class="number">0.25s</span> ease-out;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// when hover, ease-in top-text; ease-out bottom-text</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.btn-text</span> &#123;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">transition</span>: <span class="number">0.75s</span> <span class="number">0.1s</span> <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="comment">// when hover, ease-in bottom-text; ease-out top-text</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.btn-text</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">25%</span>);</span><br><span class="line">        <span class="attribute">transition</span>: <span class="number">0.25s</span> ease-out;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">&amp;</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="attribute">transition</span>: <span class="number">0.75s</span> <span class="number">0.1s</span> <span class="built_in">var</span>(--ease-out-exponential);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/06/%E5%89%8D%E7%AB%AF/css/CSS%E5%8A%A8%E7%94%BB/gif1.gif" class="">

<h2 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;title slide-bar&quot;</span>&gt;</span>I&#x27;m alphardex.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;subtitle slide-bar&quot;</span>&gt;</span>A CSS Wizard<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.slide-bar</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">  <span class="attribute">animation</span>: fill-text-white <span class="number">2s</span> <span class="number">1.6s</span> forwards;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#35b9f1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: left;</span><br><span class="line">    <span class="attribute">animation</span>: slide-in-out <span class="number">2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.75</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>) forwards;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> slide-in-out &#123;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">50.1%</span> &#123;</span><br><span class="line">    <span class="attribute">transform-origin</span>: right;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: right;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> fill-text-white &#123;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="selector-class">.title</span>,</span><br><span class="line">  <span class="selector-class">.subtitle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Lora, serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#FF4081</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.subtitle</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Lato, sans-serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">animation-delay</span>: <span class="number">3.2s</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#03A9F4</span>;</span><br><span class="line">      <span class="attribute">animation-delay</span>: <span class="number">2s</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/06/%E5%89%8D%E7%AB%AF/css/CSS%E5%8A%A8%E7%94%BB/gif2.gif" class=""> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-MySQL/MySQL数据库的基本操作"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/05/MySQL/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"
    >MySQL数据库的基本操作</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/05/MySQL/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2020-04-05T08:52:01.000Z" itemprop="datePublished">2020-04-05</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a> / <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h1><p>可使用<code>SHOW DATABASES</code>语句来查看或显示当前用户权限范围内的数据库。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES [<span class="keyword">LIKE</span> <span class="string">&#x27;数据库名&#x27;</span>];</span><br></pre></td></tr></table></figure>
<p>语法说明如下：</p>
<ul>
<li><code>LIKE</code>从句是可选项，用于匹配指定的数据库名称。<code>LIKE</code>从句可以部分匹配，也可以完全匹配。</li>
<li>数据库名由单引号<code>&#39; &#39;</code>包围。</li>
</ul>
<h2 id="实例1：查看所有数据库"><a href="#实例1：查看所有数据库" class="headerlink" title="实例1：查看所有数据库"></a>实例1：查看所有数据库</h2><p>列出当前用户可查看的所有数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sakila             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">5</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.22</span> sec)</span><br></pre></td></tr></table></figure>
<p>可以发现，在上面的列表中有 5 个数据库，它们都是安装 MySQL 时系统自动创建的，其各自功能如下：</p>
<ul>
<li><code>information_schema</code>：主要存储了系统中的一些数据库对象信息，比如用户表信息、列信息、权限信息、字符集信息和分区信息等。</li>
<li><code>mysql</code>：MySQL 的核心数据库，主要负责存储数据库用户、用户访问权限等 MySQL 自己需要使用的控制和管理信息。常用的比如在<code>mysql</code>数据库的<code>user</code>表中修改<code>root</code>用户密码。</li>
<li><code>performance_schema</code>：主要用于收集数据库服务器性能参数。</li>
<li><code>sakila</code>：MySQL 提供的样例数据库，该数据库共有 16 张表，这些数据表都是比较常见的，在设计数据库时，可以参照这些样例数据表来快速完成所需的数据表。</li>
<li><code>sys</code>：<code>sys</code>数据库主要提供了一些视图，数据都来自于<code>performation_schema</code>，主要是让开发者和使用者更方便地查看性能问题。</li>
</ul>
<h2 id="实例2：使用-LIKE-从句"><a href="#实例2：使用-LIKE-从句" class="headerlink" title="实例2：使用 LIKE 从句"></a>实例2：使用 LIKE 从句</h2><p>先创建三个数据库，名字分别为<code>test_db、db_test、db_test_db</code>。</p>
<ol>
<li>使用<code>LIKE</code>从句，查看与<code>test_db</code>完全匹配的数据库：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES <span class="keyword">LIKE</span> <span class="string">&#x27;test_db&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database (test_db) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> test_db            <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li>
<li>使用<code>LIKE</code>从句，查看名字中包含<code>test</code>的数据库：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES <span class="keyword">LIKE</span> <span class="string">&#x27;%test%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database (<span class="operator">%</span>test<span class="operator">%</span>)  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> db_test            <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> db_test_db         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> test_db            <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li>
<li>使用<code>LIKE</code>从句，查看名字以<code>db</code>开头的数据库：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES <span class="keyword">LIKE</span> <span class="string">&#x27;db%&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> Database (db<span class="operator">%</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> db_test        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> db_test_db     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li>
<li>使用<code>LIKE</code>从句，查看名字以<code>db</code>结尾的数据库：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES <span class="keyword">LIKE</span> <span class="string">&#x27;%db&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> Database (<span class="operator">%</span>db) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> db_test_db     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="operator">|</span> test_db        <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------------+</span></span><br><span class="line"><span class="number">2</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h1><p>可以使用<code>CREATE DATABASE</code>语句创建数据库：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br><span class="line">[[<span class="keyword">DEFAULT</span>] <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">&lt;</span>字符集名<span class="operator">&gt;</span>] </span><br><span class="line">[[<span class="keyword">DEFAULT</span>] <span class="keyword">COLLATE</span> <span class="operator">&lt;</span>校对规则名<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>
<p><code>[ ]</code>中的内容是可选的。语法说明如下：</p>
<ul>
<li><code>&lt;数据库名&gt;</code>：创建数据库的名称。MySQL 的数据存储区将以目录方式表示 MySQL 数据库，因此数据库名称必须符合操作系统的文件夹命名规则，不能以数字开头，尽量要有实际意义。注意在 MySQL 中不区分大小写。</li>
<li><code>IF NOT EXISTS</code>：在创建数据库之前进行判断，只有该数据库目前尚不存在时才能执行操作。此选项可以用来避免数据库已经存在而重复创建的错误。</li>
<li><code>[DEFAULT] CHARACTER SET</code>：指定数据库的字符集。指定字符集的目的是为了避免在数据库中存储的数据出现乱码的情况。如果在创建数据库时不指定字符集，那么就使用系统的默认字符集。</li>
<li><code>[DEFAULT] COLLATE</code>：指定字符集的默认校对规则。</li>
</ul>
<p>MySQL 的字符集（<code>CHARACTER</code>）和校对规则（<code>COLLATION</code>）是两个不同的概念。字符集是用来定义 MySQL 存储字符串的方式，校对规则定义了比较字符串的方式。</p>
<h2 id="实例1：最简单的创建-MySQL-数据库的语句"><a href="#实例1：最简单的创建-MySQL-数据库的语句" class="headerlink" title="实例1：最简单的创建 MySQL 数据库的语句"></a>实例1：最简单的创建 MySQL 数据库的语句</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE test_db;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.12</span> sec);</span><br></pre></td></tr></table></figure>
<p>若再次输入<code>CREATE DATABASE test_db;</code>语句，则系统会给出错误提示信息：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE test_db;</span><br><span class="line">ERROR <span class="number">1007</span> (HY000): Can<span class="string">&#x27;t create database &#x27;</span>test_db<span class="string">&#x27;; database exists</span></span><br></pre></td></tr></table></figure>
<p>提示不能创建<code>test_db</code>数据库，数据库已存在。MySQL 不允许在同一系统下创建两个相同名称的数据库。</p>
<p>可以加上<code>IF NOT EXISTS</code>从句，就可以避免类似错误。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> test_db;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.12</span> sec)</span><br></pre></td></tr></table></figure>
<h2 id="实例2：创建-MySQL-数据库时指定字符集和校对规则"><a href="#实例2：创建-MySQL-数据库时指定字符集和校对规则" class="headerlink" title="实例2：创建 MySQL 数据库时指定字符集和校对规则"></a>实例2：创建 MySQL 数据库时指定字符集和校对规则</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> test_db_char</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">DEFAULT</span> <span class="keyword">COLLATE</span> utf8_chinese_ci;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.03</span> sec)</span><br></pre></td></tr></table></figure>
<p>这时，可以使用<code>SHOW CREATE DATABASE</code>查看<code>test_db_char</code>数据库的定义声明，发现该数据库的指定字符集为<code>utf8</code>：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE test_db_char;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Database     <span class="operator">|</span> <span class="keyword">Create</span> Database                                                       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> test_db_char <span class="operator">|</span> <span class="keyword">CREATE</span> DATABASE `test_db_char` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<h1 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h1><p>在 MySQL 数据库中只能对数据库使用的字符集和校对规则进行修改，数据库的这些特性都储存在<code>db.opt</code>文件中。</p>
<p>在 MySQL 中，可以使用<code>ALTER DATABASE</code>来修改已经被创建或者存在的数据库的相关参数。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE [数据库名] [</span><br><span class="line">[ <span class="keyword">DEFAULT</span> ] <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="operator">&lt;</span>字符集名<span class="operator">&gt;</span> <span class="operator">|</span></span><br><span class="line">[ <span class="keyword">DEFAULT</span> ] <span class="keyword">COLLATE</span> <span class="operator">&lt;</span>校对规则名<span class="operator">&gt;</span>]</span><br></pre></td></tr></table></figure>
<p>语法说明如下：</p>
<ul>
<li><code>ALTER DATABASE</code>用于更改数据库的全局特性。</li>
<li>使用<code>ALTER DATABASE</code>需要获得数据库<code>ALTER</code>权限。</li>
<li>数据库名称可以忽略，此时语句对应于默认数据库。</li>
<li><code>CHARACTER SET</code>子句用于更改默认的数据库字符集。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE test_db;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Database <span class="operator">|</span> <span class="keyword">Create</span> Database                                                 <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> test_db  <span class="operator">|</span> <span class="keyword">CREATE</span> DATABASE `test_db` <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+-----------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.05</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">ALTER</span> DATABASE test_db</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">DEFAULT</span> <span class="type">CHARACTER</span> <span class="keyword">SET</span> gb2312</span><br><span class="line">    <span class="operator">-</span><span class="operator">&gt;</span> <span class="keyword">DEFAULT</span> <span class="keyword">COLLATE</span> gb2312_chinese_ci;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE test_db;</span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> Database <span class="operator">|</span> <span class="keyword">ALTER</span> Database                                                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> test_db  <span class="operator">|</span> <span class="keyword">ALTER</span> DATABASE `test_db` <span class="comment">/*!40100 DEFAULT CHARACTER SET gb2312 */</span><span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+------------------------------------------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<h1 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h1><p>删除数据库是将已经存在的数据库从磁盘空间上清除，清除之后，数据库中的所有数据也将一同被删除。</p>
<p>当需要删除已创建的数据库时，可以使用<code>DROP DATABASE</code>语句。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE [IF <span class="keyword">EXISTS</span>] <span class="operator">&lt;</span>数据库名<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>
<p>语法说明如下：</p>
<ul>
<li><code>&lt;数据库名&gt;</code>：指定要删除的数据库名。</li>
<li><code>IF EXISTS</code>：用于防止当数据库不存在时发生错误。</li>
<li><code>DROP DATABASE</code>：删除数据库中的所有表格并同时删除数据库。使用此语句时要非常小心，以免错误删除。如果要使用<code>DROP DATABASE</code>，需要获得数据库<code>DROP </code>权限。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE test_db_del;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.08</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sakila             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_db            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_db_char       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_db_del        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> world              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">DROP</span> DATABASE test_db_del;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected (<span class="number">0.57</span> sec)</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SHOW</span> DATABASES;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> Database           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> information_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> mysql              <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> performance_schema <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sakila             <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sys                <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_db            <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> test_db_char       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> world              <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">8</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec) </span><br></pre></td></tr></table></figure>
<p>此时数据库<code>test_db_del</code>不存在。再次执行相同的命令，直接使用<code>DROP DATABASE test_db_del</code>，系统会报错：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">DROP</span> DATABASE test_db_del;</span><br><span class="line">ERROR <span class="number">1008</span> (HY000): Can<span class="string">&#x27;t drop database &#x27;</span>test_db_del<span class="string">&#x27;; database doesn&#x27;</span>t exist</span><br></pre></td></tr></table></figure>
<p>如果使用<code>IF EXISTS</code>从句，可以防止系统报此类错误：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> test_db_del;</span><br><span class="line">Query OK, <span class="number">0</span> <span class="keyword">rows</span> affected, <span class="number">1</span> warning (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>
<p>使用<code>DROP DATABASE</code>命令时要非常谨慎，在执行该命令后，MySQL 不会给出任何提示确认信息。<code>DROP DATABASE</code>删除数据库后，数据库中存储的所有数据表和数据也将一同被删除，而且不能恢复。因此最好在删除数据库之前先将数据库进行备份。</p>
<h1 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h1><p>在 MySQL 中就有很多系统自带的数据库，那么在操作数据库之前就必须要确定是哪一个数据库。</p>
<p><code>USE</code>语句用来完成一个数据库到另一个数据库的跳转。</p>
<p>当用<code>CREATE DATABASE</code>语句创建数据库之后，该数据库不会自动成为当前数据库，需要用<code>USE</code>来指定当前数据库。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE &lt;数据库名&gt;;</span><br></pre></td></tr></table></figure>
<p>该语句可以通知 MySQL 把<code>&lt;数据库名&gt;</code>所指示的数据库作为当前数据库。该数据库保持为默认数据库，直到语段的结尾，或者直到遇见一个不同的<code>USE</code>语句。只有使用<code>USE</code>语句来指定某个数据库作为当前数据库之后，才能对该数据库及其存储的数据对象执行操作。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> USE test_db;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure>
<p>在执行选择数据库语句时，如果出现<code>Database changed</code>提示，则表示选择数据库成功。</p>
<p>可以使用<code>SELECT DATABASE();</code>查看当前使用的数据库。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-webpack/webpack配置项"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/04/webpack/webpack%E9%85%8D%E7%BD%AE%E9%A1%B9/"
    >webpack配置项</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/04/webpack/webpack%E9%85%8D%E7%BD%AE%E9%A1%B9/" class="article-date">
  <time datetime="2020-04-04T12:27:31.000Z" itemprop="datePublished">2020-04-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/webpack/">webpack</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>webpack 是需要传入一个配置对象。</p>
<p>整个配置中我们使用 Node 内置的<code>path</code>模块，并在它前面加上<code>__dirname</code>这个全局变量。可以防止不同操作系统之间的文件路径问题，并且可以使相对路径按照预期工作。</p>
<h1 id="模式-mode"><a href="#模式-mode" class="headerlink" title="模式(mode)"></a>模式(mode)</h1><p><code>mode</code>配置选项用来指定当前的构建环境。<br>设置<code>mode</code>可以使用 webpack 内置的函数，默认值为<code>production</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&quot;production&quot;</span> <span class="comment">// production | development | none</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">选项</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>development</code></td>
<td align="left">会将<code>process.env.NODE_ENV</code>的值设为<code>development</code>。启用<code>NamedChunksPlugin</code>和<code>NamedModulesPlugin</code>。</td>
</tr>
<tr>
<td align="center"><code>production</code></td>
<td align="left">会将<code>process.env.NODE_ENV</code>的值设为<code>production</code>。启用<code>FlagDependencyUsagePlugin</code>，<code>FlagIncludedChunksPlugin</code>，<code>ModuleConcatenationPlugin</code>，<code>NoEmitOnErrorsPlugin</code>，<code>OccurrenceOrderPlugin</code>，<code>SideEffectsFlagPlugin</code>和<code>UglifyJsPlugin</code>。</td>
</tr>
<tr>
<td align="center"><code>none</code></td>
<td align="left">不开启任何优化选项</td>
</tr>
</tbody></table>
<h1 id="入口-entry"><a href="#入口-entry" class="headerlink" title="入口(entry)"></a>入口(entry)</h1><p><code>entry</code>用来指定 webpack 的打包入口。<br>简单规则：每个 HTML 页面都有一个入口起点。单页应用(SPA)：一个入口起点，多页应用(MPA)：多个入口起点。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&quot;./app/entry&quot;</span>, <span class="comment">// string | object | array</span></span><br><span class="line">  <span class="comment">// 如果传递一个数组，那么数组的每一项都会执行</span></span><br><span class="line">  <span class="attr">entry</span>: [<span class="string">&quot;./app/entry1&quot;</span>, <span class="string">&quot;./app/entry2&quot;</span>],</span><br><span class="line">  <span class="attr">entry</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="string">&quot;./app/entry-a&quot;</span>,</span><br><span class="line">    <span class="attr">b</span>: [<span class="string">&quot;./app/entry-b1&quot;</span>, <span class="string">&quot;./app/entry-b2&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果传入一个字符串或字符串数组，<code>chunk</code>会被命名为<code>main</code>。如果传入一个对象，则每个键(<code>key</code>)会是<code>chunk</code>的名称，该值描述了<code>chunk</code>的入口起点。</p>
<h1 id="输出-output"><a href="#输出-output" class="headerlink" title="输出(output)"></a>输出(output)</h1><p><code>output</code>用来告诉 webpack 如何将编译后的文件输出到磁盘。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// webpack 如何输出结果的相关选项</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;dist&quot;</span>), <span class="comment">// string</span></span><br><span class="line">    <span class="comment">// 所有输出文件的目标路径</span></span><br><span class="line">    <span class="comment">// 必须是绝对路径（使用 Node.js 的 path 模块）</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>, <span class="comment">// string</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;[name].js&quot;</span>, <span class="comment">// 用于多个入口点</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;[chunkhash].js&quot;</span>, <span class="comment">// 用于长效缓存</span></span><br><span class="line">    <span class="comment">// 「入口分块(entry chunk)」的文件名模板</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>, <span class="comment">// string</span></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&quot;https://cdn.example.com/&quot;</span>,</span><br><span class="line">    <span class="comment">// 输出解析文件的目录，url 相对于 HTML 页面</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">library</span>: <span class="string">&quot;MyLibrary&quot;</span>, <span class="comment">// string, 导出库(exported library)的名称</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">libraryTarget</span>: <span class="string">&quot;umd&quot;</span>, <span class="comment">// 通用模块定义</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;umd2&quot;</span>, <span class="comment">// 通用模块定义</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;commonjs2&quot;</span>, <span class="comment">// exported with module.exports</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;commonjs-module&quot;</span>, <span class="comment">// 使用 module.exports 导出</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;commonjs&quot;</span>, <span class="comment">// 作为 exports 的属性导出</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;amd&quot;</span>, <span class="comment">// 使用 AMD 定义方法来定义</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;this&quot;</span>, <span class="comment">// 在 this 上设置属性</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;var&quot;</span>, <span class="comment">// 变量定义于根作用域下</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;assign&quot;</span>, <span class="comment">// 盲分配(blind assignment)</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;window&quot;</span>, <span class="comment">// 在 window 对象上设置属性</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;global&quot;</span>, <span class="comment">// property set to global object</span></span><br><span class="line">        <span class="attr">libraryTarget</span>: <span class="string">&quot;jsonp&quot;</span>, <span class="comment">// jsonp wrapper</span></span><br><span class="line">    <span class="comment">// 导出库(exported library)的类型</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="output-path"><a href="#output-path" class="headerlink" title="output.path"></a>output.path</h2><p><code>output</code>目录对应一个绝对路径。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist/assets&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="output-filename"><a href="#output-filename" class="headerlink" title="output.filename"></a>output.filename</h2><p>此选项决定了每个输出<code>bundle</code>的名称。这些<code>bundle</code>将写入到<code>output.path</code>选项指定的目录下。</p>
<p>对于单个入口起点，<code>filename</code>会是一个静态名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span></span><br></pre></td></tr></table></figure>
<p>然而，当通过多个入口起点、代码拆分或各种插件创建多个<code>bundle</code>，应该使用以下一种替换方式，来赋予每个<code>bundle</code>一个唯一的名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用入口名称：</span></span><br><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[name].bundle.js&quot;</span></span><br><span class="line"><span class="comment">// 使用内部chunk id</span></span><br><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[id].bundle.js&quot;</span></span><br><span class="line"><span class="comment">// 使用每次构建过程中，唯一的 hash 生成</span></span><br><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[name].[hash].bundle.js&quot;</span></span><br><span class="line"><span class="comment">// 使用基于每个 chunk 内容的 hash：</span></span><br><span class="line"><span class="attr">filename</span>: <span class="string">&quot;[chunkhash].bundle.js&quot;</span></span><br></pre></td></tr></table></figure>
<p>可以使用以下替换模板字符串：</p>
<table>
<thead>
<tr>
<th align="center">模板</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>[hash]</code></td>
<td align="center">模块标识符的<code>hash</code></td>
</tr>
<tr>
<td align="center"><code>[chunkhash]</code></td>
<td align="center"><code>chunk</code>内容的<code>hash</code></td>
</tr>
<tr>
<td align="center"><code>[name]</code></td>
<td align="center">模块名称</td>
</tr>
<tr>
<td align="center"><code>[id]</code></td>
<td align="center">模块标识符</td>
</tr>
<tr>
<td align="center"><code>[query]</code></td>
<td align="center">模块的<code>query</code>，例如，文件名<code>?</code>后面的字符串</td>
</tr>
</tbody></table>
<p><code>[hash]</code>和<code>[chunkhash]</code>的长度可以使用<code>[hash:16]</code>（默认为20）来指定。</p>
<h2 id="output-publicPath"><a href="#output-publicPath" class="headerlink" title="output.publicPath"></a>output.publicPath</h2><p>对于按需加载或加载外部资源（如图片、文件等）来说，<code>output.publicPath</code>是很重要的选项。如果指定了一个错误的值，则在加载这些资源时会收到 404 错误。</p>
<p>此选项指定在浏览器中所引用的「此输出目录对应的公开 URL」。相对 URL会被相对于 HTML 页面（或<code>&lt;base&gt;</code>标签）解析。相对于服务的 URL，相对于协议的 URL或绝对 URL 也可是可能用到的，或者有时必须用到，例如：当将资源托管到 CDN 时。</p>
<p>该选项的值是以<code>runtime</code>(运行时) 或<code>loader</code>(载入时) 所创建的每个 URL 为前缀。因此，在多数情况下，此选项的值都会以<code>/</code>结束。</p>
<p>默认值是一个空字符串<code>&quot;&quot;</code>。</p>
<p>简单规则如下：<code>output.path</code>中的 URL 以 HTML 页面为基准。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;public/assets&quot;</span>),</span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;https://cdn.example.com/assets/&quot;</span></span><br></pre></td></tr></table></figure>
<p>对于这个配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>,</span><br><span class="line"><span class="attr">chunkFilename</span>: <span class="string">&quot;[id].chunk.js&quot;</span></span><br></pre></td></tr></table></figure>
<p>对于一个<code>chunk</code>请求，看起来像这样<code>/assets/4.chunk.js</code>。</p>
<p>对于一个输出 HTML 的<code>loader</code>可能会像这样输出：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/assets/spinner.gif&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>或者在加载 CSS 的一个图片时：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-image: url(/assets/spinner.gif);</span><br></pre></td></tr></table></figure>
<p><code>webpack-dev-server</code>也会默认从<code>publicPath</code>为基准，使用它来决定在哪个目录下启用服务，来访问 webpack 输出的文件。</p>
<p>注意，参数中的<code>[hash]</code>将会被替换为编译过程的<code>hash</code>。</p>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;https://cdn.example.com/assets/&quot;</span>, <span class="comment">// CDN（总是 HTTPS 协议）</span></span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;//cdn.example.com/assets/&quot;</span>, <span class="comment">// CDN (协议相同)</span></span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>, <span class="comment">// 相对于服务</span></span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;assets/&quot;</span>, <span class="comment">// 相对于 HTML 页面</span></span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;../assets/&quot;</span>, <span class="comment">// 相对于 HTML 页面</span></span><br><span class="line"><span class="attr">publicPath</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// 相对于 HTML 页面（目录相同）</span></span><br></pre></td></tr></table></figure>
<h1 id="模块-module"><a href="#模块-module" class="headerlink" title="模块(module)"></a>模块(module)</h1><p>这些选项决定了如何处理项目中的不同类型的模块。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="comment">// 关于模块配置</span></span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// 模块规则（配置 loader、解析器等选项）</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">        <span class="attr">include</span>: [</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>)</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">exclude</span>: [</span><br><span class="line">          path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app/demo-files&quot;</span>)</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// 这里是匹配条件，每个选项都接收一个正则表达式或字符串</span></span><br><span class="line">        <span class="comment">// test 和 include 具有相同的作用，都是必须匹配选项</span></span><br><span class="line">        <span class="comment">// exclude 是必不匹配选项（优先于 test 和 include）</span></span><br><span class="line">        <span class="comment">// 最佳实践：</span></span><br><span class="line">        <span class="comment">// - 只在 test 和 文件名匹配 中使用正则表达式</span></span><br><span class="line">        <span class="comment">// - 在 include 和 exclude 中使用绝对路径数组</span></span><br><span class="line">        <span class="comment">// - 尽量避免 exclude，更倾向于使用 include</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;babel-loader&quot;</span>,</span><br><span class="line">        <span class="comment">// 应该应用的 loader，它相对上下文解析</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">presets</span>: [<span class="string">&quot;es2015&quot;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// loader 的可选项</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.html$/</span>,</span><br><span class="line">        <span class="attr">test</span>: <span class="string">&quot;\.html$&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// 应用多个 loader 和选项</span></span><br><span class="line">          <span class="string">&quot;htmllint-loader&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&quot;html-loader&quot;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="comment">/* ... */</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="attr">noParse</span>: [</span><br><span class="line">      <span class="regexp">/special-library\.js$/</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 不解析这里的模块</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="module-rules"><a href="#module-rules" class="headerlink" title="module.rules"></a>module.rules</h2><p>创建模块时，匹配请求的规则数组。这些规则能够修改模块的创建方式。这些规则能够对模块应用<code>loader</code>，或者修改解析器。</p>
<h2 id="module-noParse"><a href="#module-noParse" class="headerlink" title="module.noParse"></a>module.noParse</h2><p>防止 webpack 解析那些任何与给定正则表达式相匹配的文件。忽略的文件中不应该含有<code>import, require, define</code>的调用，或任何其他导入机制。忽略大型的<code>library</code>可以提高构建性能。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从 webpack 3.0.0 开始</span></span><br><span class="line"><span class="attr">noParse</span>: <span class="keyword">function</span>(<span class="params">content</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/jquery|lodash/</span>.<span class="title function_">test</span>(content);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="解析-resolve"><a href="#解析-resolve" class="headerlink" title="解析(resolve)"></a>解析(resolve)</h1><p>这些选项能设置模块如何被解析。例如，当调用<code>import &quot;lodash&quot;</code>，<code>resolve</code>选项能够对 webpack 查找<code>lodash</code>的方式去做修改。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="comment">// 解析模块请求的选项</span></span><br><span class="line">    <span class="comment">// （不适用于对 loader 解析）</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">modules</span>: [</span><br><span class="line">      <span class="string">&quot;node_modules&quot;</span>,</span><br><span class="line">      path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>)</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 用于查找模块的目录</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>, <span class="string">&quot;.json&quot;</span>, <span class="string">&quot;.jsx&quot;</span>, <span class="string">&quot;.css&quot;</span>],</span><br><span class="line">    <span class="comment">// 使用的扩展名</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="comment">// 模块别名列表</span></span><br><span class="line"></span><br><span class="line">      <span class="string">&quot;module&quot;</span>: <span class="string">&quot;new-module&quot;</span>,</span><br><span class="line">      <span class="comment">// 起别名：&quot;module&quot; -&gt; &quot;new-module&quot; 和 &quot;module/path/file&quot; -&gt; &quot;new-module/path/file&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="string">&quot;only-module$&quot;</span>: <span class="string">&quot;new-module&quot;</span>,</span><br><span class="line">      <span class="comment">// 起别名 &quot;only-module&quot; -&gt; &quot;new-module&quot;，但不匹配 &quot;only-module/path/file&quot; -&gt; &quot;new-module/path/file&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="string">&quot;module&quot;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app/third/module.js&quot;</span>),</span><br><span class="line">      <span class="comment">// 起别名 &quot;module&quot; -&gt; &quot;./app/third/module.js&quot; 和 &quot;module/file&quot; 会导致错误</span></span><br><span class="line">      <span class="comment">// 模块别名相对于当前上下文导入</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="resolve-alias"><a href="#resolve-alias" class="headerlink" title="resolve.alias"></a>resolve.alias</h2><p>创建<code>import</code>或<code>require</code>的别名，来确保模块引入变得更简单。例如，一些位于<code>src/</code>文件夹下的常用模块：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">alias</span>: &#123;</span><br><span class="line">  <span class="title class_">Utilities</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src/utilities/&#x27;</span>),</span><br><span class="line">  <span class="title class_">Templates</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src/templates/&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在，替换「在导入时使用相对路径」这种方式，就像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Utility</span> <span class="keyword">from</span> <span class="string">&#x27;../../utilities/utility&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>你可以这样使用别名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Utility</span> <span class="keyword">from</span> <span class="string">&#x27;Utilities/utility&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>也可以在给定对象的键后的末尾添加<code>$</code>，以表示精准匹配：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">alias</span>: &#123;</span><br><span class="line">  <span class="attr">xyz$</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;path/to/file.js&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这将产生以下结果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Test1</span> <span class="keyword">from</span> <span class="string">&#x27;xyz&#x27;</span>; <span class="comment">// 精确匹配，所以 path/to/file.js 被解析和导入</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Test2</span> <span class="keyword">from</span> <span class="string">&#x27;xyz/file.js&#x27;</span>; <span class="comment">// 非精确匹配，触发普通解析</span></span><br></pre></td></tr></table></figure>
<h2 id="resolve-extensions"><a href="#resolve-extensions" class="headerlink" title="resolve.extensions"></a>resolve.extensions</h2><p>自动解析确定的扩展。默认值为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>, <span class="string">&quot;.json&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>能够使用户在引入模块时不带扩展：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">File</span> <span class="keyword">from</span> <span class="string">&#x27;../path/to/file&#x27;</span></span><br></pre></td></tr></table></figure>
<p>使用此选项，会覆盖默认数组，这就意味着 webpack 将不再尝试使用默认扩展来解析模块。对于使用其扩展导入的模块，例如，<code>import SomeFile from &quot;./somefile.ext&quot;</code>，要想正确的解析，一个包含“*”的字符串必须包含在数组中。</p>
<h1 id="devtool"><a href="#devtool" class="headerlink" title="devtool"></a>devtool</h1><p>此选项控制是否生成，以及如何生成<code>source map</code>。</p>
<p>使用<code>SourceMapDevToolPlugin</code>进行更细粒度的配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;source-map&quot;</span>, <span class="comment">// enum</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;inline-source-map&quot;</span>, <span class="comment">// 嵌入到源文件中</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;eval-source-map&quot;</span>, <span class="comment">// 将 SourceMap 嵌入到每个模块中</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;hidden-source-map&quot;</span>, <span class="comment">// SourceMap 不在源文件中引用</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;cheap-source-map&quot;</span>, <span class="comment">// 没有模块映射(module mappings)的 SourceMap 低级变体</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;cheap-module-source-map&quot;</span>, <span class="comment">// 有模块映射的 SourceMap 低级变体</span></span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&quot;eval&quot;</span>, <span class="comment">// 没有模块映射，而是命名模块。以牺牲细节达到最快。</span></span><br><span class="line">  <span class="comment">// 通过在浏览器调试工具(browser devtools)中添加元信息增强调试</span></span><br><span class="line">  <span class="comment">// 牺牲了构建速度的 `source-map&#x27; 是最详细的。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="context"><a href="#context" class="headerlink" title="context"></a>context</h1><p>基础目录，绝对路径，用于从配置中解析入口起点和<code>loader</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;app&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>默认使用当前目录，但是推荐在配置中传递一个值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">   <span class="attr">context</span>: __dirname, <span class="comment">// string（绝对路径！）</span></span><br><span class="line">  <span class="comment">// webpack 的主目录</span></span><br><span class="line">  <span class="comment">// entry 和 module.rules.loader 选项</span></span><br><span class="line">  <span class="comment">// 相对于此目录解析</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="开发中-Server-devServer"><a href="#开发中-Server-devServer" class="headerlink" title="开发中 Server(devServer)"></a>开发中 Server(devServer)</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">   <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123; <span class="comment">// proxy URLs to backend development server</span></span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">contentBase</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;public&#x27;</span>), <span class="comment">// boolean | string | array, static file location</span></span><br><span class="line">    <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">// enable gzip compression</span></span><br><span class="line">    <span class="attr">historyApiFallback</span>: <span class="literal">true</span>, <span class="comment">// true for index.html upon 404, object for multiple paths</span></span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>, <span class="comment">// hot module replacement. Depends on HotModuleReplacementPlugin</span></span><br><span class="line">    <span class="attr">https</span>: <span class="literal">false</span>, <span class="comment">// true for self-signed, object for cert authority</span></span><br><span class="line">    <span class="attr">noInfo</span>: <span class="literal">true</span>, <span class="comment">// only errors &amp; warns on hot reload</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="插件-plugins"><a href="#插件-plugins" class="headerlink" title="插件(plugins)"></a>插件(plugins)</h1><p><code>plugins</code>选项用于以各种方式自定义 webpack 构建过程。webpack 附带了各种内置插件，可以通过<code>webpack.[plugin-name]</code>访问这些插件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="comment">// 例如，当多个 bundle 共享一些相同的依赖，</span></span><br><span class="line">    <span class="comment">// CommonsChunkPlugin 有助于提取这些依赖到共享的 bundle 中，来避免重复打包。</span></span><br><span class="line">    <span class="keyword">new</span> webpack.<span class="property">optimize</span>.<span class="title class_">CommonsChunkPlugin</span>(&#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-前端/css/CSS代码片段"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"
    >CSS代码片段</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" class="article-date">
  <time datetime="2020-04-04T12:27:31.000Z" itemprop="datePublished">2020-04-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="截断文本"><a href="#截断文本" class="headerlink" title="截断文本"></a>截断文本</h1><p>如果文本长度超过一行，它将被截断并以省略号结束。<br>仅适用于单个行元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;truncate-text&quot;</span>&gt;</span>If I exceed one line&#x27;s width, I will be truncated.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.truncate-text</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果宽度超过200像素...</span><br></pre></td></tr></table></figure>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><ul>
<li><code>overflow: hidden</code>：防止文本溢出其尺寸(对于块，100 %宽度和自动高度)。</li>
<li><code>white-space: nowrap</code>：防止文本高度超过一行。</li>
<li><code>text-overflow: ellipsis</code>：使其在文本超出其维度时以省略号结尾。</li>
<li><code>width: 200px</code>：确保元素具有维度，以知道何时获取省略号</li>
</ul>
<h1 id="居中"><a href="#居中" class="headerlink" title="居中"></a>居中</h1><h2 id="网格居中"><a href="#网格居中" class="headerlink" title="网格居中"></a>网格居中</h2><p>使用<code>grid</code>在父元素内水平和垂直居中放置子元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-centering&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>Centered content.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid-centering</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h4><ul>
<li><code>display: grid</code>：启用网格。</li>
<li><code>justify-content: center</code>：将子元素水平居中。</li>
<li><code>align-items: center</code>：将子元素垂直居中。</li>
</ul>
<h2 id="Flexbox垂直居中"><a href="#Flexbox垂直居中" class="headerlink" title="Flexbox垂直居中"></a>Flexbox垂直居中</h2><p>使用<code>flexbox</code>在父元素内水平和垂直居中放置子元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flexbox-centering&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span>Centered content.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flexbox-centering</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="说明-2"><a href="#说明-2" class="headerlink" title="说明"></a>说明</h4><ul>
<li><code>display: flex</code>：启用弹性箱。</li>
<li><code>justify-content: center</code>：将子元素水平居中。</li>
<li><code>align-items: center</code>：将子元素垂直居中。</li>
</ul>
<h2 id="定位居中"><a href="#定位居中" class="headerlink" title="定位居中"></a>定位居中</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line"># 动态阴影</span><br><span class="line">创建与类似的阴影`box-shadow`而是基于元素本身的颜色。</span><br><span class="line">```html</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dynamic-shadow-parent&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dynamic-shadow&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dynamic-shadow-parent</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dynamic-shadow</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">75deg</span>, <span class="number">#6d78ff</span>, <span class="number">#00ffb8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dynamic-shadow</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">background</span>: inherit;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">0.4rem</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.7</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="说明-3"><a href="#说明-3" class="headerlink" title="说明"></a>说明</h2><p>代码片段需要一些复杂的情况来正确堆叠上下文，这样伪元素将定位在元素本身的下面，同时仍然可见。</p>
<ul>
<li><code>position: relative</code>：在父元素上为子元素建立笛卡尔定位上下文。</li>
<li><code>z-index: 1</code>：建立新的堆叠内容。</li>
<li><code>position: relative</code>：在子级上建立伪元素的定位上下文。</li>
<li><code>::after</code>：定义伪元素。</li>
<li><code>position: absolute</code>：从文档流中取出伪元素，并将其相对于父元素定位。</li>
<li><code>width: 100% 和height: 100%</code>：调整伪元素的大小以填充其父元素的尺寸，使其大小相等。</li>
<li><code>background: inherit</code>：使伪元素继承在元素上指定的线性渐变。</li>
<li><code>top: 0.5rem</code>：将伪元素从其父元素稍微向下偏移。</li>
<li><code>filter: blur(0.4rem)</code>：将模糊伪元素以在下面创建阴影的外观。</li>
<li><code>opacity: 0.7</code>：使伪元素部分透明。</li>
<li><code>z-index: -1</code>：将伪元素定位在父元素后面。</li>
</ul>
<h1 id="渐变文本"><a href="#渐变文本" class="headerlink" title="渐变文本"></a>渐变文本</h1><p>为文本提供渐变颜色。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;gradient-text&quot;</span>&gt;</span>Gradient text<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.gradient-text</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(pink, red);</span><br><span class="line">  -webkit-text-fill-<span class="attribute">color</span>: transparent;</span><br><span class="line">  -webkit-<span class="attribute">background-clip</span>: text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/img1.png" class="">
<h2 id="说明-4"><a href="#说明-4" class="headerlink" title="说明"></a>说明</h2><ul>
<li><code>background: -webkit-linear-gradient(...)</code>：为文本元素提供渐变背景。</li>
<li><code>webkit-text-fill-color: transparent</code>：使用透明颜色填充文本。</li>
<li><code>webkit-background-clip: text</code>：用文本剪辑背景，用渐变背景作为颜色填充文本。</li>
</ul>
<h1 id="鼠标光标渐变跟踪"><a href="#鼠标光标渐变跟踪" class="headerlink" title="鼠标光标渐变跟踪"></a>鼠标光标渐变跟踪</h1><p>渐变跟随鼠标光标的悬停效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;mouse-cursor-gradient-tracking&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Hover me<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">]<span class="selector-class">.mouse-cursor-gradient-tracking</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#7983ff</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5rem</span> <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mouse-cursor-gradient-tracking</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mouse-cursor-gradient-tracking</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attr">--size</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="built_in">var</span>(--x);</span><br><span class="line">  <span class="attribute">top</span>: <span class="built_in">var</span>(--y);</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">var</span>(--size);</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">var</span>(--size);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle closest-side, pink, transparent);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transition</span>: width <span class="number">0.2s</span> ease, height <span class="number">0.2s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mouse-cursor-gradient-tracking</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attr">--size</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.mouse-cursor-gradient-tracking&#x27;</span>)</span><br><span class="line">btn.<span class="property">onmousemove</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> x = e.<span class="property">pageX</span> - btn.<span class="property">offsetLeft</span></span><br><span class="line">  <span class="keyword">var</span> y = e.<span class="property">pageY</span> - btn.<span class="property">offsetTop</span></span><br><span class="line">  btn.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--x&#x27;</span>, x + <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">  btn.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--y&#x27;</span>, y + <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>如果元素的父级具有定位上下文(<code>position: relative</code>)，您还需要减去它的偏移量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = e.<span class="property">pageX</span> - btn.<span class="property">offsetLeft</span> - btn.<span class="property">offsetParent</span>.<span class="property">offsetLeft</span></span><br><span class="line"><span class="keyword">var</span> y = e.<span class="property">pageY</span> - btn.<span class="property">offsetTop</span> - btn.<span class="property">offsetParent</span>.<span class="property">offsetTop</span></span><br></pre></td></tr></table></figure>
<h1 id="三角形"><a href="#三角形" class="headerlink" title="三角形"></a>三角形</h1><p>使用纯CSS创建三角形形状。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;triangle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.triangle</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">20px</span> solid <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="说明-5"><a href="#说明-5" class="headerlink" title="说明"></a>说明</h2><p>边框的颜色是三角形的颜色。 三角形尖端点的边对应于相反的<code>border-*</code>属性。 例如，<code>border-top</code>的颜色表示箭头指向下方。</p>
<p><code>px</code>值来改变三角形的比例。</p>
<h1 id="弹跳加载中"><a href="#弹跳加载中" class="headerlink" title="弹跳加载中"></a>弹跳加载中</h1><p>创建反弹加载程序动画。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bouncing-loader&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> bouncing-loader &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">1rem</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bouncing-loader</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bouncing-loader</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3rem</span> <span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#8385aa</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>: bouncing-loader <span class="number">0.6s</span> infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bouncing-loader</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bouncing-loader</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/gif1.gif" class="">
<h2 id="说明-6"><a href="#说明-6" class="headerlink" title="说明"></a>说明</h2><p>注:<code>1rem</code>通常是<code>16px</code>。</p>
<ul>
<li><code>@keyframes</code>定义了一个具有两种状态的动画，其中元素更改<code>opacity</code>并使用<code>transform: translateY()</code>在2D平面上进行<code>transform: translateY()</code>。</li>
<li><code>.bouncing-loader</code>是弹跳圆圈的父容器，使用<code>display: flex</code>和<code>justify-content: center</code>将它们放置在中心位置。</li>
<li><code>.bouncing-loader &gt; div</code>，将父级的三个子<code>div</code>作为样式。<code>div</code>的宽度和高度为<code>1rem</code>，使用<code>border-radius: 50%</code>将它们从正方形变成圆形。</li>
<li><code>margin: 3rem 0.2rem</code>指定每个圆的上边距&#x2F;下边距为<code>3rem</code>和左&#x2F;右边距<code>0.2rem</code>以便它们不直接接触对方，给它们一些呼吸空间。</li>
<li><code>animation</code>是各种动画属性的缩写属性：使用<code>animation-name</code>，<code>animation-duration</code>，* <code>animation-iteration-count</code>， <code>animation-direction</code>。</li>
<li><code>nth-child(n)</code>目标是其父元素的第n个子元素。</li>
<li><code>animation-delay</code>分别用于第二个和第三个<code>div</code>，以便每个元素不会同时启动动画。</li>
</ul>
<h1 id="环形旋转器"><a href="#环形旋转器" class="headerlink" title="环形旋转器"></a>环形旋转器</h1><p>创建可用于指示内容加载的圆环微调器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;donut&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> donut-spin &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.donut</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#7983ff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">animation</span>: donut-spin <span class="number">1.2s</span> linear infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/gif2.gif" class="">
<h2 id="说明-7"><a href="#说明-7" class="headerlink" title="说明"></a>说明</h2><p>使用半透明的<code>border</code>对于整个元素，除了用作圆环加载指示器的一侧。使用<code>animation</code>旋转元素。</p>
<h1 id="悬停下划线动画"><a href="#悬停下划线动画" class="headerlink" title="悬停下划线动画"></a>悬停下划线动画</h1><p>当文本悬停在上面时创建动画下划线效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;hover-underline-animation&quot;</span>&gt;</span>Hover this text to see the effect!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hover-underline-animation</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hover-underline-animation</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0087ca</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom right;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.25s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hover-underline-animation</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: bottom left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/gif3.gif" class="">
<h2 id="说明-8"><a href="#说明-8" class="headerlink" title="说明"></a>说明</h2><ul>
<li><code>display: inline-block</code>使块<code>pp</code>成为<code>一inline-block</code>以防止下划线跨越整个父级宽度而不仅仅是内容(文本)。</li>
<li><code>position: relative</code>在元素上为伪元素建立笛卡尔定位上下文。</li>
<li><code>::after</code>定义伪元素。</li>
<li><code>position: absolute</code>从文档流中取出伪元素，并将其相对于父元素定位。</li>
<li><code>width: 100%</code>确保伪元素跨越文本块的整个宽度。</li>
<li><code>transform: scaleX(0)</code>最初将伪元素缩放为0，使其没有宽度且不可见。</li>
<li><code>bottom: 0 和left: 0</code>将其放置在块的左下方。</li>
<li><code>transition: transform 0.25s ease-out</code>意味着<code>transform</code>变化将通过<code>ease-out</code>时间功能在0.25秒内过渡。</li>
<li><code>transform-origin: bottom right</code>表示变换锚点位于块的右下方。</li>
<li><code>:hover::after</code>然后使用<code>scaleX(1)</code>将宽度转换为100％，然后将<code>transform-origin</code>更改为<code>bottom left</code>以便定位点反转，从而允许其在悬停时转换到另一个方向。</li>
</ul>
<h1 id="交错动画"><a href="#交错动画" class="headerlink" title="交错动画"></a>交错动画</h1><p>通过设置不同的延迟时间，达到动画交错播放的效果。</p>
<p>举个栗子，比如有十个元素播放十个动画，将第二个元素的动画播放时间设定为比第一个元素晚0.5秒（也就是将延迟设为0.5秒），其他元素以此类推，这样它们就会错开来，形成一种独特的视觉效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loading</span> &#123;</span><br><span class="line">  $colors: #7ef9ff, #89cff0, #4682b4, #0f52ba, #000080;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">1s</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.dot</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0.8em</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">background</span>: inherit;</span><br><span class="line">      <span class="attribute">border-radius</span>: inherit;</span><br><span class="line">      <span class="attribute">animation</span>: wave <span class="number">2s</span> ease-out infinite;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@for</span> $i from <span class="number">1</span> through <span class="number">5</span> &#123;</span><br><span class="line">      <span class="selector-tag">&amp;</span><span class="selector-pseudo">:nth-child</span>(#&#123;$<span class="selector-tag">i</span>&#125;) &#123;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">nth</span>($colors, $i);</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">&amp;</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">          <span class="attribute">animation-delay</span>: $i * <span class="number">0.2s</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@keyframes</span> wave &#123;</span><br><span class="line">  <span class="number">50%</span>, <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">80%</span>, <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/04/%E5%89%8D%E7%AB%AF/css/CSS%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/gif4.gif" class="">
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-前端/css/CSS常见问题"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/02/%E5%89%8D%E7%AB%AF/css/CSS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/"
    >CSS常见问题</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/02/%E5%89%8D%E7%AB%AF/css/CSS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2020-04-02T12:27:31.000Z" itemprop="datePublished">2020-04-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="display-inline-block"><a href="#display-inline-block" class="headerlink" title="display:inline-block"></a>display:inline-block</h1><p>两个<code>display: inline-block</code>元素放到一起会产生一段空白。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="/2020/04/02/%E5%89%8D%E7%AB%AF/css/CSS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/img1.png" class="">

<h2 id="产生空白的原因"><a href="#产生空白的原因" class="headerlink" title="产生空白的原因"></a>产生空白的原因</h2><p>元素被当成行内元素排版的时候，元素之间的空白符（空格、回车换行等）都会被浏览器处理，根据CSS中<code>white-space</code>属性的处理方式（默认是normal，合并多余空白），原来HTML代码中的回车换行被转成一个空白符，在字体不为0的情况下，空白符占据一定宽度，所以<code>inline-block</code>的元素之间就出现了空隙。</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><ol>
<li>将子元素标签的结束符和下一个标签的开始符写在同一行或把所有子标签写在同一行。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>左<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>右<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>父元素中设置<code>font-size: 0</code>，在子元素上重置正确的<code>font-size</code>。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>为子元素设置<code>float: left</code>。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* right是同理 */</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="background-position"><a href="#background-position" class="headerlink" title="background-position"></a>background-position</h1><p>在CSS中，背景图片的定位方法有3种：</p>
<ul>
<li>关键字：<code>background-position: top left;</code></li>
<li>像素：<code>background-position: 0px 0px;</code></li>
<li>百分比：<code>background-position: 0% 0%;</code></li>
</ul>
<p>上面这三句语句，都将图片定位在背景的左上角，表面上看效果是一样的，实际上第三种定位机制与前两种完全不同。</p>
<p>前两种定位，都是将背景图片左上角的原点，放置在规定的位置。<br>但是第三种定位，也就是百分比定位，不是这样。它的放置规则是，图片本身<code>（x%,y%）</code>的那个点，与背景区域的<code>（x%,y%）</code>的那个点重合。</p>
<h1 id="删除-type-x3D-”number”-末尾的箭头"><a href="#删除-type-x3D-”number”-末尾的箭头" class="headerlink" title="删除 type&#x3D;”number” 末尾的箭头"></a>删除 type&#x3D;”number” 末尾的箭头</h1><img src="/2020/04/02/%E5%89%8D%E7%AB%AF/css/CSS%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/2.gif" class="">

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.no-arrow</span>::-webkit-outer-spin-button,</span><br><span class="line">.no-arrow::-webkit-inner-spin-button &#123;</span><br><span class="line">  -webkit-appearance: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="outline-none-删除输入状态线"><a href="#outline-none-删除输入状态线" class="headerlink" title="outline:none 删除输入状态线"></a>outline:none 删除输入状态线</h1><p>当输入框被选中时，它默认会有一条蓝色的状态线，可以通过使用<code>outline: none</code>来移除它。</p>
<h1 id="不允许选择文本"><a href="#不允许选择文本" class="headerlink" title="不允许选择文本"></a>不允许选择文本</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  user-select: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="单行文本溢出时显示省略号"><a href="#单行文本溢出时显示省略号" class="headerlink" title="单行文本溢出时显示省略号"></a>单行文本溢出时显示省略号</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line"><span class="attribute">max-width</span>: <span class="number">375px</span>;</span><br></pre></td></tr></table></figure>
<h1 id="多行文本溢出时显示省略号"><a href="#多行文本溢出时显示省略号" class="headerlink" title="多行文本溢出时显示省略号"></a>多行文本溢出时显示省略号</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line"></span><br><span class="line"><span class="attribute">display</span>: -webkit-box;</span><br><span class="line"><span class="comment">/* set n lines, including 1 */</span></span><br><span class="line">-webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">-webkit-box-orient: vertical;</span><br></pre></td></tr></table></figure>
<h1 id="解决-img-5px-间距的问题"><a href="#解决-img-5px-间距的问题" class="headerlink" title="解决 img 5px 间距的问题"></a>解决 img 5px 间距的问题</h1><p>方案1：设置父元素字体大小为 0</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img-container</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方案2：将<code>img</code>元素设置为<code>display: block</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方案3：将<code>img</code>元素设置为<code>vertical-align: bottom</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解决方案4：给父元素设置<code>line-height: 5px</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.img-container</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="修改-input-placeholder-样式"><a href="#修改-input-placeholder-样式" class="headerlink" title="修改 input placeholder 样式"></a>修改 input placeholder 样式</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.placehoder-custom</span>::-webkit-input-placeholder &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#babbc1</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="IOS-手机容器滚动条滑动不流畅"><a href="#IOS-手机容器滚动条滑动不流畅" class="headerlink" title="IOS 手机容器滚动条滑动不流畅"></a>IOS 手机容器滚动条滑动不流畅</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">overflow: auto;</span><br><span class="line">-webkit-overflow-scrolling: touch;</span><br></pre></td></tr></table></figure>

<h1 id="平滑滚动"><a href="#平滑滚动" class="headerlink" title="平滑滚动"></a>平滑滚动</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  scroll-behavior: smooth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="禁用textarea文本框调整大小"><a href="#禁用textarea文本框调整大小" class="headerlink" title="禁用textarea文本框调整大小"></a>禁用textarea文本框调整大小</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">textarea</span><span class="selector-class">.no-resize</span> &#123;</span><br><span class="line">  <span class="attribute">resize</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">textarea</span><span class="selector-class">.horizontal-resize</span> &#123;</span><br><span class="line">  <span class="attribute">resize</span>: horizontal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">textarea</span><span class="selector-class">.vertical-resize</span> &#123;</span><br><span class="line">  <span class="attribute">resize</span>: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="首字下沉"><a href="#首字下沉" class="headerlink" title="首字下沉"></a>首字下沉</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::first-letter</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">250%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="改变输入框光标的颜色"><a href="#改变输入框光标的颜色" class="headerlink" title="改变输入框光标的颜色"></a>改变输入框光标的颜色</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">caret-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="限制输入框值的范围"><a href="#限制输入框值的范围" class="headerlink" title="限制输入框值的范围"></a>限制输入框值的范围</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:in-range</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, .<span class="number">25</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:out-of-range</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">25</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-vue/从0搭建后台管理系统"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"
    >从0搭建后台管理系统</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" class="article-date">
  <time datetime="2020-04-02T12:25:44.000Z" itemprop="datePublished">2020-04-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/vue/">vue</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create vue-admin</span><br></pre></td></tr></table></figure>
<p>提示选择一个preset（预置项），或自定义：</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img1.jpg" class="">
<p>选择自定义选项：</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img2.jpg" class="">
<p>路由是否使用History模式？Y</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img3.jpg" class="">
<p>选择一种CSS预处理：Less （如果安装Sass&#x2F;SCSS，需要本地预先安装python）</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img4.jpg" class="">
<p>选择一种代码格式化规范类型：ESLint + Standard config</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img5.jpg" class="">
<p>保存时检测 还是 提交时检测并修复：Lint on save</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img6.jpg" class="">
<p>将以上配置存放到哪里？In dedicated config files （单独文件中）</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img7.jpg" class="">
<p>是否保存为preset（预设项，以后可以使用的,就不用像这样再一步一步来）：Y</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img8.jpg" class="">
<p>保存preset为（给预置项个名字）：All</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img9.jpg" class="">
<p>之后系统自动安装项目并生成preset（预置项）</p>
<img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img10.jpg" class="">

<h1 id="修改项目目录"><a href="#修改项目目录" class="headerlink" title="修改项目目录"></a>修改项目目录</h1><img src="/2020/04/02/vue/%E4%BB%8E0%E6%90%AD%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/img11.jpg" class="">

<p>说明</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">├── public  打包所需静态资源</span><br><span class="line">└── src</span><br><span class="line">    ├── api  AJAX请求</span><br><span class="line">    └── assets  项目静态资源</span><br><span class="line">        ├── icons  自定义图标资源</span><br><span class="line">        └── images  图片资源</span><br><span class="line">    ├── components  业务组件</span><br><span class="line">    ├── config  项目运行配置</span><br><span class="line">    ├── libs  封装工具函数</span><br><span class="line">    ├── mock  mock模拟数据</span><br><span class="line">    ├── router  路由配置</span><br><span class="line">    ├── store  Vuex配置</span><br><span class="line">    └── view  页面文件</span><br></pre></td></tr></table></figure>

<h1 id="路由配置"><a href="#路由配置" class="headerlink" title="路由配置"></a>路由配置</h1><p>路由配置承担着重要的作用，它影响着如下内容：</p>
<ul>
<li>左侧菜单内容</li>
<li>是否缓存该页</li>
<li>该页面图标（显示在菜单、面包屑和Tab标签）</li>
</ul>
<p>接下来来看如何配置路由。<br>路由的配置是在<code>&#39;./src/router&#39;</code>文件夹下，<code>&#39;./src/router/index.js&#39;</code>文件中定义路由拦截的逻辑，<code>&#39;./src/router/routers.js&#39;</code>文件中定义页面路由信息。</p>
<h2 id="路由可配项"><a href="#路由可配项" class="headerlink" title="路由可配项"></a>路由可配项</h2><p>路由中的<code>meta</code>除了原生参数外可配置的参数:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">meta: &#123;</span><br><span class="line">  hideInMenu: (default: false) 设为true后在左侧菜单不会显示该页面选项</span><br><span class="line">  showAlways: (default: false) 设为true后如果该路由只有一个子路由，在菜单中也会显示该父级菜单</span><br><span class="line">  notCache: (default: false) 设为true后页面不会缓存</span><br><span class="line">  access: (default: null) 可访问该页面的权限数组，当前路由设置的权限会影响子路由</span><br><span class="line">  icon: (default: -) 该页面在左侧菜单、面包屑和标签导航处显示的图标，如果是自定义图标，需要在图标名称前加下划线&#x27;_&#x27;</span><br><span class="line">  href: &#x27;https://xxx&#x27; (default: null) 用于跳转到外部连接</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跳转到其他网页，在新窗口打开"><a href="#跳转到其他网页，在新窗口打开" class="headerlink" title="跳转到其他网页，在新窗口打开"></a>跳转到其他网页，在新窗口打开</h2><p>你可以在菜单栏中显示一个任意连接，并且点击该菜单项会打开新窗口展示链接到的页面。在路由中需要如下定义：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lison16&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">href</span>: <span class="string">&#x27;https://wsq01.github.com/&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;_love&#x27;</span>,</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;WSQ的github首页&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>这样在菜单栏中点击WSQ的github首页这一项就会打开一个新窗口，跳转到<code>https://wsq01.github.com/</code>。</p>
<h2 id="在独立页面展示的页面"><a href="#在独立页面展示的页面" class="headerlink" title="在独立页面展示的页面"></a>在独立页面展示的页面</h2><p>如登录页、错误页这种独立的页面，无需使用Layout组件，则直接定义在<code>routers.js</code>中<code>export default []</code>的数组中，如登录页的定义如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="comment">// 必须项</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span>, <span class="comment">// 必须项，后面缓存页面需要用到，且这个name是唯一的</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Login - 登录&#x27;</span>,</span><br><span class="line">      <span class="attr">hideInMenu</span>: <span class="literal">true</span> <span class="comment">// 是否在左侧菜单中隐藏，默认为false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/login/login.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/* 其他路由 */</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="在Main组件展示区域中展示的页面"><a href="#在Main组件展示区域中展示的页面" class="headerlink" title="在Main组件展示区域中展示的页面"></a>在Main组件展示区域中展示的页面</h2><p>页面作为多Tab页展示，在Layout组件的视图区域显示，则需要在用到子路由，定义如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;_home&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Main</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">hideInMenu</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">notCache</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">hideInMenu</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;首页&#x27;</span>,</span><br><span class="line">          <span class="attr">notCache</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;md-home&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/single-page/home&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/multilevel&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;multilevel&#x27;</span>, <span class="comment">// 一级目录</span></span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;arrow-graph-up-right&#x27;</span>,</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;多级菜单&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Main</span>, <span class="comment">// 一级目录必须使用Main组件作为component</span></span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;level_2_1&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;level_2_1&#x27;</span>, <span class="comment">// 一级目录下的二级页面</span></span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;arrow-graph-up-right&#x27;</span>,</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;二级-1&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/multilevel/level-1.vue&#x27;</span>) <span class="comment">// 这引入的是页面单文件</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;level_2_2&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;level_2_2&#x27;</span>,</span><br><span class="line">        <span class="attr">meta</span>: &#123;</span><br><span class="line">          <span class="attr">access</span>: [<span class="string">&#x27;super_admin&#x27;</span>], <span class="comment">// 权限控制&lt;Array&gt;，包含可访问该页面的用户权限</span></span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;arrow-graph-up-right&#x27;</span>,</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;二级-2&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">component</span>: parentView, <span class="comment">// 如果该路由不是页面，而是二级即更多级目录，需要用parentView组件</span></span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;level_2_2_1&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;level_2_2_1&#x27;</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123;</span><br><span class="line">              <span class="attr">icon</span>: <span class="string">&#x27;arrow-graph-up-right&#x27;</span>,</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;三级&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/multilevel/level-2/level-2-1.vue&#x27;</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/401&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;error_401&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">hideInMenu</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/error-page/401.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/500&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;error_500&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">hideInMenu</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/error-page/500.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;*&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;error_404&#x27;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">      <span class="attr">hideInMenu</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/view/error-page/404.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="路由拦截"><a href="#路由拦截" class="headerlink" title="路由拦截"></a>路由拦截</h2><p>在<code>./src/router/index.js</code>文件中，你可以配置路由跳转时的路由守卫。你可以设置文件中的<code>LOGIN_PAGE_NAME</code>常量，其默认值是<code>login</code>，这个就是路由列表中你的登录页面的<code>name</code>值，如果你的登录页面<code>name</code>值为<code>login</code>，则无需修改。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/" rel="tag">vue</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/23/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/">37</a><a class="extend next" rel="next" href="/page/25/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2017-2023
        <i class="ri-heart-fill heart_icon"></i> WSQ
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="学海无涯"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>复制</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>